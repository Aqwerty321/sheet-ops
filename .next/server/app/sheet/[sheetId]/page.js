/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/sheet/[sheetId]/page";
exports.ids = ["app/sheet/[sheetId]/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsheet%2F%5BsheetId%5D%2Fpage&page=%2Fsheet%2F%5BsheetId%5D%2Fpage&appPaths=%2Fsheet%2F%5BsheetId%5D%2Fpage&pagePath=private-next-app-dir%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx&appDir=%2Fhome%2Faadit%2Fsheet-ops%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faadit%2Fsheet-ops&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsheet%2F%5BsheetId%5D%2Fpage&page=%2Fsheet%2F%5BsheetId%5D%2Fpage&appPaths=%2Fsheet%2F%5BsheetId%5D%2Fpage&pagePath=private-next-app-dir%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx&appDir=%2Fhome%2Faadit%2Fsheet-ops%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faadit%2Fsheet-ops&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'sheet',\n        {\n        children: [\n        '[sheetId]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/sheet/[sheetId]/page.tsx */ \"(rsc)/./app/sheet/[sheetId]/page.tsx\")), \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/home/aadit/sheet-ops/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/sheet/[sheetId]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/sheet/[sheetId]/page\",\n        pathname: \"/sheet/[sheetId]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZzaGVldCUyRiU1QnNoZWV0SWQlNUQlMkZwYWdlJnBhZ2U9JTJGc2hlZXQlMkYlNUJzaGVldElkJTVEJTJGcGFnZSZhcHBQYXRocz0lMkZzaGVldCUyRiU1QnNoZWV0SWQlNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGc2hlZXQlMkYlNUJzaGVldElkJTVEJTJGcGFnZS50c3gmYXBwRGlyPSUyRmhvbWUlMkZhYWRpdCUyRnNoZWV0LW9wcyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1Qix3S0FBdUY7QUFDOUc7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5Qiw0SUFBeUU7QUFDbEcsb0JBQW9CLDBOQUFnRjtBQUNwRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFDNkQ7QUFDcEYsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDdUQ7QUFDdkQ7QUFDTyx3QkFBd0IsOEdBQWtCO0FBQ2pEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8/NjU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdzaGVldCcsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ1tzaGVldElkXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9hcHAvc2hlZXQvW3NoZWV0SWRdL3BhZ2UudHN4XCIpLCBcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9hcHAvc2hlZXQvW3NoZWV0SWRdL3BhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvaG9tZS9hYWRpdC9zaGVldC1vcHMvYXBwL2xheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9hcHAvc2hlZXQvW3NoZWV0SWRdL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvc2hlZXQvW3NoZWV0SWRdL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvc2hlZXQvW3NoZWV0SWRdL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL3NoZWV0L1tzaGVldElkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsheet%2F%5BsheetId%5D%2Fpage&page=%2Fsheet%2F%5BsheetId%5D%2Fpage&appPaths=%2Fsheet%2F%5BsheetId%5D%2Fpage&pagePath=private-next-app-dir%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx&appDir=%2Fhome%2Faadit%2Fsheet-ops%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faadit%2Fsheet-ops&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fcomponents%2FGlobalClickSpark.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fcomponents%2FGlobalClickSpark.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/components/GlobalClickSpark.tsx */ \"(ssr)/./app/components/GlobalClickSpark.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZhYWRpdCUyRnNoZWV0LW9wcyUyRmFwcCUyRmNvbXBvbmVudHMlMkZHbG9iYWxDbGlja1NwYXJrLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJTJGYXBwJTJGZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNMQUEySCIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8/MGM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvaG9tZS9hYWRpdC9zaGVldC1vcHMvYXBwL2NvbXBvbmVudHMvR2xvYmFsQ2xpY2tTcGFyay50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fcomponents%2FGlobalClickSpark.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/sheet/[sheetId]/page.tsx */ \"(ssr)/./app/sheet/[sheetId]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZhYWRpdCUyRnNoZWV0LW9wcyUyRmFwcCUyRnNoZWV0JTJGJTVCc2hlZXRJZCU1RCUyRnBhZ2UudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSx3S0FBdUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvP2U5ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9hYWRpdC9zaGVldC1vcHMvYXBwL3NoZWV0L1tzaGVldElkXS9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fapp%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZhYWRpdCUyRnNoZWV0LW9wcyUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGY2xpZW50LXBhZ2UuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZob21lJTJGYWFkaXQlMkZzaGVldC1vcHMlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZub3QtZm91bmQtYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGaG9tZSUyRmFhZGl0JTJGc2hlZXQtb3BzJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQWlIO0FBQ2pIO0FBQ0Esb09BQWtIO0FBQ2xIO0FBQ0EsME9BQXFIO0FBQ3JIO0FBQ0Esd09BQW9IO0FBQ3BIO0FBQ0Esa1BBQXlIO0FBQ3pIO0FBQ0Esc1FBQW1JIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hlZXQtb3BzLz8xZjU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvYWFkaXQvc2hlZXQtb3BzL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvYXBwLXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2hvbWUvYWFkaXQvc2hlZXQtb3BzL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9hYWRpdC9zaGVldC1vcHMvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9sYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvaG9tZS9hYWRpdC9zaGVldC1vcHMvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9ob21lL2FhZGl0L3NoZWV0LW9wcy9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fhome%2Faadit%2Fsheet-ops%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/components/AgentLoadingState.tsx":
/*!**********************************************!*\
  !*** ./app/components/AgentLoadingState.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AgentLoadingState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction AgentLoadingState({ sheetName }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-full flex-col overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-lg font-semibold\",\n                        children: \"Agent\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 text-xs text-gray-500\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"h-2 w-2 rounded-full bg-yellow-400 animate-pulse\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 13,\n                                columnNumber: 11\n                            }, this),\n                            \"Connecting...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                lineNumber: 10,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex flex-col items-center justify-center space-y-4 px-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-gray-800\",\n                                children: \"Connecting to Sheet\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 20,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600\",\n                                children: sheetName\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 21,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-center items-center space-x-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-2 w-2 bg-blue-500 rounded-full animate-bounce\",\n                                style: {\n                                    animationDelay: \"0s\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 25,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-2 w-2 bg-blue-500 rounded-full animate-bounce\",\n                                style: {\n                                    animationDelay: \"0.1s\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 26,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-2 w-2 bg-blue-500 rounded-full animate-bounce\",\n                                style: {\n                                    animationDelay: \"0.2s\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                                lineNumber: 27,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                        lineNumber: 24,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 text-center max-w-xs\",\n                        children: \"Sending spreadsheet context to the agent and waiting for confirmation...\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                        lineNumber: 30,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col gap-2 border-t border-gray-100 bg-white p-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"rounded-md bg-gray-100 px-3 py-1.5 text-sm text-gray-500 text-center\",\n                    children: \"Please wait...\"\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                    lineNumber: 36,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/aadit/sheet-ops/app/components/AgentLoadingState.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9BZ2VudExvYWRpbmdTdGF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBTVgsU0FBU0Msa0JBQWtCLEVBQUVDLFNBQVMsRUFBMEI7SUFDN0UscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUF3Qjs7Ozs7O2tDQUN2Qyw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDQztnQ0FBS0QsV0FBVTs7Ozs7OzRCQUFxRDs7Ozs7Ozs7Ozs7OzswQkFLekUsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRTtnQ0FBR0YsV0FBVTswQ0FBOEI7Ozs7OzswQ0FDNUMsOERBQUNHO2dDQUFFSCxXQUFVOzBDQUF5QkY7Ozs7Ozs7Ozs7OztrQ0FHeEMsOERBQUNDO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7Z0NBQWtESSxPQUFPO29DQUFFQyxnQkFBZ0I7Z0NBQUs7Ozs7OzswQ0FDL0YsOERBQUNOO2dDQUFJQyxXQUFVO2dDQUFrREksT0FBTztvQ0FBRUMsZ0JBQWdCO2dDQUFPOzs7Ozs7MENBQ2pHLDhEQUFDTjtnQ0FBSUMsV0FBVTtnQ0FBa0RJLE9BQU87b0NBQUVDLGdCQUFnQjtnQ0FBTzs7Ozs7Ozs7Ozs7O2tDQUduRyw4REFBQ0Y7d0JBQUVILFdBQVU7a0NBQTZDOzs7Ozs7Ozs7Ozs7MEJBSzVELDhEQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQXVFOzs7Ozs7Ozs7Ozs7Ozs7OztBQU05RiIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0FnZW50TG9hZGluZ1N0YXRlLnRzeD81NzcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIEFnZW50TG9hZGluZ1N0YXRlUHJvcHMge1xuICBzaGVldE5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWdlbnRMb2FkaW5nU3RhdGUoeyBzaGVldE5hbWUgfTogQWdlbnRMb2FkaW5nU3RhdGVQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBoLWZ1bGwgZmxleC1jb2wgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+QWdlbnQ8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoLTIgdy0yIHJvdW5kZWQtZnVsbCBiZy15ZWxsb3ctNDAwIGFuaW1hdGUtcHVsc2VcIiAvPlxuICAgICAgICAgIENvbm5lY3RpbmcuLi5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteS00IHB4LTRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+Q29ubmVjdGluZyB0byBTaGVldDwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+e3NoZWV0TmFtZX08L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTIgdy0yIGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiBcIjBzXCIgfX0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMiB3LTIgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6IFwiMC4xc1wiIH19IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTIgdy0yIGJnLWJsdWUtNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiBcIjAuMnNcIiB9fSAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbWF4LXcteHNcIj5cbiAgICAgICAgICBTZW5kaW5nIHNwcmVhZHNoZWV0IGNvbnRleHQgdG8gdGhlIGFnZW50IGFuZCB3YWl0aW5nIGZvciBjb25maXJtYXRpb24uLi5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMiBib3JkZXItdCBib3JkZXItZ3JheS0xMDAgYmctd2hpdGUgcC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBiZy1ncmF5LTEwMCBweC0zIHB5LTEuNSB0ZXh0LXNtIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICBQbGVhc2Ugd2FpdC4uLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiQWdlbnRMb2FkaW5nU3RhdGUiLCJzaGVldE5hbWUiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwiaDMiLCJwIiwic3R5bGUiLCJhbmltYXRpb25EZWxheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/components/AgentLoadingState.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/AgentMessage.tsx":
/*!*****************************************!*\
  !*** ./app/components/AgentMessage.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AgentMessage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction AgentMessage({ from, text }) {\n    const isUser = from === \"user\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex ${isUser ? \"justify-end\" : \"justify-start\"}`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `max-w-[85%] rounded-lg p-3 text-sm ${isUser ? \"bg-gray-800 text-white\" : \"bg-gray-100 text-black\"}`,\n            children: text\n        }, void 0, false, {\n            fileName: \"/home/aadit/sheet-ops/app/components/AgentMessage.tsx\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/AgentMessage.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9BZ2VudE1lc3NhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFLZSxTQUFTQSxhQUFhLEVBQUVDLElBQUksRUFBRUMsSUFBSSxFQUFxQjtJQUNwRSxNQUFNQyxTQUFTRixTQUFTO0lBQ3hCLHFCQUNFLDhEQUFDRztRQUFJQyxXQUFXLENBQUMsS0FBSyxFQUFFRixTQUFTLGdCQUFnQixnQkFBZ0IsQ0FBQztrQkFDaEUsNEVBQUNDO1lBQ0NDLFdBQVcsQ0FBQyxtQ0FBbUMsRUFDN0NGLFNBQVMsMkJBQTJCLHlCQUNyQyxDQUFDO3NCQUVERDs7Ozs7Ozs7Ozs7QUFJVCIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0FnZW50TWVzc2FnZS50c3g/NzU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgQWdlbnRNZXNzYWdlUHJvcHMge1xuICBmcm9tOiBcInVzZXJcIiB8IFwiYWdlbnRcIjtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZ2VudE1lc3NhZ2UoeyBmcm9tLCB0ZXh0IH06IEFnZW50TWVzc2FnZVByb3BzKSB7XG4gIGNvbnN0IGlzVXNlciA9IGZyb20gPT09IFwidXNlclwiO1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke2lzVXNlciA/IFwianVzdGlmeS1lbmRcIiA6IFwianVzdGlmeS1zdGFydFwifWB9PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy1bODUlXSByb3VuZGVkLWxnIHAtMyB0ZXh0LXNtICR7XG4gICAgICAgICAgaXNVc2VyID8gXCJiZy1ncmF5LTgwMCB0ZXh0LXdoaXRlXCIgOiBcImJnLWdyYXktMTAwIHRleHQtYmxhY2tcIlxuICAgICAgICB9YH1cbiAgICAgID5cbiAgICAgICAge3RleHR9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiQWdlbnRNZXNzYWdlIiwiZnJvbSIsInRleHQiLCJpc1VzZXIiLCJkaXYiLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/components/AgentMessage.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/AgentSidebar.tsx":
/*!*****************************************!*\
  !*** ./app/components/AgentSidebar.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AgentSidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _AgentMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AgentMessage */ \"(ssr)/./app/components/AgentMessage.tsx\");\n/* harmony import */ var _AgentLoadingState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AgentLoadingState */ \"(ssr)/./app/components/AgentLoadingState.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction AgentSidebar({ mode, pendingOps, columns, rows, sheetId, sheetName, tabName, userId, validationIssues, onProposeOps, onPreview, onRun, onAgentComplete }) {\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: \"m1\",\n            from: \"agent\",\n            text: \"Connect to a sheet to get started. Once connected, I can help you edit, clean, and transform your data.\"\n        }\n    ]);\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [runId, setRunId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [connectedSheet, setConnectedSheet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isConnectingSheet, setIsConnectingSheet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [agentConnected, setAgentConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Check Composio connection on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkConnection = async ()=>{\n            try {\n                const res = await fetch(`/api/composio/connection?userId=${userId || \"anonymous\"}&app=google_sheets`);\n                const data = await res.json();\n                setIsConnected(data.connected ?? false);\n            } catch  {\n                setIsConnected(false);\n            }\n        };\n        checkConnection();\n    }, [\n        userId\n    ]);\n    const handleConnect = async ()=>{\n        console.log(\"handleConnect called\");\n        alert(\"Connecting to Google Sheets...\");\n        try {\n            const res = await fetch(\"/api/composio/connection\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId: userId || \"anonymous\",\n                    app: \"google_sheets\",\n                    redirectUrl: window.location.href\n                })\n            });\n            const data = await res.json();\n            console.log(\"Connect response:\", data);\n            if (data.error) {\n                alert(`Connection failed: ${data.error}\\n${JSON.stringify(data.details, null, 2)}`);\n                return;\n            }\n            if (data.redirectUrl) {\n                // Redirect to OAuth page\n                window.location.href = data.redirectUrl;\n            } else {\n                alert(\"No redirect URL returned. Check the console and Composio dashboard.\");\n            }\n        } catch (err) {\n            console.error(\"Failed to initiate connection:\", err);\n            alert(`Failed to connect: ${err}`);\n        }\n    };\n    const handleConnectSheet = async ()=>{\n        if (!sheetId) return;\n        setIsConnectingSheet(true);\n        setAgentConnected(false);\n        // Set connected sheet immediately for UI\n        setConnectedSheet({\n            id: sheetId,\n            name: sheetName || `Sheet ${sheetId.slice(0, 8)}...`\n        });\n        try {\n            // Build the CONTEXT message\n            const contextMessage = {\n                type: \"CONTEXT\",\n                spreadsheetId: sheetId,\n                spreadsheetName: sheetName || `Sheet ${sheetId.slice(0, 8)}...`,\n                tabName: tabName || \"Sheet1\",\n                connectedAccountId: userId || \"anonymous\",\n                columns: columns.map((col, idx)=>({\n                        letter: String.fromCharCode(65 + idx),\n                        name: col.label,\n                        id: col.id\n                    })),\n                dataTypes: columns.reduce((acc, col)=>{\n                    acc[col.label] = \"text\"; // Default to text, could be more sophisticated\n                    return acc;\n                }, {}),\n                currentData: rows.slice(0, 10).map((row)=>columns.map((col)=>row.cells[col.id] || \"\")),\n                rowCount: rows.length\n            };\n            // Send context message to agent\n            if (abortRef.current) {\n                abortRef.current.abort();\n            }\n            abortRef.current = new AbortController();\n            const contextMsg = {\n                id: `ctx-${Date.now()}`,\n                from: \"user\",\n                text: JSON.stringify(contextMessage, null, 2)\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    contextMsg\n                ]);\n            const agentMsgId = `a-ctx-${Date.now()}`;\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: agentMsgId,\n                        from: \"agent\",\n                        text: \"\",\n                        isStreaming: true\n                    }\n                ]);\n            const response = await fetch(\"/api/chat/proxy\", {\n                method: runId ? \"PUT\" : \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    message: JSON.stringify(contextMessage),\n                    runId,\n                    userId: userId || \"anonymous\"\n                }),\n                signal: abortRef.current.signal\n            });\n            if (!response.ok) {\n                throw new Error(`Request failed: ${response.status}`);\n            }\n            const newRunId = response.headers.get(\"X-Toolhouse-Run-ID\");\n            if (newRunId) {\n                setRunId(newRunId);\n            }\n            const reader = response.body?.getReader();\n            if (!reader) throw new Error(\"No response body\");\n            const decoder = new TextDecoder();\n            let accumulated = \"\";\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                accumulated += chunk;\n                setMessages((prev)=>prev.map((m)=>m.id === agentMsgId ? {\n                            ...m,\n                            text: accumulated\n                        } : m));\n            }\n            setMessages((prev)=>prev.map((m)=>m.id === agentMsgId ? {\n                        ...m,\n                        isStreaming: false\n                    } : m));\n            // Check if agent confirmed connection\n            try {\n                const jsonMatch = accumulated.match(/```json\\s*([\\s\\S]*?)```/);\n                if (jsonMatch) {\n                    const parsed = JSON.parse(jsonMatch[1]);\n                    if (parsed.status === \"CONNECTED\" && parsed.confirmed === true) {\n                        setAgentConnected(true);\n                    } else {\n                        throw new Error(\"Agent did not confirm connection\");\n                    }\n                } else {\n                    throw new Error(\"No JSON response from agent\");\n                }\n            } catch (e) {\n                console.error(\"Connection confirmation failed:\", e);\n                setIsConnectingSheet(false);\n                setConnectedSheet(null);\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            id: `err-${Date.now()}`,\n                            from: \"agent\",\n                            text: \"Failed to connect to the agent. Please try again.\"\n                        }\n                    ]);\n                return;\n            }\n        } catch (err) {\n            if (err.name === \"AbortError\") return;\n            console.error(\"Connection error:\", err);\n            setConnectedSheet(null);\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: `err-${Date.now()}`,\n                        from: \"agent\",\n                        text: `Connection failed: ${err.message}`\n                    }\n                ]);\n        } finally{\n            setIsConnectingSheet(false);\n            abortRef.current = null;\n        }\n    };\n    const handleDisconnectSheet = ()=>{\n        setConnectedSheet(null);\n        setRunId(null);\n        setMessages([\n            {\n                id: `m-${Date.now()}`,\n                from: \"agent\",\n                text: \"Disconnected from sheet. Select another sheet and connect to continue editing.\"\n            }\n        ]);\n    };\n    const parseOperationsFromResponse = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((text)=>{\n        const ops = [];\n        // Helper to convert column letter to index\n        const columnLetterToIndex = (letter)=>{\n            let index = 0;\n            for(let i = 0; i < letter.length; i++){\n                index = index * 26 + (letter.charCodeAt(i) - 64);\n            }\n            return index - 1;\n        };\n        console.log(\"Parsing agent response for operations...\");\n        // Look for JSON blocks in the response\n        const jsonMatch = text.match(/```json\\s*([\\s\\S]*?)```/);\n        if (jsonMatch) {\n            try {\n                const parsed = JSON.parse(jsonMatch[1]);\n                console.log(\"Parsed JSON from agent:\", parsed);\n                // Handle the new format with \"operations\" array\n                if (parsed.operations && Array.isArray(parsed.operations)) {\n                    const result = parsed.operations.map((op, idx)=>{\n                        console.log(\"Processing operation:\", op);\n                        if (op.type === \"cell_update\") {\n                            // Convert column letter to columnId\n                            const colIndex = columnLetterToIndex(op.column.toUpperCase());\n                            const columnId = columns[colIndex]?.id || `col_${colIndex}`;\n                            // Agent uses 1-based rows where row 1 = headers\n                            // Our internal rowId uses r1 = first data row = agent's row 2\n                            // So we subtract 1: agent row 3 -> our r2\n                            const internalRow = op.row - 1;\n                            console.log(\"Cell update row mapping:\", {\n                                agentRow: op.row,\n                                internalRow,\n                                rowId: `r${internalRow}`,\n                                column: op.column,\n                                columnId,\n                                value: op.value\n                            });\n                            return {\n                                id: `op-${Date.now()}-${idx}`,\n                                type: \"cell_update\",\n                                rowId: `r${internalRow}`,\n                                columnId,\n                                newValue: String(op.value),\n                                author: \"agent\"\n                            };\n                        } else if (op.type === \"row_insert\") {\n                            const newRowId = `r-new-${Date.now()}-${idx}`;\n                            if (Array.isArray(op.values)) {\n                                return op.values.map((val, colIdx)=>{\n                                    const col = columns[colIdx];\n                                    return {\n                                        id: `op-${Date.now()}-insert-${idx}-${colIdx}`,\n                                        type: \"cell_update\",\n                                        rowId: newRowId,\n                                        columnId: col?.id || `col_${colIdx}`,\n                                        newValue: String(val),\n                                        author: \"agent\"\n                                    };\n                                });\n                            }\n                        } else if (op.type === \"row_delete\") {\n                            // Agent uses 1-based rows where row 1 = headers\n                            const internalRow = op.row - 1;\n                            return {\n                                id: `op-${Date.now()}-del-${idx}`,\n                                type: \"row_delete\",\n                                rowId: `r${internalRow}`,\n                                author: \"agent\"\n                            };\n                        } else if (op.type === \"sort\") {\n                            // Handle sort operation - rearrange all rows\n                            // The agent should provide sorted_data with all rows in new order\n                            if (Array.isArray(op.sorted_data)) {\n                                return op.sorted_data.flatMap((rowData, rowIdx)=>{\n                                    return columns.map((col, colIdx)=>({\n                                            id: `op-${Date.now()}-sort-${rowIdx}-${colIdx}`,\n                                            type: \"cell_update\",\n                                            rowId: `r${rowIdx + 1}`,\n                                            columnId: col.id,\n                                            newValue: String(rowData[colIdx] ?? \"\"),\n                                            author: \"agent\"\n                                        }));\n                                });\n                            }\n                            // Alternative: just mark as a sort op\n                            return {\n                                id: `op-${Date.now()}-sort-${idx}`,\n                                type: \"sort\",\n                                columnId: columns[columnLetterToIndex(op.column?.toUpperCase() || \"A\")]?.id,\n                                direction: op.direction || \"asc\",\n                                author: \"agent\"\n                            };\n                        }\n                        return null;\n                    }).flat().filter(Boolean);\n                    console.log(\"Final operations:\", result);\n                    return result;\n                }\n                // Fallback to old format\n                if (Array.isArray(parsed)) {\n                    return parsed.map((op, idx)=>{\n                        if (op.type === \"row_insert\") {\n                            const newRowId = `r-inserted-${Date.now()}-${idx}`;\n                            if (Array.isArray(op.values)) {\n                                return op.values.map((val, colIdx)=>{\n                                    const col = columns[colIdx];\n                                    return {\n                                        id: `op-${Date.now()}-insert-${idx}-${colIdx}`,\n                                        type: \"cell_update\",\n                                        rowId: newRowId,\n                                        columnId: col?.id || `col_${colIdx}`,\n                                        newValue: val,\n                                        author: \"agent\"\n                                    };\n                                });\n                            }\n                            return {\n                                id: `op-${Date.now()}-insert-${idx}`,\n                                type: \"row_insert\",\n                                rowId: newRowId,\n                                author: \"agent\"\n                            };\n                        }\n                        return {\n                            id: `op-${Date.now()}-${idx}`,\n                            type: op.type || \"cell_update\",\n                            rowId: op.rowId,\n                            columnId: op.columnId,\n                            oldValue: op.oldValue,\n                            newValue: op.newValue,\n                            author: \"agent\"\n                        };\n                    }).flat();\n                }\n            } catch (e) {\n                console.error(\"Failed to parse operations JSON:\", e, \"Raw:\", jsonMatch[1]);\n            }\n        }\n        // Fallback: detect patterns like \"delete row X\"\n        const deleteMatch = text.match(/delete\\s+row\\s+(\\d+)/gi);\n        if (deleteMatch) {\n            deleteMatch.forEach((match, idx)=>{\n                const rowNum = match.match(/\\d+/)?.[0];\n                if (rowNum && rows[parseInt(rowNum) - 1]) {\n                    ops.push({\n                        id: `op-${Date.now()}-del-${idx}`,\n                        type: \"row_delete\",\n                        rowId: rows[parseInt(rowNum) - 1].id,\n                        author: \"agent\"\n                    });\n                }\n            });\n        }\n        return ops;\n    }, [\n        rows,\n        columns\n    ]);\n    // Helper to convert column letter to index\n    const columnLetterToIndex = (letter)=>{\n        let index = 0;\n        for(let i = 0; i < letter.length; i++){\n            index = index * 26 + (letter.charCodeAt(i) - 64);\n        }\n        return index - 1;\n    };\n    const handleRun = async ()=>{\n        if (mode !== \"agent\") return;\n        if (!input.trim()) return;\n        if (abortRef.current) {\n            abortRef.current.abort();\n        }\n        abortRef.current = new AbortController();\n        const userMessage = {\n            id: `u-${Date.now()}`,\n            from: \"user\",\n            text: input.trim()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        onRun?.(userMessage.text);\n        const agentMsgId = `a-${Date.now()}`;\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: agentMsgId,\n                    from: \"agent\",\n                    text: \"\",\n                    isStreaming: true\n                }\n            ]);\n        setStatus(\"thinking\");\n        try {\n            // Just send the user message directly - context was already sent during connection\n            const method = runId ? \"PUT\" : \"POST\";\n            const response = await fetch(\"/api/chat/proxy\", {\n                method,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    message: userMessage.text,\n                    runId,\n                    userId: userId || \"anonymous\"\n                }),\n                signal: abortRef.current.signal\n            });\n            if (!response.ok) {\n                throw new Error(`Request failed: ${response.status}`);\n            }\n            const newRunId = response.headers.get(\"X-Toolhouse-Run-ID\");\n            if (newRunId) {\n                setRunId(newRunId);\n            }\n            const reader = response.body?.getReader();\n            if (!reader) throw new Error(\"No response body\");\n            const decoder = new TextDecoder();\n            let accumulated = \"\";\n            setStatus(\"streaming\");\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) break;\n                const chunk = decoder.decode(value, {\n                    stream: true\n                });\n                accumulated += chunk;\n                if (accumulated.trim() === \"AUTH_REQUIRED\") {\n                    setStatus(\"auth_required\");\n                    setMessages((prev)=>prev.filter((m)=>m.id !== agentMsgId));\n                    break;\n                }\n                setMessages((prev)=>prev.map((m)=>m.id === agentMsgId ? {\n                            ...m,\n                            text: accumulated\n                        } : m));\n            }\n            setMessages((prev)=>prev.map((m)=>m.id === agentMsgId ? {\n                        ...m,\n                        isStreaming: false\n                    } : m));\n            if (accumulated && accumulated.trim() !== \"AUTH_REQUIRED\") {\n                const ops = parseOperationsFromResponse(accumulated);\n                console.log(\"Parsed operations from agent:\", ops);\n                if (ops.length > 0) {\n                    onProposeOps(ops);\n                // Don't auto-open preview, let user see the pending ops in sidebar\n                // onPreview();\n                }\n            // Note: We don't call onAgentComplete here anymore because\n            // the agent doesn't write to sheets directly - it only generates\n            // operations that the user must review and push\n            }\n            setStatus(\"idle\");\n        } catch (err) {\n            if (err.name === \"AbortError\") return;\n            console.error(\"Agent error:\", err);\n            setMessages((prev)=>prev.map((m)=>m.id === agentMsgId ? {\n                        ...m,\n                        text: \"Sorry, something went wrong. Please try again.\",\n                        isStreaming: false\n                    } : m));\n            setStatus(\"idle\");\n        } finally{\n            abortRef.current = null;\n        }\n    };\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleRun();\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = messagesRef.current;\n        if (el) {\n            el.scrollTop = el.scrollHeight;\n        }\n    }, [\n        messages\n    ]);\n    const statusConfig = {\n        idle: {\n            color: \"bg-gray-400\",\n            label: \"Idle\"\n        },\n        thinking: {\n            color: \"bg-yellow-400 animate-pulse\",\n            label: \"Thinking...\"\n        },\n        streaming: {\n            color: \"bg-green-400 animate-pulse\",\n            label: \"Responding...\"\n        },\n        auth_required: {\n            color: \"bg-red-400\",\n            label: \"Auth Required\"\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: isConnectingSheet && !agentConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AgentLoadingState__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            sheetName: sheetName || sheetId || \"Sheet\"\n        }, void 0, false, {\n            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n            lineNumber: 603,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-full flex-col overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-lg font-semibold\",\n                            children: \"Agent\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 607,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2 text-xs text-gray-500\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: `h-2 w-2 rounded-full ${statusConfig[status].color}`\n                                }, void 0, false, {\n                                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                    lineNumber: 609,\n                                    columnNumber: 11\n                                }, this),\n                                statusConfig[status].label\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 608,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 606,\n                    columnNumber: 7\n                }, this),\n                connectedSheet && agentConnected ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 rounded-lg border border-green-200 bg-green-50 p-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-green-600\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"h-4 w-4\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                                lineNumber: 621,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                            lineNumber: 620,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                        lineNumber: 619,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium text-green-800\",\n                                                children: \"Connected\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                                lineNumber: 625,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-green-600 truncate max-w-[180px]\",\n                                                title: connectedSheet.name,\n                                                children: connectedSheet.name\n                                            }, void 0, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                                lineNumber: 626,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                        lineNumber: 624,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                lineNumber: 618,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleDisconnectSheet,\n                                className: \"text-xs text-green-600 hover:text-green-800 underline\",\n                                children: \"Disconnect\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                lineNumber: 631,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                        lineNumber: 617,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 616,\n                    columnNumber: 9\n                }, this) : sheetId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2 text-center text-sm text-gray-600\",\n                            children: sheetName || `Sheet ${sheetId.slice(0, 12)}...`\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 641,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleConnectSheet,\n                            className: \"rounded-lg bg-blue-600 px-6 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors\",\n                            children: \"Connect to this Sheet\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 644,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-2 text-xs text-gray-500 text-center\",\n                            children: \"Click to give the agent full access to edit this spreadsheet\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 650,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 640,\n                    columnNumber: 9\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mb-4 rounded-lg border border-yellow-200 bg-yellow-50 p-3 text-center text-sm text-yellow-700\",\n                    children: \"Select a sheet from the dropdown to get started\"\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 655,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: messagesRef,\n                    className: \"flex-1 overflow-auto space-y-3 p-2\",\n                    children: [\n                        messages.map((m)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AgentMessage__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                from: m.from,\n                                text: m.text || (m.isStreaming ? \"...\" : \"\")\n                            }, m.id, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                lineNumber: 662,\n                                columnNumber: 11\n                            }, this)),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border-t border-gray-100 pt-2 text-sm text-gray-600\",\n                            children: pendingOps.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"No pending changes\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                lineNumber: 671,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium text-gray-700\",\n                                        children: [\n                                            \"Pending changes (\",\n                                            pendingOps.length,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                        lineNumber: 674,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"space-y-1 max-h-32 overflow-auto\",\n                                        children: pendingOps.map((op)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"text-left underline text-xs\",\n                                                    \"aria-label\": \"Preview pending change\",\n                                                    onClick: onPreview,\n                                                    children: [\n                                                        op.type,\n                                                        \": \",\n                                                        op.rowId ?? \"-\",\n                                                        \" \\xb7 \",\n                                                        op.columnId ?? \"-\",\n                                                        op.newValue ? `  \"${op.newValue}\"` : \"\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                                    lineNumber: 680,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, op.id, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                                lineNumber: 679,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                        lineNumber: 677,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                lineNumber: 673,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 669,\n                            columnNumber: 9\n                        }, this),\n                        validationIssues.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border-t border-gray-100 pt-2 text-sm text-gray-600\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"font-medium text-gray-700\",\n                                    children: [\n                                        \"Validation issues (\",\n                                        validationIssues.length,\n                                        \")\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                    lineNumber: 697,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                    className: \"mt-1 space-y-1 max-h-24 overflow-auto\",\n                                    children: validationIssues.map((issue)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                            className: \"text-xs text-red-600\",\n                                            children: [\n                                                issue.rowId,\n                                                \" \\xb7 \",\n                                                issue.columnId,\n                                                \": \",\n                                                issue.message\n                                            ]\n                                        }, issue.id, true, {\n                                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                            lineNumber: 702,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                                    lineNumber: 700,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 696,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 660,\n                    columnNumber: 7\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col gap-2 border-t border-gray-100 bg-white p-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                            \"aria-label\": \"Agent input\",\n                            placeholder: !connectedSheet ? \"Connect to a sheet first to start editing\" : mode === \"agent\" ? \"Ask: remove duplicates, sort by amount, clean emails...\" : \"Switch to Agent mode to use AI\",\n                            className: \"w-full resize-none rounded-md border border-gray-300 px-2 py-1.5 text-sm disabled:bg-gray-100 disabled:text-gray-500\",\n                            rows: 2,\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            onKeyDown: handleKeyDown,\n                            disabled: !connectedSheet || mode !== \"agent\" || status === \"streaming\" || status === \"thinking\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 712,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            \"aria-label\": \"Run agent\",\n                            className: \"rounded-md bg-black px-3 py-1.5 text-sm text-white disabled:opacity-50\",\n                            onClick: handleRun,\n                            disabled: !connectedSheet || mode !== \"agent\" || !input.trim() || status === \"streaming\" || status === \"thinking\",\n                            children: status === \"thinking\" || status === \"streaming\" ? \"Processing...\" : \"Run\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                            lineNumber: 728,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n                    lineNumber: 711,\n                    columnNumber: 7\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/aadit/sheet-ops/app/components/AgentSidebar.tsx\",\n            lineNumber: 605,\n            columnNumber: 9\n        }, this)\n    }, void 0, false);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEYsOERBQUNrSzs0QkFDQ0ssY0FBVzs0QkFDWGpCLFdBQVU7NEJBQ1ZhLFNBQVM5Qjs0QkFDVHlDLFVBQVUsQ0FBQ3hLLGtCQUFrQjFCLFNBQVMsV0FBVyxDQUFDYSxNQUFNNkksSUFBSSxNQUFNdEksV0FBVyxlQUFlQSxXQUFXO3NDQUV0R0EsV0FBVyxjQUFjQSxXQUFXLGNBQWMsa0JBQWtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hlZXQtb3BzLy4vYXBwL2NvbXBvbmVudHMvQWdlbnRTaWRlYmFyLnRzeD9jNGViIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQWdlbnRNZXNzYWdlIGZyb20gXCIuL0FnZW50TWVzc2FnZVwiO1xuaW1wb3J0IEFnZW50TG9hZGluZ1N0YXRlIGZyb20gXCIuL0FnZW50TG9hZGluZ1N0YXRlXCI7XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZztcbiAgZnJvbTogXCJ1c2VyXCIgfCBcImFnZW50XCI7XG4gIHRleHQ6IHN0cmluZztcbiAgaXNTdHJlYW1pbmc/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgQ29sdW1uIHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFJvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIGNlbGxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG5pbnRlcmZhY2UgRWRpdE9wZXJhdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6XG4gICAgfCBcImNlbGxfdXBkYXRlXCJcbiAgICB8IFwiY29sdW1uX2FkZFwiXG4gICAgfCBcImNvbHVtbl9kZWxldGVcIlxuICAgIHwgXCJhZGRfcm93XCJcbiAgICB8IFwicm93X2RlbGV0ZVwiXG4gICAgfCBcInNvcnRcIjtcbiAgcm93SWQ/OiBzdHJpbmc7XG4gIGNvbHVtbklkPzogc3RyaW5nO1xuICBvbGRWYWx1ZT86IHN0cmluZztcbiAgbmV3VmFsdWU/OiBzdHJpbmc7XG4gIGNvbHVtbkxhYmVsPzogc3RyaW5nO1xuICBkaXJlY3Rpb24/OiBcImFzY1wiIHwgXCJkZXNjXCI7XG4gIHJvdz86IFJvdztcbiAgYXV0aG9yOiBcInVzZXJcIiB8IFwiYWdlbnRcIjtcbn1cblxuaW50ZXJmYWNlIEFnZW50U2lkZWJhclByb3BzIHtcbiAgbW9kZTogXCJhZ2VudFwiIHwgXCJtYW51YWxcIjtcbiAgcGVuZGluZ09wczogRWRpdE9wZXJhdGlvbltdO1xuICBjb2x1bW5zOiBDb2x1bW5bXTtcbiAgcm93czogUm93W107XG4gIHNoZWV0SWQ/OiBzdHJpbmc7XG4gIHNoZWV0TmFtZT86IHN0cmluZztcbiAgdGFiTmFtZT86IHN0cmluZztcbiAgdXNlcklkPzogc3RyaW5nO1xuICB2YWxpZGF0aW9uSXNzdWVzOiB7IGlkOiBzdHJpbmc7IHJvd0lkOiBzdHJpbmc7IGNvbHVtbklkOiBzdHJpbmc7IG1lc3NhZ2U6IHN0cmluZyB9W107XG4gIG9uUHJvcG9zZU9wczogKG9wczogRWRpdE9wZXJhdGlvbltdKSA9PiB2b2lkO1xuICBvblByZXZpZXc6ICgpID0+IHZvaWQ7XG4gIG9uUnVuPzogKHRleHQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25BZ2VudENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBBZ2VudFN0YXR1cyA9IFwiaWRsZVwiIHwgXCJ0aGlua2luZ1wiIHwgXCJzdHJlYW1pbmdcIiB8IFwiYXV0aF9yZXF1aXJlZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZ2VudFNpZGViYXIoe1xuICBtb2RlLFxuICBwZW5kaW5nT3BzLFxuICBjb2x1bW5zLFxuICByb3dzLFxuICBzaGVldElkLFxuICBzaGVldE5hbWUsXG4gIHRhYk5hbWUsXG4gIHVzZXJJZCxcbiAgdmFsaWRhdGlvbklzc3VlcyxcbiAgb25Qcm9wb3NlT3BzLFxuICBvblByZXZpZXcsXG4gIG9uUnVuLFxuICBvbkFnZW50Q29tcGxldGUsXG59OiBBZ2VudFNpZGViYXJQcm9wcykge1xuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW1xuICAgIHsgaWQ6IFwibTFcIiwgZnJvbTogXCJhZ2VudFwiLCB0ZXh0OiBcIkNvbm5lY3QgdG8gYSBzaGVldCB0byBnZXQgc3RhcnRlZC4gT25jZSBjb25uZWN0ZWQsIEkgY2FuIGhlbHAgeW91IGVkaXQsIGNsZWFuLCBhbmQgdHJhbnNmb3JtIHlvdXIgZGF0YS5cIiB9LFxuICBdKTtcbiAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlPEFnZW50U3RhdHVzPihcImlkbGVcIik7XG4gIGNvbnN0IFtydW5JZCwgc2V0UnVuSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29ubmVjdGVkU2hlZXQsIHNldENvbm5lY3RlZFNoZWV0XSA9IHVzZVN0YXRlPHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQ29ubmVjdGluZ1NoZWV0LCBzZXRJc0Nvbm5lY3RpbmdTaGVldF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthZ2VudENvbm5lY3RlZCwgc2V0QWdlbnRDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZXNzYWdlc1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBhYm9ydFJlZiA9IHVzZVJlZjxBYm9ydENvbnRyb2xsZXIgfCBudWxsPihudWxsKTtcblxuICAvLyBDaGVjayBDb21wb3NpbyBjb25uZWN0aW9uIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgYC9hcGkvY29tcG9zaW8vY29ubmVjdGlvbj91c2VySWQ9JHt1c2VySWQgfHwgXCJhbm9ueW1vdXNcIn0mYXBwPWdvb2dsZV9zaGVldHNgXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSkgYXMgeyBjb25uZWN0ZWQ/OiBib29sZWFuIH07XG4gICAgICAgIHNldElzQ29ubmVjdGVkKGRhdGEuY29ubmVjdGVkID8/IGZhbHNlKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjaGVja0Nvbm5lY3Rpb24oKTtcbiAgfSwgW3VzZXJJZF0pO1xuXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJoYW5kbGVDb25uZWN0IGNhbGxlZFwiKTtcbiAgICBhbGVydChcIkNvbm5lY3RpbmcgdG8gR29vZ2xlIFNoZWV0cy4uLlwiKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbXBvc2lvL2Nvbm5lY3Rpb25cIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQ6IHVzZXJJZCB8fCBcImFub255bW91c1wiLFxuICAgICAgICAgIGFwcDogXCJnb29nbGVfc2hlZXRzXCIsXG4gICAgICAgICAgcmVkaXJlY3RVcmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXMuanNvbigpKSBhcyB7IHJlZGlyZWN0VXJsPzogc3RyaW5nOyBlcnJvcj86IHN0cmluZzsgZGV0YWlscz86IHVua25vd24gfTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdCByZXNwb25zZTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgIGFsZXJ0KGBDb25uZWN0aW9uIGZhaWxlZDogJHtkYXRhLmVycm9yfVxcbiR7SlNPTi5zdHJpbmdpZnkoZGF0YS5kZXRhaWxzLCBudWxsLCAyKX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZGF0YS5yZWRpcmVjdFVybCkge1xuICAgICAgICAvLyBSZWRpcmVjdCB0byBPQXV0aCBwYWdlXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5yZWRpcmVjdFVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KFwiTm8gcmVkaXJlY3QgVVJMIHJldHVybmVkLiBDaGVjayB0aGUgY29uc29sZSBhbmQgQ29tcG9zaW8gZGFzaGJvYXJkLlwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhdGUgY29ubmVjdGlvbjpcIiwgZXJyKTtcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gY29ubmVjdDogJHtlcnJ9YCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3RTaGVldCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNoZWV0SWQpIHJldHVybjtcbiAgICBcbiAgICBzZXRJc0Nvbm5lY3RpbmdTaGVldCh0cnVlKTtcbiAgICBzZXRBZ2VudENvbm5lY3RlZChmYWxzZSk7XG5cbiAgICAvLyBTZXQgY29ubmVjdGVkIHNoZWV0IGltbWVkaWF0ZWx5IGZvciBVSVxuICAgIHNldENvbm5lY3RlZFNoZWV0KHtcbiAgICAgIGlkOiBzaGVldElkLFxuICAgICAgbmFtZTogc2hlZXROYW1lIHx8IGBTaGVldCAke3NoZWV0SWQuc2xpY2UoMCwgOCl9Li4uYCxcbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBCdWlsZCB0aGUgQ09OVEVYVCBtZXNzYWdlXG4gICAgICBjb25zdCBjb250ZXh0TWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogXCJDT05URVhUXCIsXG4gICAgICAgIHNwcmVhZHNoZWV0SWQ6IHNoZWV0SWQsXG4gICAgICAgIHNwcmVhZHNoZWV0TmFtZTogc2hlZXROYW1lIHx8IGBTaGVldCAke3NoZWV0SWQuc2xpY2UoMCwgOCl9Li4uYCxcbiAgICAgICAgdGFiTmFtZTogdGFiTmFtZSB8fCBcIlNoZWV0MVwiLFxuICAgICAgICBjb25uZWN0ZWRBY2NvdW50SWQ6IHVzZXJJZCB8fCBcImFub255bW91c1wiLCAvLyBXaWxsIGJlIHJlcGxhY2VkIHdpdGggYWN0dWFsIGFjY291bnQgSUQgaW4gcHJvZHVjdGlvblxuICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLm1hcCgoY29sLCBpZHgpID0+ICh7XG4gICAgICAgICAgbGV0dGVyOiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaWR4KSwgLy8gQSwgQiwgQywgZXRjLlxuICAgICAgICAgIG5hbWU6IGNvbC5sYWJlbCxcbiAgICAgICAgICBpZDogY29sLmlkLFxuICAgICAgICB9KSksXG4gICAgICAgIGRhdGFUeXBlczogY29sdW1ucy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiwgY29sKSA9PiB7XG4gICAgICAgICAgYWNjW2NvbC5sYWJlbF0gPSBcInRleHRcIjsgLy8gRGVmYXVsdCB0byB0ZXh0LCBjb3VsZCBiZSBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSksXG4gICAgICAgIGN1cnJlbnREYXRhOiByb3dzLnNsaWNlKDAsIDEwKS5tYXAoKHJvdykgPT4gXG4gICAgICAgICAgY29sdW1ucy5tYXAoKGNvbCkgPT4gcm93LmNlbGxzW2NvbC5pZF0gfHwgXCJcIilcbiAgICAgICAgKSxcbiAgICAgICAgcm93Q291bnQ6IHJvd3MubGVuZ3RoLFxuICAgICAgfTtcblxuICAgICAgLy8gU2VuZCBjb250ZXh0IG1lc3NhZ2UgdG8gYWdlbnRcbiAgICAgIGlmIChhYm9ydFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGFib3J0UmVmLmN1cnJlbnQuYWJvcnQoKTtcbiAgICAgIH1cbiAgICAgIGFib3J0UmVmLmN1cnJlbnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICAgIGNvbnN0IGNvbnRleHRNc2c6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBgY3R4LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBmcm9tOiBcInVzZXJcIixcbiAgICAgICAgdGV4dDogSlNPTi5zdHJpbmdpZnkoY29udGV4dE1lc3NhZ2UsIG51bGwsIDIpLFxuICAgICAgfTtcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgY29udGV4dE1zZ10pO1xuXG4gICAgICBjb25zdCBhZ2VudE1zZ0lkID0gYGEtY3R4LSR7RGF0ZS5ub3coKX1gO1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgeyBpZDogYWdlbnRNc2dJZCwgZnJvbTogXCJhZ2VudFwiLCB0ZXh0OiBcIlwiLCBpc1N0cmVhbWluZzogdHJ1ZSB9LFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NoYXQvcHJveHlcIiwge1xuICAgICAgICBtZXRob2Q6IHJ1bklkID8gXCJQVVRcIiA6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShjb250ZXh0TWVzc2FnZSksXG4gICAgICAgICAgcnVuSWQsXG4gICAgICAgICAgdXNlcklkOiB1c2VySWQgfHwgXCJhbm9ueW1vdXNcIixcbiAgICAgICAgfSksXG4gICAgICAgIHNpZ25hbDogYWJvcnRSZWYuY3VycmVudC5zaWduYWwsXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3UnVuSWQgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIlgtVG9vbGhvdXNlLVJ1bi1JRFwiKTtcbiAgICAgIGlmIChuZXdSdW5JZCkge1xuICAgICAgICBzZXRSdW5JZChuZXdSdW5JZCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHk/LmdldFJlYWRlcigpO1xuICAgICAgaWYgKCFyZWFkZXIpIHRocm93IG5ldyBFcnJvcihcIk5vIHJlc3BvbnNlIGJvZHlcIik7XG5cbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIGxldCBhY2N1bXVsYXRlZCA9IFwiXCI7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIGlmIChkb25lKSBicmVhaztcblxuICAgICAgICBjb25zdCBjaHVuayA9IGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgYWNjdW11bGF0ZWQgKz0gY2h1bms7XG5cbiAgICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+XG4gICAgICAgICAgcHJldi5tYXAoKG0pID0+XG4gICAgICAgICAgICBtLmlkID09PSBhZ2VudE1zZ0lkID8geyAuLi5tLCB0ZXh0OiBhY2N1bXVsYXRlZCB9IDogbVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChtKSA9PlxuICAgICAgICAgIG0uaWQgPT09IGFnZW50TXNnSWQgPyB7IC4uLm0sIGlzU3RyZWFtaW5nOiBmYWxzZSB9IDogbVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBpZiBhZ2VudCBjb25maXJtZWQgY29ubmVjdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QganNvbk1hdGNoID0gYWNjdW11bGF0ZWQubWF0Y2goL2BgYGpzb25cXHMqKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGpzb25NYXRjaFsxXSk7XG4gICAgICAgICAgaWYgKHBhcnNlZC5zdGF0dXMgPT09IFwiQ09OTkVDVEVEXCIgJiYgcGFyc2VkLmNvbmZpcm1lZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2V0QWdlbnRDb25uZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFnZW50IGRpZCBub3QgY29uZmlybSBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBKU09OIHJlc3BvbnNlIGZyb20gYWdlbnRcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbm5lY3Rpb24gY29uZmlybWF0aW9uIGZhaWxlZDpcIiwgZSk7XG4gICAgICAgIHNldElzQ29ubmVjdGluZ1NoZWV0KGZhbHNlKTtcbiAgICAgICAgc2V0Q29ubmVjdGVkU2hlZXQobnVsbCk7XG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbXG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogYGVyci0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgIGZyb206IFwiYWdlbnRcIixcbiAgICAgICAgICAgIHRleHQ6IFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gdGhlIGFnZW50LiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoKGVyciBhcyBFcnJvcikubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHJldHVybjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb25uZWN0aW9uIGVycm9yOlwiLCBlcnIpO1xuICAgICAgc2V0Q29ubmVjdGVkU2hlZXQobnVsbCk7XG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGBlcnItJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgZnJvbTogXCJhZ2VudFwiLFxuICAgICAgICAgIHRleHQ6IGBDb25uZWN0aW9uIGZhaWxlZDogJHsoZXJyIGFzIEVycm9yKS5tZXNzYWdlfWAsXG4gICAgICAgIH0sXG4gICAgICBdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNDb25uZWN0aW5nU2hlZXQoZmFsc2UpO1xuICAgICAgYWJvcnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURpc2Nvbm5lY3RTaGVldCA9ICgpID0+IHtcbiAgICBzZXRDb25uZWN0ZWRTaGVldChudWxsKTtcbiAgICBzZXRSdW5JZChudWxsKTtcbiAgICBzZXRNZXNzYWdlcyhbXG4gICAgICB7XG4gICAgICAgIGlkOiBgbS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgZnJvbTogXCJhZ2VudFwiLFxuICAgICAgICB0ZXh0OiBcIkRpc2Nvbm5lY3RlZCBmcm9tIHNoZWV0LiBTZWxlY3QgYW5vdGhlciBzaGVldCBhbmQgY29ubmVjdCB0byBjb250aW51ZSBlZGl0aW5nLlwiLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfTtcblxuICBjb25zdCBwYXJzZU9wZXJhdGlvbnNGcm9tUmVzcG9uc2UgPSB1c2VDYWxsYmFjaygodGV4dDogc3RyaW5nKTogRWRpdE9wZXJhdGlvbltdID0+IHtcbiAgICBjb25zdCBvcHM6IEVkaXRPcGVyYXRpb25bXSA9IFtdO1xuICAgIFxuICAgIC8vIEhlbHBlciB0byBjb252ZXJ0IGNvbHVtbiBsZXR0ZXIgdG8gaW5kZXhcbiAgICBjb25zdCBjb2x1bW5MZXR0ZXJUb0luZGV4ID0gKGxldHRlcjogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldHRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbmRleCA9IGluZGV4ICogMjYgKyAobGV0dGVyLmNoYXJDb2RlQXQoaSkgLSA2NCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXggLSAxO1xuICAgIH07XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJQYXJzaW5nIGFnZW50IHJlc3BvbnNlIGZvciBvcGVyYXRpb25zLi4uXCIpO1xuICAgIFxuICAgIC8vIExvb2sgZm9yIEpTT04gYmxvY2tzIGluIHRoZSByZXNwb25zZVxuICAgIGNvbnN0IGpzb25NYXRjaCA9IHRleHQubWF0Y2goL2BgYGpzb25cXHMqKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgaWYgKGpzb25NYXRjaCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMV0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnNlZCBKU09OIGZyb20gYWdlbnQ6XCIsIHBhcnNlZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgdGhlIG5ldyBmb3JtYXQgd2l0aCBcIm9wZXJhdGlvbnNcIiBhcnJheVxuICAgICAgICBpZiAocGFyc2VkLm9wZXJhdGlvbnMgJiYgQXJyYXkuaXNBcnJheShwYXJzZWQub3BlcmF0aW9ucykpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBwYXJzZWQub3BlcmF0aW9ucy5tYXAoKG9wOiBhbnksIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlByb2Nlc3Npbmcgb3BlcmF0aW9uOlwiLCBvcCk7XG4gICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJjZWxsX3VwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgY29sdW1uIGxldHRlciB0byBjb2x1bW5JZFxuICAgICAgICAgICAgICBjb25zdCBjb2xJbmRleCA9IGNvbHVtbkxldHRlclRvSW5kZXgob3AuY29sdW1uLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgICBjb25zdCBjb2x1bW5JZCA9IGNvbHVtbnNbY29sSW5kZXhdPy5pZCB8fCBgY29sXyR7Y29sSW5kZXh9YDtcbiAgICAgICAgICAgICAgLy8gQWdlbnQgdXNlcyAxLWJhc2VkIHJvd3Mgd2hlcmUgcm93IDEgPSBoZWFkZXJzXG4gICAgICAgICAgICAgIC8vIE91ciBpbnRlcm5hbCByb3dJZCB1c2VzIHIxID0gZmlyc3QgZGF0YSByb3cgPSBhZ2VudCdzIHJvdyAyXG4gICAgICAgICAgICAgIC8vIFNvIHdlIHN1YnRyYWN0IDE6IGFnZW50IHJvdyAzIC0+IG91ciByMlxuICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbFJvdyA9IG9wLnJvdyAtIDE7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2VsbCB1cGRhdGUgcm93IG1hcHBpbmc6XCIsIHsgXG4gICAgICAgICAgICAgICAgYWdlbnRSb3c6IG9wLnJvdywgXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxSb3csIFxuICAgICAgICAgICAgICAgIHJvd0lkOiBgciR7aW50ZXJuYWxSb3d9YCxcbiAgICAgICAgICAgICAgICBjb2x1bW46IG9wLmNvbHVtbixcbiAgICAgICAgICAgICAgICBjb2x1bW5JZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogb3AudmFsdWUgXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS0ke2lkeH1gLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2VsbF91cGRhdGVcIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICByb3dJZDogYHIke2ludGVybmFsUm93fWAsXG4gICAgICAgICAgICAgICAgY29sdW1uSWQsXG4gICAgICAgICAgICAgICAgbmV3VmFsdWU6IFN0cmluZyhvcC52YWx1ZSksXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wLnR5cGUgPT09IFwicm93X2luc2VydFwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1Jvd0lkID0gYHItbmV3LSR7RGF0ZS5ub3coKX0tJHtpZHh9YDtcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3AudmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcC52YWx1ZXMubWFwKCh2YWw6IHN0cmluZywgY29sSWR4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbCA9IGNvbHVtbnNbY29sSWR4XTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS1pbnNlcnQtJHtpZHh9LSR7Y29sSWR4fWAsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2VsbF91cGRhdGVcIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgICAgcm93SWQ6IG5ld1Jvd0lkLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5JZDogY29sPy5pZCB8fCBgY29sXyR7Y29sSWR4fWAsXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiBTdHJpbmcodmFsKSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wLnR5cGUgPT09IFwicm93X2RlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgIC8vIEFnZW50IHVzZXMgMS1iYXNlZCByb3dzIHdoZXJlIHJvdyAxID0gaGVhZGVyc1xuICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbFJvdyA9IG9wLnJvdyAtIDE7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LWRlbC0ke2lkeH1gLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicm93X2RlbGV0ZVwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgIHJvd0lkOiBgciR7aW50ZXJuYWxSb3d9YCxcbiAgICAgICAgICAgICAgICBhdXRob3I6IFwiYWdlbnRcIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3AudHlwZSA9PT0gXCJzb3J0XCIpIHtcbiAgICAgICAgICAgICAgLy8gSGFuZGxlIHNvcnQgb3BlcmF0aW9uIC0gcmVhcnJhbmdlIGFsbCByb3dzXG4gICAgICAgICAgICAgIC8vIFRoZSBhZ2VudCBzaG91bGQgcHJvdmlkZSBzb3J0ZWRfZGF0YSB3aXRoIGFsbCByb3dzIGluIG5ldyBvcmRlclxuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvcC5zb3J0ZWRfZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3Auc29ydGVkX2RhdGEuZmxhdE1hcCgocm93RGF0YTogc3RyaW5nW10sIHJvd0lkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1ucy5tYXAoKGNvbCwgY29sSWR4KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBpZDogYG9wLSR7RGF0ZS5ub3coKX0tc29ydC0ke3Jvd0lkeH0tJHtjb2xJZHh9YCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjZWxsX3VwZGF0ZVwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgICByb3dJZDogYHIke3Jvd0lkeCArIDF9YCwgLy8gMS1pbmRleGVkIGZvciBkaXNwbGF5IHJvd1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW5JZDogY29sLmlkLFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogU3RyaW5nKHJvd0RhdGFbY29sSWR4XSA/PyBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gQWx0ZXJuYXRpdmU6IGp1c3QgbWFyayBhcyBhIHNvcnQgb3BcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogYG9wLSR7RGF0ZS5ub3coKX0tc29ydC0ke2lkeH1gLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic29ydFwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgIGNvbHVtbklkOiBjb2x1bW5zW2NvbHVtbkxldHRlclRvSW5kZXgob3AuY29sdW1uPy50b1VwcGVyQ2FzZSgpIHx8IFwiQVwiKV0/LmlkLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogb3AuZGlyZWN0aW9uIHx8IFwiYXNjXCIsXG4gICAgICAgICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9KS5mbGF0KCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmluYWwgb3BlcmF0aW9uczpcIiwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gb2xkIGZvcm1hdFxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlZC5tYXAoKG9wOiBhbnksIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJyb3dfaW5zZXJ0XCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Um93SWQgPSBgci1pbnNlcnRlZC0ke0RhdGUubm93KCl9LSR7aWR4fWA7XG4gICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wLnZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3AudmFsdWVzLm1hcCgodmFsOiBzdHJpbmcsIGNvbElkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjb2wgPSBjb2x1bW5zW2NvbElkeF07XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYG9wLSR7RGF0ZS5ub3coKX0taW5zZXJ0LSR7aWR4fS0ke2NvbElkeH1gLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNlbGxfdXBkYXRlXCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgIHJvd0lkOiBuZXdSb3dJZCxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uSWQ6IGNvbD8uaWQgfHwgYGNvbF8ke2NvbElkeH1gLFxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICBhdXRob3I6IFwiYWdlbnRcIiBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogYG9wLSR7RGF0ZS5ub3coKX0taW5zZXJ0LSR7aWR4fWAsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyb3dfaW5zZXJ0XCIgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgcm93SWQ6IG5ld1Jvd0lkLFxuICAgICAgICAgICAgICAgIGF1dGhvcjogXCJhZ2VudFwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LSR7aWR4fWAsXG4gICAgICAgICAgICAgIHR5cGU6IG9wLnR5cGUgfHwgXCJjZWxsX3VwZGF0ZVwiLFxuICAgICAgICAgICAgICByb3dJZDogb3Aucm93SWQsXG4gICAgICAgICAgICAgIGNvbHVtbklkOiBvcC5jb2x1bW5JZCxcbiAgICAgICAgICAgICAgb2xkVmFsdWU6IG9wLm9sZFZhbHVlLFxuICAgICAgICAgICAgICBuZXdWYWx1ZTogb3AubmV3VmFsdWUsXG4gICAgICAgICAgICAgIGF1dGhvcjogXCJhZ2VudFwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KS5mbGF0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBwYXJzZSBvcGVyYXRpb25zIEpTT046XCIsIGUsIFwiUmF3OlwiLCBqc29uTWF0Y2hbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrOiBkZXRlY3QgcGF0dGVybnMgbGlrZSBcImRlbGV0ZSByb3cgWFwiXG4gICAgY29uc3QgZGVsZXRlTWF0Y2ggPSB0ZXh0Lm1hdGNoKC9kZWxldGVcXHMrcm93XFxzKyhcXGQrKS9naSk7XG4gICAgaWYgKGRlbGV0ZU1hdGNoKSB7XG4gICAgICBkZWxldGVNYXRjaC5mb3JFYWNoKChtYXRjaCwgaWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJvd051bSA9IG1hdGNoLm1hdGNoKC9cXGQrLyk/LlswXTtcbiAgICAgICAgaWYgKHJvd051bSAmJiByb3dzW3BhcnNlSW50KHJvd051bSkgLSAxXSkge1xuICAgICAgICAgIG9wcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS1kZWwtJHtpZHh9YCxcbiAgICAgICAgICAgIHR5cGU6IFwicm93X2RlbGV0ZVwiLFxuICAgICAgICAgICAgcm93SWQ6IHJvd3NbcGFyc2VJbnQocm93TnVtKSAtIDFdLmlkLFxuICAgICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvcHM7XG4gIH0sIFtyb3dzLCBjb2x1bW5zXSk7XG5cbiAgLy8gSGVscGVyIHRvIGNvbnZlcnQgY29sdW1uIGxldHRlciB0byBpbmRleFxuICBjb25zdCBjb2x1bW5MZXR0ZXJUb0luZGV4ID0gKGxldHRlcjogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV0dGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpbmRleCA9IGluZGV4ICogMjYgKyAobGV0dGVyLmNoYXJDb2RlQXQoaSkgLSA2NCk7XG4gICAgfVxuICAgIHJldHVybiBpbmRleCAtIDE7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChtb2RlICE9PSBcImFnZW50XCIpIHJldHVybjtcbiAgICBpZiAoIWlucHV0LnRyaW0oKSkgcmV0dXJuO1xuXG4gICAgaWYgKGFib3J0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGFib3J0UmVmLmN1cnJlbnQuYWJvcnQoKTtcbiAgICB9XG4gICAgYWJvcnRSZWYuY3VycmVudCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IGB1LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgZnJvbTogXCJ1c2VyXCIsXG4gICAgICB0ZXh0OiBpbnB1dC50cmltKCksXG4gICAgfTtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSk7XG4gICAgc2V0SW5wdXQoXCJcIik7XG4gICAgb25SdW4/Lih1c2VyTWVzc2FnZS50ZXh0KTtcblxuICAgIGNvbnN0IGFnZW50TXNnSWQgPSBgYS0ke0RhdGUubm93KCl9YDtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgLi4ucHJldixcbiAgICAgIHsgaWQ6IGFnZW50TXNnSWQsIGZyb206IFwiYWdlbnRcIiwgdGV4dDogXCJcIiwgaXNTdHJlYW1pbmc6IHRydWUgfSxcbiAgICBdKTtcbiAgICBzZXRTdGF0dXMoXCJ0aGlua2luZ1wiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBKdXN0IHNlbmQgdGhlIHVzZXIgbWVzc2FnZSBkaXJlY3RseSAtIGNvbnRleHQgd2FzIGFscmVhZHkgc2VudCBkdXJpbmcgY29ubmVjdGlvblxuICAgICAgY29uc3QgbWV0aG9kID0gcnVuSWQgPyBcIlBVVFwiIDogXCJQT1NUXCI7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9jaGF0L3Byb3h5XCIsIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBtZXNzYWdlOiB1c2VyTWVzc2FnZS50ZXh0LFxuICAgICAgICAgIHJ1bklkLFxuICAgICAgICAgIHVzZXJJZDogdXNlcklkIHx8IFwiYW5vbnltb3VzXCIsXG4gICAgICAgIH0pLFxuICAgICAgICBzaWduYWw6IGFib3J0UmVmLmN1cnJlbnQuc2lnbmFsLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5ld1J1bklkID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJYLVRvb2xob3VzZS1SdW4tSURcIik7XG4gICAgICBpZiAobmV3UnVuSWQpIHtcbiAgICAgICAgc2V0UnVuSWQobmV3UnVuSWQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5Py5nZXRSZWFkZXIoKTtcbiAgICAgIGlmICghcmVhZGVyKSB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNwb25zZSBib2R5XCIpO1xuXG4gICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICBsZXQgYWNjdW11bGF0ZWQgPSBcIlwiO1xuICAgICAgc2V0U3RhdHVzKFwic3RyZWFtaW5nXCIpO1xuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XG5cbiAgICAgICAgY29uc3QgY2h1bmsgPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgICAgIGFjY3VtdWxhdGVkICs9IGNodW5rO1xuXG4gICAgICAgIGlmIChhY2N1bXVsYXRlZC50cmltKCkgPT09IFwiQVVUSF9SRVFVSVJFRFwiKSB7XG4gICAgICAgICAgc2V0U3RhdHVzKFwiYXV0aF9yZXF1aXJlZFwiKTtcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gcHJldi5maWx0ZXIoKG0pID0+IG0uaWQgIT09IGFnZW50TXNnSWQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxuICAgICAgICAgIHByZXYubWFwKChtKSA9PlxuICAgICAgICAgICAgbS5pZCA9PT0gYWdlbnRNc2dJZCA/IHsgLi4ubSwgdGV4dDogYWNjdW11bGF0ZWQgfSA6IG1cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgobSkgPT5cbiAgICAgICAgICBtLmlkID09PSBhZ2VudE1zZ0lkID8geyAuLi5tLCBpc1N0cmVhbWluZzogZmFsc2UgfSA6IG1cbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgaWYgKGFjY3VtdWxhdGVkICYmIGFjY3VtdWxhdGVkLnRyaW0oKSAhPT0gXCJBVVRIX1JFUVVJUkVEXCIpIHtcbiAgICAgICAgY29uc3Qgb3BzID0gcGFyc2VPcGVyYXRpb25zRnJvbVJlc3BvbnNlKGFjY3VtdWxhdGVkKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJQYXJzZWQgb3BlcmF0aW9ucyBmcm9tIGFnZW50OlwiLCBvcHMpO1xuICAgICAgICBpZiAob3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBvblByb3Bvc2VPcHMob3BzKTtcbiAgICAgICAgICAvLyBEb24ndCBhdXRvLW9wZW4gcHJldmlldywgbGV0IHVzZXIgc2VlIHRoZSBwZW5kaW5nIG9wcyBpbiBzaWRlYmFyXG4gICAgICAgICAgLy8gb25QcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogV2UgZG9uJ3QgY2FsbCBvbkFnZW50Q29tcGxldGUgaGVyZSBhbnltb3JlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGFnZW50IGRvZXNuJ3Qgd3JpdGUgdG8gc2hlZXRzIGRpcmVjdGx5IC0gaXQgb25seSBnZW5lcmF0ZXNcbiAgICAgICAgLy8gb3BlcmF0aW9ucyB0aGF0IHRoZSB1c2VyIG11c3QgcmV2aWV3IGFuZCBwdXNoXG4gICAgICB9XG5cbiAgICAgIHNldFN0YXR1cyhcImlkbGVcIik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoKGVyciBhcyBFcnJvcikubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHJldHVybjtcblxuICAgICAgY29uc29sZS5lcnJvcihcIkFnZW50IGVycm9yOlwiLCBlcnIpO1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChtKSA9PlxuICAgICAgICAgIG0uaWQgPT09IGFnZW50TXNnSWRcbiAgICAgICAgICAgID8geyAuLi5tLCB0ZXh0OiBcIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIiwgaXNTdHJlYW1pbmc6IGZhbHNlIH1cbiAgICAgICAgICAgIDogbVxuICAgICAgICApXG4gICAgICApO1xuICAgICAgc2V0U3RhdHVzKFwiaWRsZVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYWJvcnRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBoYW5kbGVSdW4oKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IG1lc3NhZ2VzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5zY3JvbGxUb3AgPSBlbC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LCBbbWVzc2FnZXNdKTtcblxuICBjb25zdCBzdGF0dXNDb25maWcgPSB7XG4gICAgaWRsZTogeyBjb2xvcjogXCJiZy1ncmF5LTQwMFwiLCBsYWJlbDogXCJJZGxlXCIgfSxcbiAgICB0aGlua2luZzogeyBjb2xvcjogXCJiZy15ZWxsb3ctNDAwIGFuaW1hdGUtcHVsc2VcIiwgbGFiZWw6IFwiVGhpbmtpbmcuLi5cIiB9LFxuICAgIHN0cmVhbWluZzogeyBjb2xvcjogXCJiZy1ncmVlbi00MDAgYW5pbWF0ZS1wdWxzZVwiLCBsYWJlbDogXCJSZXNwb25kaW5nLi4uXCIgfSxcbiAgICBhdXRoX3JlcXVpcmVkOiB7IGNvbG9yOiBcImJnLXJlZC00MDBcIiwgbGFiZWw6IFwiQXV0aCBSZXF1aXJlZFwiIH0sXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2lzQ29ubmVjdGluZ1NoZWV0ICYmICFhZ2VudENvbm5lY3RlZCA/IChcbiAgICAgICAgPEFnZW50TG9hZGluZ1N0YXRlIHNoZWV0TmFtZT17c2hlZXROYW1lIHx8IHNoZWV0SWQgfHwgXCJTaGVldFwifSAvPlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBmbGV4LWNvbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5BZ2VudDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YGgtMiB3LTIgcm91bmRlZC1mdWxsICR7c3RhdHVzQ29uZmlnW3N0YXR1c10uY29sb3J9YH0gLz5cbiAgICAgICAgICB7c3RhdHVzQ29uZmlnW3N0YXR1c10ubGFiZWx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDb25uZWN0ZWQgU2hlZXQgSW5mbyBvciBDb25uZWN0IEJ1dHRvbiAqL31cbiAgICAgIHtjb25uZWN0ZWRTaGVldCAmJiBhZ2VudENvbm5lY3RlZCA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgYmctZ3JlZW4tNTAgcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImgtNCB3LTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk05IDEybDIgMiA0LTRtNiAyYTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmVlbi04MDBcIj5Db25uZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlbi02MDAgdHJ1bmNhdGUgbWF4LXctWzE4MHB4XVwiIHRpdGxlPXtjb25uZWN0ZWRTaGVldC5uYW1lfT5cbiAgICAgICAgICAgICAgICAgIHtjb25uZWN0ZWRTaGVldC5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEaXNjb25uZWN0U2hlZXR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlbi02MDAgaG92ZXI6dGV4dC1ncmVlbi04MDAgdW5kZXJsaW5lXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgRGlzY29ubmVjdFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IHNoZWV0SWQgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIGJnLWdyYXktNTAgcC02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAge3NoZWV0TmFtZSB8fCBgU2hlZXQgJHtzaGVldElkLnNsaWNlKDAsIDEyKX0uLi5gfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbm5lY3RTaGVldH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYmctYmx1ZS02MDAgcHgtNiBweS0yIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ29ubmVjdCB0byB0aGlzIFNoZWV0XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQteHMgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgQ2xpY2sgdG8gZ2l2ZSB0aGUgYWdlbnQgZnVsbCBhY2Nlc3MgdG8gZWRpdCB0aGlzIHNwcmVhZHNoZWV0XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci15ZWxsb3ctMjAwIGJnLXllbGxvdy01MCBwLTMgdGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LXllbGxvdy03MDBcIj5cbiAgICAgICAgICBTZWxlY3QgYSBzaGVldCBmcm9tIHRoZSBkcm9wZG93biB0byBnZXQgc3RhcnRlZFxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgcmVmPXttZXNzYWdlc1JlZn0gY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWF1dG8gc3BhY2UteS0zIHAtMlwiPlxuICAgICAgICB7bWVzc2FnZXMubWFwKChtKSA9PiAoXG4gICAgICAgICAgPEFnZW50TWVzc2FnZVxuICAgICAgICAgICAga2V5PXttLmlkfVxuICAgICAgICAgICAgZnJvbT17bS5mcm9tfVxuICAgICAgICAgICAgdGV4dD17bS50ZXh0IHx8IChtLmlzU3RyZWFtaW5nID8gXCIuLi5cIiA6IFwiXCIpfVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwIHB0LTIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAge3BlbmRpbmdPcHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPHNwYW4+Tm8gcGVuZGluZyBjaGFuZ2VzPC9zcGFuPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICBQZW5kaW5nIGNoYW5nZXMgKHtwZW5kaW5nT3BzLmxlbmd0aH0pXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xIG1heC1oLTMyIG92ZXJmbG93LWF1dG9cIj5cbiAgICAgICAgICAgICAgICB7cGVuZGluZ09wcy5tYXAoKG9wKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtvcC5pZH0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWxlZnQgdW5kZXJsaW5lIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJQcmV2aWV3IHBlbmRpbmcgY2hhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblByZXZpZXd9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7b3AudHlwZX06IHtvcC5yb3dJZCA/PyBcIi1cIn0gwrcge29wLmNvbHVtbklkID8/IFwiLVwifVxuICAgICAgICAgICAgICAgICAgICAgIHtvcC5uZXdWYWx1ZSA/IGAg4oaSIFwiJHtvcC5uZXdWYWx1ZX1cImAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dmFsaWRhdGlvbklzc3Vlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTEwMCBwdC0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgIFZhbGlkYXRpb24gaXNzdWVzICh7dmFsaWRhdGlvbklzc3Vlcy5sZW5ndGh9KVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibXQtMSBzcGFjZS15LTEgbWF4LWgtMjQgb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgICAgICB7dmFsaWRhdGlvbklzc3Vlcy5tYXAoKGlzc3VlKSA9PiAoXG4gICAgICAgICAgICAgICAgPGxpIGtleT17aXNzdWUuaWR9IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNjAwXCI+XG4gICAgICAgICAgICAgICAgICB7aXNzdWUucm93SWR9IMK3IHtpc3N1ZS5jb2x1bW5JZH06IHtpc3N1ZS5tZXNzYWdlfVxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwIGJnLXdoaXRlIHAtMlwiPlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQWdlbnQgaW5wdXRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXtcbiAgICAgICAgICAgICFjb25uZWN0ZWRTaGVldFxuICAgICAgICAgICAgICA/IFwiQ29ubmVjdCB0byBhIHNoZWV0IGZpcnN0IHRvIHN0YXJ0IGVkaXRpbmdcIlxuICAgICAgICAgICAgICA6IG1vZGUgPT09IFwiYWdlbnRcIlxuICAgICAgICAgICAgICAgID8gXCJBc2s6IHJlbW92ZSBkdXBsaWNhdGVzLCBzb3J0IGJ5IGFtb3VudCwgY2xlYW4gZW1haWxzLi4uXCJcbiAgICAgICAgICAgICAgICA6IFwiU3dpdGNoIHRvIEFnZW50IG1vZGUgdG8gdXNlIEFJXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHJlc2l6ZS1ub25lIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0yIHB5LTEuNSB0ZXh0LXNtIGRpc2FibGVkOmJnLWdyYXktMTAwIGRpc2FibGVkOnRleHQtZ3JheS01MDBcIlxuICAgICAgICAgIHJvd3M9ezJ9XG4gICAgICAgICAgdmFsdWU9e2lucHV0fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cbiAgICAgICAgICBkaXNhYmxlZD17IWNvbm5lY3RlZFNoZWV0IHx8IG1vZGUgIT09IFwiYWdlbnRcIiB8fCBzdGF0dXMgPT09IFwic3RyZWFtaW5nXCIgfHwgc3RhdHVzID09PSBcInRoaW5raW5nXCJ9XG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiUnVuIGFnZW50XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJnLWJsYWNrIHB4LTMgcHktMS41IHRleHQtc20gdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSdW59XG4gICAgICAgICAgZGlzYWJsZWQ9eyFjb25uZWN0ZWRTaGVldCB8fCBtb2RlICE9PSBcImFnZW50XCIgfHwgIWlucHV0LnRyaW0oKSB8fCBzdGF0dXMgPT09IFwic3RyZWFtaW5nXCIgfHwgc3RhdHVzID09PSBcInRoaW5raW5nXCJ9XG4gICAgICAgID5cbiAgICAgICAgICB7c3RhdHVzID09PSBcInRoaW5raW5nXCIgfHwgc3RhdHVzID09PSBcInN0cmVhbWluZ1wiID8gXCJQcm9jZXNzaW5nLi4uXCIgOiBcIlJ1blwifVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiQWdlbnRNZXNzYWdlIiwiQWdlbnRMb2FkaW5nU3RhdGUiLCJBZ2VudFNpZGViYXIiLCJtb2RlIiwicGVuZGluZ09wcyIsImNvbHVtbnMiLCJyb3dzIiwic2hlZXRJZCIsInNoZWV0TmFtZSIsInRhYk5hbWUiLCJ1c2VySWQiLCJ2YWxpZGF0aW9uSXNzdWVzIiwib25Qcm9wb3NlT3BzIiwib25QcmV2aWV3Iiwib25SdW4iLCJvbkFnZW50Q29tcGxldGUiLCJpbnB1dCIsInNldElucHV0IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlkIiwiZnJvbSIsInRleHQiLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJydW5JZCIsInNldFJ1bklkIiwiaXNDb25uZWN0ZWQiLCJzZXRJc0Nvbm5lY3RlZCIsImNvbm5lY3RlZFNoZWV0Iiwic2V0Q29ubmVjdGVkU2hlZXQiLCJpc0Nvbm5lY3RpbmdTaGVldCIsInNldElzQ29ubmVjdGluZ1NoZWV0IiwiYWdlbnRDb25uZWN0ZWQiLCJzZXRBZ2VudENvbm5lY3RlZCIsIm1lc3NhZ2VzUmVmIiwiYWJvcnRSZWYiLCJjaGVja0Nvbm5lY3Rpb24iLCJyZXMiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwiY29ubmVjdGVkIiwiaGFuZGxlQ29ubmVjdCIsImNvbnNvbGUiLCJsb2ciLCJhbGVydCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFwcCIsInJlZGlyZWN0VXJsIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3IiLCJkZXRhaWxzIiwiZXJyIiwiaGFuZGxlQ29ubmVjdFNoZWV0IiwibmFtZSIsInNsaWNlIiwiY29udGV4dE1lc3NhZ2UiLCJ0eXBlIiwic3ByZWFkc2hlZXRJZCIsInNwcmVhZHNoZWV0TmFtZSIsImNvbm5lY3RlZEFjY291bnRJZCIsIm1hcCIsImNvbCIsImlkeCIsImxldHRlciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImxhYmVsIiwiZGF0YVR5cGVzIiwicmVkdWNlIiwiYWNjIiwiY3VycmVudERhdGEiLCJyb3ciLCJjZWxscyIsInJvd0NvdW50IiwibGVuZ3RoIiwiY3VycmVudCIsImFib3J0IiwiQWJvcnRDb250cm9sbGVyIiwiY29udGV4dE1zZyIsIkRhdGUiLCJub3ciLCJwcmV2IiwiYWdlbnRNc2dJZCIsImlzU3RyZWFtaW5nIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwic2lnbmFsIiwib2siLCJFcnJvciIsIm5ld1J1bklkIiwiZ2V0IiwicmVhZGVyIiwiZ2V0UmVhZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiYWNjdW11bGF0ZWQiLCJkb25lIiwidmFsdWUiLCJyZWFkIiwiY2h1bmsiLCJkZWNvZGUiLCJzdHJlYW0iLCJtIiwianNvbk1hdGNoIiwibWF0Y2giLCJwYXJzZWQiLCJwYXJzZSIsImNvbmZpcm1lZCIsImUiLCJoYW5kbGVEaXNjb25uZWN0U2hlZXQiLCJwYXJzZU9wZXJhdGlvbnNGcm9tUmVzcG9uc2UiLCJvcHMiLCJjb2x1bW5MZXR0ZXJUb0luZGV4IiwiaW5kZXgiLCJpIiwiY2hhckNvZGVBdCIsIm9wZXJhdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJyZXN1bHQiLCJvcCIsImNvbEluZGV4IiwiY29sdW1uIiwidG9VcHBlckNhc2UiLCJjb2x1bW5JZCIsImludGVybmFsUm93IiwiYWdlbnRSb3ciLCJyb3dJZCIsIm5ld1ZhbHVlIiwiYXV0aG9yIiwibmV3Um93SWQiLCJ2YWx1ZXMiLCJ2YWwiLCJjb2xJZHgiLCJzb3J0ZWRfZGF0YSIsImZsYXRNYXAiLCJyb3dEYXRhIiwicm93SWR4IiwiZGlyZWN0aW9uIiwiZmxhdCIsImZpbHRlciIsIkJvb2xlYW4iLCJvbGRWYWx1ZSIsImRlbGV0ZU1hdGNoIiwiZm9yRWFjaCIsInJvd051bSIsInBhcnNlSW50IiwicHVzaCIsImhhbmRsZVJ1biIsInRyaW0iLCJ1c2VyTWVzc2FnZSIsImhhbmRsZUtleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiZWwiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzdGF0dXNDb25maWciLCJpZGxlIiwiY29sb3IiLCJ0aGlua2luZyIsInN0cmVhbWluZyIsImF1dGhfcmVxdWlyZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwidGl0bGUiLCJidXR0b24iLCJvbkNsaWNrIiwicmVmIiwidWwiLCJsaSIsImFyaWEtbGFiZWwiLCJpc3N1ZSIsInRleHRhcmVhIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsInRhcmdldCIsIm9uS2V5RG93biIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/components/AgentSidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/AuthModeToggle.tsx":
/*!*******************************************!*\
  !*** ./app/components/AuthModeToggle.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AuthModeToggle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nfunction AuthModeToggle({ mode, onChange, connecting, connected, onConnect, error }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-wrap items-center gap-3 text-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"inline-flex rounded-md border border-gray-300 p-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Use app sheets\",\n                        className: `px-3 py-1 rounded ${mode === \"service\" ? \"bg-black text-white\" : \"text-black\"}`,\n                        onClick: ()=>onChange(\"service\"),\n                        children: \"Use app sheets (no sign-in)\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Use my Google Sheets\",\n                        className: `px-3 py-1 rounded ${mode === \"oauth\" ? \"bg-black text-white\" : \"text-black\"}`,\n                        onClick: ()=>onChange(\"oauth\"),\n                        children: \"Use my Google Sheets\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, this),\n            mode === \"oauth\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Connect Google Sheets\",\n                        className: \"rounded-md border border-gray-300 px-3 py-1.5\",\n                        onClick: onConnect,\n                        disabled: connecting,\n                        children: connected ? \"Connected\" : connecting ? \"Connecting...\" : \"Connect\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-xs text-red-600\",\n                        children: error\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                        lineNumber: 52,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/aadit/sheet-ops/app/components/AuthModeToggle.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9BdXRoTW9kZVRvZ2dsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVdlLFNBQVNBLGVBQWUsRUFDckNDLElBQUksRUFDSkMsUUFBUSxFQUNSQyxVQUFVLEVBQ1ZDLFNBQVMsRUFDVEMsU0FBUyxFQUNUQyxLQUFLLEVBQ2U7SUFDcEIscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNDO3dCQUNDQyxjQUFXO3dCQUNYRixXQUFXLENBQUMsa0JBQWtCLEVBQzVCUCxTQUFTLFlBQVksd0JBQXdCLGFBQzlDLENBQUM7d0JBQ0ZVLFNBQVMsSUFBTVQsU0FBUztrQ0FDekI7Ozs7OztrQ0FHRCw4REFBQ087d0JBQ0NDLGNBQVc7d0JBQ1hGLFdBQVcsQ0FBQyxrQkFBa0IsRUFDNUJQLFNBQVMsVUFBVSx3QkFBd0IsYUFDNUMsQ0FBQzt3QkFDRlUsU0FBUyxJQUFNVCxTQUFTO2tDQUN6Qjs7Ozs7Ozs7Ozs7O1lBSUZELFNBQVMseUJBQ1IsOERBQUNNO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0M7d0JBQ0NDLGNBQVc7d0JBQ1hGLFdBQVU7d0JBQ1ZHLFNBQVNOO3dCQUNUTyxVQUFVVDtrQ0FFVEMsWUFBWSxjQUFjRCxhQUFhLGtCQUFrQjs7Ozs7O29CQUUzREcsdUJBQVMsOERBQUNPO3dCQUFLTCxXQUFVO2tDQUF3QkY7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUs1RCIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0F1dGhNb2RlVG9nZ2xlLnRzeD80ZDEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbnRlcmZhY2UgQXV0aE1vZGVUb2dnbGVQcm9wcyB7XG4gIG1vZGU6IFwic2VydmljZVwiIHwgXCJvYXV0aFwiO1xuICBvbkNoYW5nZTogKG1vZGU6IFwic2VydmljZVwiIHwgXCJvYXV0aFwiKSA9PiB2b2lkO1xuICBjb25uZWN0aW5nOiBib29sZWFuO1xuICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIG9uQ29ubmVjdDogKCkgPT4gdm9pZDtcbiAgZXJyb3I/OiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdXRoTW9kZVRvZ2dsZSh7XG4gIG1vZGUsXG4gIG9uQ2hhbmdlLFxuICBjb25uZWN0aW5nLFxuICBjb25uZWN0ZWQsXG4gIG9uQ29ubmVjdCxcbiAgZXJyb3IsXG59OiBBdXRoTW9kZVRvZ2dsZVByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTMgdGV4dC1zbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcC0xXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiVXNlIGFwcCBzaGVldHNcIlxuICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkICR7XG4gICAgICAgICAgICBtb2RlID09PSBcInNlcnZpY2VcIiA/IFwiYmctYmxhY2sgdGV4dC13aGl0ZVwiIDogXCJ0ZXh0LWJsYWNrXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkNoYW5nZShcInNlcnZpY2VcIil9XG4gICAgICAgID5cbiAgICAgICAgICBVc2UgYXBwIHNoZWV0cyAobm8gc2lnbi1pbilcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiVXNlIG15IEdvb2dsZSBTaGVldHNcIlxuICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkICR7XG4gICAgICAgICAgICBtb2RlID09PSBcIm9hdXRoXCIgPyBcImJnLWJsYWNrIHRleHQtd2hpdGVcIiA6IFwidGV4dC1ibGFja1wiXG4gICAgICAgICAgfWB9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25DaGFuZ2UoXCJvYXV0aFwiKX1cbiAgICAgICAgPlxuICAgICAgICAgIFVzZSBteSBHb29nbGUgU2hlZXRzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICB7bW9kZSA9PT0gXCJvYXV0aFwiICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDb25uZWN0IEdvb2dsZSBTaGVldHNcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMS41XCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ29ubmVjdH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtjb25uZWN0aW5nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjb25uZWN0ZWQgPyBcIkNvbm5lY3RlZFwiIDogY29ubmVjdGluZyA/IFwiQ29ubmVjdGluZy4uLlwiIDogXCJDb25uZWN0XCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAge2Vycm9yICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1yZWQtNjAwXCI+e2Vycm9yfTwvc3Bhbj59XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiQXV0aE1vZGVUb2dnbGUiLCJtb2RlIiwib25DaGFuZ2UiLCJjb25uZWN0aW5nIiwiY29ubmVjdGVkIiwib25Db25uZWN0IiwiZXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJhcmlhLWxhYmVsIiwib25DbGljayIsImRpc2FibGVkIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/components/AuthModeToggle.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/Card.tsx":
/*!*********************************!*\
  !*** ./app/components/Card.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Card)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction Card({ children, className }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `bg-white text-black rounded-lg border-2 border-black p-6 shadow-[10px_10px_0_rgba(0,0,0,0.15)] ${className ?? \"\"}`,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/Card.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9DYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT2UsU0FBU0EsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBYTtJQUM3RCxxQkFDRSw4REFBQ0M7UUFDQ0QsV0FBVyxDQUFDLCtGQUErRixFQUN6R0EsYUFBYSxHQUNkLENBQUM7a0JBRUREOzs7Ozs7QUFHUCIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0NhcmQudHN4PzFmOTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW50ZXJmYWNlIENhcmRQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FyZCh7IGNoaWxkcmVuLCBjbGFzc05hbWUgfTogQ2FyZFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtgYmctd2hpdGUgdGV4dC1ibGFjayByb3VuZGVkLWxnIGJvcmRlci0yIGJvcmRlci1ibGFjayBwLTYgc2hhZG93LVsxMHB4XzEwcHhfMF9yZ2JhKDAsMCwwLDAuMTUpXSAke1xuICAgICAgICBjbGFzc05hbWUgPz8gXCJcIlxuICAgICAgfWB9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJDYXJkIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/components/Card.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/ClickSpark.tsx":
/*!***************************************!*\
  !*** ./app/components/ClickSpark.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst ClickSpark = ({ sparkColor = \"#ffffff00\", sparkSize = 10, sparkRadius = 15, sparkCount = 8, duration = 400, easing = \"ease-out\", extraScale = 1.0, children })=>{\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sparksRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]);\n    const startTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const easeFunc = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((t)=>{\n        switch(easing){\n            case \"linear\":\n                return t;\n            case \"ease-in\":\n                return t * t;\n            case \"ease-in-out\":\n                return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n            default:\n                return t * (2 - t);\n        }\n    }, [\n        easing\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const canvas = document.createElement(\"canvas\");\n        canvasRef.current = canvas;\n        canvas.style.position = \"fixed\";\n        canvas.style.inset = \"0\";\n        canvas.style.width = \"100vw\";\n        canvas.style.height = \"100vh\";\n        canvas.style.pointerEvents = \"none\";\n        canvas.style.zIndex = \"9999\";\n        document.body.appendChild(canvas);\n        const ctx = canvas.getContext(\"2d\");\n        if (!ctx) return;\n        let resizeTimeout;\n        let animationId;\n        const resizeCanvas = ()=>{\n            const width = window.innerWidth;\n            const height = window.innerHeight;\n            canvas.width = Math.floor(width);\n            canvas.height = Math.floor(height);\n        };\n        const handleResize = ()=>{\n            clearTimeout(resizeTimeout);\n            resizeTimeout = setTimeout(resizeCanvas, 100);\n        };\n        const handlePointerDown = (e)=>{\n            const now = performance.now();\n            const newSparks = Array.from({\n                length: sparkCount\n            }, (_, i)=>({\n                    x: e.clientX,\n                    y: e.clientY,\n                    angle: 2 * Math.PI * i / sparkCount,\n                    startTime: now\n                }));\n            sparksRef.current.push(...newSparks);\n        };\n        const draw = (timestamp)=>{\n            if (!startTimeRef.current) {\n                startTimeRef.current = timestamp;\n            }\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            sparksRef.current = sparksRef.current.filter((spark)=>{\n                const elapsed = timestamp - spark.startTime;\n                if (elapsed >= duration) {\n                    return false;\n                }\n                const progress = elapsed / duration;\n                const eased = easeFunc(progress);\n                const distance = eased * sparkRadius * extraScale;\n                const lineLength = sparkSize * (1 - eased);\n                const x1 = spark.x + distance * Math.cos(spark.angle);\n                const y1 = spark.y + distance * Math.sin(spark.angle);\n                const x2 = spark.x + (distance + lineLength) * Math.cos(spark.angle);\n                const y2 = spark.y + (distance + lineLength) * Math.sin(spark.angle);\n                ctx.strokeStyle = sparkColor;\n                ctx.lineWidth = 2;\n                ctx.beginPath();\n                ctx.moveTo(x1, y1);\n                ctx.lineTo(x2, y2);\n                ctx.stroke();\n                return true;\n            });\n            animationId = requestAnimationFrame(draw);\n        };\n        window.addEventListener(\"resize\", handleResize);\n        window.addEventListener(\"pointerdown\", handlePointerDown);\n        resizeCanvas();\n        animationId = requestAnimationFrame(draw);\n        return ()=>{\n            window.removeEventListener(\"resize\", handleResize);\n            window.removeEventListener(\"pointerdown\", handlePointerDown);\n            clearTimeout(resizeTimeout);\n            cancelAnimationFrame(animationId);\n            canvas.remove();\n        };\n    }, [\n        sparkColor,\n        sparkSize,\n        sparkRadius,\n        sparkCount,\n        duration,\n        easeFunc,\n        extraScale\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full min-h-screen\",\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/ClickSpark.tsx\",\n        lineNumber: 145,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ClickSpark);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VU87UUFBVUw7S0FBVztJQUVuRixxQkFDRSw4REFBQzhFO1FBQUlDLFdBQVU7a0JBQ1o5RTs7Ozs7O0FBR1A7QUFFQSxpRUFBZVIsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0NsaWNrU3BhcmsudHN4PzY0ODYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBDbGlja1NwYXJrUHJvcHMge1xuICBzcGFya0NvbG9yPzogc3RyaW5nO1xuICBzcGFya1NpemU/OiBudW1iZXI7XG4gIHNwYXJrUmFkaXVzPzogbnVtYmVyO1xuICBzcGFya0NvdW50PzogbnVtYmVyO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgZWFzaW5nPzogJ2xpbmVhcicgfCAnZWFzZS1pbicgfCAnZWFzZS1vdXQnIHwgJ2Vhc2UtaW4tb3V0JztcbiAgZXh0cmFTY2FsZT86IG51bWJlcjtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmludGVyZmFjZSBTcGFyayB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBhbmdsZTogbnVtYmVyO1xuICBzdGFydFRpbWU6IG51bWJlcjtcbn1cblxuY29uc3QgQ2xpY2tTcGFyazogUmVhY3QuRkM8Q2xpY2tTcGFya1Byb3BzPiA9ICh7XG4gIHNwYXJrQ29sb3IgPSAnI2ZmZmZmZjAwJyxcbiAgc3BhcmtTaXplID0gMTAsXG4gIHNwYXJrUmFkaXVzID0gMTUsXG4gIHNwYXJrQ291bnQgPSA4LFxuICBkdXJhdGlvbiA9IDQwMCxcbiAgZWFzaW5nID0gJ2Vhc2Utb3V0JyxcbiAgZXh0cmFTY2FsZSA9IDEuMCxcbiAgY2hpbGRyZW5cbn0pID0+IHtcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHNwYXJrc1JlZiA9IHVzZVJlZjxTcGFya1tdPihbXSk7XG4gIGNvbnN0IHN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBlYXNlRnVuYyA9IHVzZUNhbGxiYWNrKFxuICAgICh0OiBudW1iZXIpID0+IHtcbiAgICAgIHN3aXRjaCAoZWFzaW5nKSB7XG4gICAgICAgIGNhc2UgJ2xpbmVhcic6XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIGNhc2UgJ2Vhc2UtaW4nOlxuICAgICAgICAgIHJldHVybiB0ICogdDtcbiAgICAgICAgY2FzZSAnZWFzZS1pbi1vdXQnOlxuICAgICAgICAgIHJldHVybiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2Vhc2luZ11cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhc1JlZi5jdXJyZW50ID0gY2FudmFzO1xuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgY2FudmFzLnN0eWxlLmluc2V0ID0gJzAnO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDB2dyc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDB2aCc7XG4gICAgY2FudmFzLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgY2FudmFzLnN0eWxlLnpJbmRleCA9ICc5OTk5JztcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eCkgcmV0dXJuO1xuXG4gICAgbGV0IHJlc2l6ZVRpbWVvdXQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuICAgIGxldCBhbmltYXRpb25JZDogbnVtYmVyO1xuXG4gICAgY29uc3QgcmVzaXplQ2FudmFzID0gKCkgPT4ge1xuICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGgpO1xuICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQocmVzaXplQ2FudmFzLCAxMDApO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChlOiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgbmV3U3BhcmtzOiBTcGFya1tdID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogc3BhcmtDb3VudCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICB5OiBlLmNsaWVudFksXG4gICAgICAgIGFuZ2xlOiAoMiAqIE1hdGguUEkgKiBpKSAvIHNwYXJrQ291bnQsXG4gICAgICAgIHN0YXJ0VGltZTogbm93XG4gICAgICB9KSk7XG5cbiAgICAgIHNwYXJrc1JlZi5jdXJyZW50LnB1c2goLi4ubmV3U3BhcmtzKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhdyA9ICh0aW1lc3RhbXA6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKCFzdGFydFRpbWVSZWYuY3VycmVudCkge1xuICAgICAgICBzdGFydFRpbWVSZWYuY3VycmVudCA9IHRpbWVzdGFtcDtcbiAgICAgIH1cbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgICAgc3BhcmtzUmVmLmN1cnJlbnQgPSBzcGFya3NSZWYuY3VycmVudC5maWx0ZXIoKHNwYXJrOiBTcGFyaykgPT4ge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gdGltZXN0YW1wIC0gc3Bhcmsuc3RhcnRUaW1lO1xuICAgICAgICBpZiAoZWxhcHNlZCA+PSBkdXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gZWxhcHNlZCAvIGR1cmF0aW9uO1xuICAgICAgICBjb25zdCBlYXNlZCA9IGVhc2VGdW5jKHByb2dyZXNzKTtcblxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IGVhc2VkICogc3BhcmtSYWRpdXMgKiBleHRyYVNjYWxlO1xuICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gc3BhcmtTaXplICogKDEgLSBlYXNlZCk7XG5cbiAgICAgICAgY29uc3QgeDEgPSBzcGFyay54ICsgZGlzdGFuY2UgKiBNYXRoLmNvcyhzcGFyay5hbmdsZSk7XG4gICAgICAgIGNvbnN0IHkxID0gc3BhcmsueSArIGRpc3RhbmNlICogTWF0aC5zaW4oc3BhcmsuYW5nbGUpO1xuICAgICAgICBjb25zdCB4MiA9IHNwYXJrLnggKyAoZGlzdGFuY2UgKyBsaW5lTGVuZ3RoKSAqIE1hdGguY29zKHNwYXJrLmFuZ2xlKTtcbiAgICAgICAgY29uc3QgeTIgPSBzcGFyay55ICsgKGRpc3RhbmNlICsgbGluZUxlbmd0aCkgKiBNYXRoLnNpbihzcGFyay5hbmdsZSk7XG5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3BhcmtDb2xvcjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4MSwgeTEpO1xuICAgICAgICBjdHgubGluZVRvKHgyLCB5Mik7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgICBhbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShkcmF3KTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24pO1xuICAgIHJlc2l6ZUNhbnZhcygpO1xuICAgIGFuaW1hdGlvbklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgaGFuZGxlUG9pbnRlckRvd24pO1xuICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uSWQpO1xuICAgICAgY2FudmFzLnJlbW92ZSgpO1xuICAgIH07XG4gIH0sIFtzcGFya0NvbG9yLCBzcGFya1NpemUsIHNwYXJrUmFkaXVzLCBzcGFya0NvdW50LCBkdXJhdGlvbiwgZWFzZUZ1bmMsIGV4dHJhU2NhbGVdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIG1pbi1oLXNjcmVlblwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2xpY2tTcGFyaztcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQ2xpY2tTcGFyayIsInNwYXJrQ29sb3IiLCJzcGFya1NpemUiLCJzcGFya1JhZGl1cyIsInNwYXJrQ291bnQiLCJkdXJhdGlvbiIsImVhc2luZyIsImV4dHJhU2NhbGUiLCJjaGlsZHJlbiIsImNhbnZhc1JlZiIsInNwYXJrc1JlZiIsInN0YXJ0VGltZVJlZiIsImVhc2VGdW5jIiwidCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN1cnJlbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwiaW5zZXQiLCJ3aWR0aCIsImhlaWdodCIsInBvaW50ZXJFdmVudHMiLCJ6SW5kZXgiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjdHgiLCJnZXRDb250ZXh0IiwicmVzaXplVGltZW91dCIsImFuaW1hdGlvbklkIiwicmVzaXplQ2FudmFzIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiTWF0aCIsImZsb29yIiwiaGFuZGxlUmVzaXplIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImhhbmRsZVBvaW50ZXJEb3duIiwiZSIsIm5vdyIsInBlcmZvcm1hbmNlIiwibmV3U3BhcmtzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiYW5nbGUiLCJQSSIsInN0YXJ0VGltZSIsInB1c2giLCJkcmF3IiwidGltZXN0YW1wIiwiY2xlYXJSZWN0IiwiZmlsdGVyIiwic3BhcmsiLCJlbGFwc2VkIiwicHJvZ3Jlc3MiLCJlYXNlZCIsImRpc3RhbmNlIiwibGluZUxlbmd0aCIsIngxIiwiY29zIiwieTEiLCJzaW4iLCJ4MiIsInkyIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVtb3ZlIiwiZGl2IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/components/ClickSpark.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/DiffViewer.tsx":
/*!***************************************!*\
  !*** ./app/components/DiffViewer.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DiffViewer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Card */ \"(ssr)/./app/components/Card.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst columnLetter = (index)=>String.fromCharCode(\"A\".charCodeAt(0) + index);\nfunction DiffViewer({ sheetBefore, sheetAfter, ops, validationIssues, onClose }) {\n    const rowIndexMap = new Map();\n    sheetBefore.rows.forEach((row, idx)=>rowIndexMap.set(row.id, idx));\n    const colIndexMap = new Map();\n    sheetBefore.columns.forEach((col, idx)=>colIndexMap.set(col.id, idx));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Card__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n            className: \"w-full max-w-3xl\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-medium\",\n                            children: \"Change Preview\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                            lineNumber: 74,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            \"aria-label\": \"Close preview\",\n                            className: \"rounded-md border border-gray-300 px-2 py-1 text-sm\",\n                            onClick: onClose,\n                            children: \"Close\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-4 space-y-2 text-sm text-gray-700\",\n                    children: ops.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: \"No pending changes.\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                        lineNumber: 86,\n                        columnNumber: 13\n                    }, this) : ops.map((op)=>{\n                        if (op.type === \"cell_update\" && op.rowId && op.columnId) {\n                            const rowIndex = rowIndexMap.get(op.rowId) ?? 0;\n                            const colIndex = colIndexMap.get(op.columnId) ?? 0;\n                            const cellRef = `${columnLetter(colIndex)}${rowIndex + 1}`;\n                            const beforeValue = sheetBefore.rows.find((row)=>row.id === op.rowId)?.cells[op.columnId] ?? \"\";\n                            const afterValue = sheetAfter.rows.find((row)=>row.id === op.rowId)?.cells[op.columnId] ?? op.newValue ?? \"\";\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    cellRef,\n                                    \": \",\n                                    beforeValue || \"\",\n                                    \"  \",\n                                    afterValue || \"\"\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 19\n                            }, this);\n                        }\n                        if (op.type === \"column_add\") {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"Added column: \",\n                                    op.columnLabel ?? op.columnId\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 19\n                            }, this);\n                        }\n                        if (op.type === \"column_delete\") {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"Deleted column: \",\n                                    op.columnId\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 118,\n                                columnNumber: 19\n                            }, this);\n                        }\n                        if (op.type === \"add_row\" && op.row) {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"Added row: \",\n                                    op.row.id\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 123,\n                                columnNumber: 24\n                            }, this);\n                        }\n                        if (op.type === \"row_delete\") {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"Deleted row: \",\n                                    op.rowId\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 127,\n                                columnNumber: 24\n                            }, this);\n                        }\n                        if (op.type === \"sort\") {\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    \"Sorted by \",\n                                    op.columnId,\n                                    \" (\",\n                                    op.direction,\n                                    \")\"\n                                ]\n                            }, op.id, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                lineNumber: 132,\n                                columnNumber: 19\n                            }, this);\n                        }\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                \"Pending change (\",\n                                op.type,\n                                \")\"\n                            ]\n                        }, op.id, true, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                            lineNumber: 139,\n                            columnNumber: 17\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 9\n                }, this),\n                validationIssues.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 border-t border-gray-100 pt-4 text-sm text-gray-700\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"font-medium\",\n                            children: \"Validation issues\"\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                            lineNumber: 147,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            className: \"mt-2 space-y-1\",\n                            children: validationIssues.map((issue)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: [\n                                        issue.rowId,\n                                        \" \\xb7 \",\n                                        issue.columnId,\n                                        \": \",\n                                        issue.message\n                                    ]\n                                }, issue.id, true, {\n                                    fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                                    lineNumber: 150,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n                    lineNumber: 146,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n            lineNumber: 72,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/DiffViewer.tsx\",\n        lineNumber: 71,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9EaWZmVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUUwQjtBQW9EMUIsTUFBTUMsZUFBZSxDQUFDQyxRQUNwQkMsT0FBT0MsWUFBWSxDQUFDLElBQUlDLFVBQVUsQ0FBQyxLQUFLSDtBQUUzQixTQUFTSSxXQUFXLEVBQ2pDQyxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsR0FBRyxFQUNIQyxnQkFBZ0IsRUFDaEJDLE9BQU8sRUFDUztJQUNoQixNQUFNQyxjQUFjLElBQUlDO0lBQ3hCTixZQUFZTyxJQUFJLENBQUNDLE9BQU8sQ0FBQyxDQUFDQyxLQUFLQyxNQUFRTCxZQUFZTSxHQUFHLENBQUNGLElBQUlHLEVBQUUsRUFBRUY7SUFDL0QsTUFBTUcsY0FBYyxJQUFJUDtJQUN4Qk4sWUFBWWMsT0FBTyxDQUFDTixPQUFPLENBQUMsQ0FBQ08sS0FBS0wsTUFBUUcsWUFBWUYsR0FBRyxDQUFDSSxJQUFJSCxFQUFFLEVBQUVGO0lBRWxFLHFCQUNFLDhEQUFDTTtRQUFJQyxXQUFVO2tCQUNiLDRFQUFDeEIsNkNBQUlBO1lBQUN3QixXQUFVOzs4QkFDZCw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDQzs0QkFBR0QsV0FBVTtzQ0FBc0I7Ozs7OztzQ0FDcEMsOERBQUNFOzRCQUNDQyxjQUFXOzRCQUNYSCxXQUFVOzRCQUNWSSxTQUFTakI7c0NBQ1Y7Ozs7Ozs7Ozs7Ozs4QkFLSCw4REFBQ1k7b0JBQUlDLFdBQVU7OEJBQ1pmLElBQUlvQixNQUFNLEtBQUssa0JBQ2QsOERBQUNOO2tDQUFJOzs7OzsrQkFFTGQsSUFBSXFCLEdBQUcsQ0FBQyxDQUFDQzt3QkFDUCxJQUFJQSxHQUFHQyxJQUFJLEtBQUssaUJBQWlCRCxHQUFHRSxLQUFLLElBQUlGLEdBQUdHLFFBQVEsRUFBRTs0QkFDeEQsTUFBTUMsV0FBV3ZCLFlBQVl3QixHQUFHLENBQUNMLEdBQUdFLEtBQUssS0FBSzs0QkFDOUMsTUFBTUksV0FBV2pCLFlBQVlnQixHQUFHLENBQUNMLEdBQUdHLFFBQVEsS0FBSzs0QkFDakQsTUFBTUksVUFBVSxDQUFDLEVBQUVyQyxhQUFhb0MsVUFBVSxFQUFFRixXQUFXLEVBQUUsQ0FBQzs0QkFDMUQsTUFBTUksY0FDSmhDLFlBQVlPLElBQUksQ0FBQzBCLElBQUksQ0FBQyxDQUFDeEIsTUFBUUEsSUFBSUcsRUFBRSxLQUFLWSxHQUFHRSxLQUFLLEdBQUdRLEtBQUssQ0FDeERWLEdBQUdHLFFBQVEsQ0FDWixJQUFJOzRCQUNQLE1BQU1RLGFBQ0psQyxXQUFXTSxJQUFJLENBQUMwQixJQUFJLENBQUMsQ0FBQ3hCLE1BQVFBLElBQUlHLEVBQUUsS0FBS1ksR0FBR0UsS0FBSyxHQUFHUSxLQUFLLENBQ3ZEVixHQUFHRyxRQUFRLENBQ1osSUFBSUgsR0FBR1ksUUFBUSxJQUFJOzRCQUN0QixxQkFDRSw4REFBQ3BCOztvQ0FDRWU7b0NBQVE7b0NBQUdDLGVBQWU7b0NBQUk7b0NBQUlHLGNBQWM7OytCQUR6Q1gsR0FBR1osRUFBRTs7Ozs7d0JBSW5CO3dCQUVBLElBQUlZLEdBQUdDLElBQUksS0FBSyxjQUFjOzRCQUM1QixxQkFDRSw4REFBQ1Q7O29DQUFnQjtvQ0FDQVEsR0FBR2EsV0FBVyxJQUFJYixHQUFHRyxRQUFROzsrQkFEcENILEdBQUdaLEVBQUU7Ozs7O3dCQUluQjt3QkFFQSxJQUFJWSxHQUFHQyxJQUFJLEtBQUssaUJBQWlCOzRCQUMvQixxQkFDRSw4REFBQ1Q7O29DQUFnQjtvQ0FBaUJRLEdBQUdHLFFBQVE7OytCQUFuQ0gsR0FBR1osRUFBRTs7Ozs7d0JBRW5CO3dCQUVBLElBQUlZLEdBQUdDLElBQUksS0FBSyxhQUFhRCxHQUFHZixHQUFHLEVBQUU7NEJBQ25DLHFCQUFPLDhEQUFDTzs7b0NBQWdCO29DQUFZUSxHQUFHZixHQUFHLENBQUNHLEVBQUU7OytCQUE1QlksR0FBR1osRUFBRTs7Ozs7d0JBQ3hCO3dCQUVBLElBQUlZLEdBQUdDLElBQUksS0FBSyxjQUFjOzRCQUM1QixxQkFBTyw4REFBQ1Q7O29DQUFnQjtvQ0FBY1EsR0FBR0UsS0FBSzs7K0JBQTdCRixHQUFHWixFQUFFOzs7Ozt3QkFDeEI7d0JBRUEsSUFBSVksR0FBR0MsSUFBSSxLQUFLLFFBQVE7NEJBQ3RCLHFCQUNFLDhEQUFDVDs7b0NBQWdCO29DQUNKUSxHQUFHRyxRQUFRO29DQUFDO29DQUFHSCxHQUFHYyxTQUFTO29DQUFDOzsrQkFEL0JkLEdBQUdaLEVBQUU7Ozs7O3dCQUluQjt3QkFFQSxxQkFDRSw4REFBQ0k7O2dDQUFnQjtnQ0FBaUJRLEdBQUdDLElBQUk7Z0NBQUM7OzJCQUFoQ0QsR0FBR1osRUFBRTs7Ozs7b0JBRW5COzs7Ozs7Z0JBSUhULGlCQUFpQm1CLE1BQU0sR0FBRyxtQkFDekIsOERBQUNOO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQWM7Ozs7OztzQ0FDN0IsOERBQUNzQjs0QkFBR3RCLFdBQVU7c0NBQ1hkLGlCQUFpQm9CLEdBQUcsQ0FBQyxDQUFDaUIsc0JBQ3JCLDhEQUFDQzs7d0NBQ0VELE1BQU1kLEtBQUs7d0NBQUM7d0NBQUljLE1BQU1iLFFBQVE7d0NBQUM7d0NBQUdhLE1BQU1FLE9BQU87O21DQUR6Q0YsTUFBTTVCLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVqQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0RpZmZWaWV3ZXIudHN4PzE2M2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuL0NhcmRcIjtcblxuaW50ZXJmYWNlIENvbHVtbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBSb3cge1xuICBpZDogc3RyaW5nO1xuICBjZWxsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuaW50ZXJmYWNlIEVkaXRPcGVyYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOlxuICAgIHwgXCJjZWxsX3VwZGF0ZVwiXG4gICAgfCBcImNvbHVtbl9hZGRcIlxuICAgIHwgXCJjb2x1bW5fZGVsZXRlXCJcbiAgICB8IFwiYWRkX3Jvd1wiXG4gICAgfCBcInJvd19kZWxldGVcIlxuICAgIHwgXCJzb3J0XCI7XG4gIHJvd0lkPzogc3RyaW5nO1xuICBjb2x1bW5JZD86IHN0cmluZztcbiAgb2xkVmFsdWU/OiBzdHJpbmc7XG4gIG5ld1ZhbHVlPzogc3RyaW5nO1xuICBjb2x1bW5MYWJlbD86IHN0cmluZztcbiAgcm93PzogUm93O1xuICBkaXJlY3Rpb24/OiBcImFzY1wiIHwgXCJkZXNjXCI7XG4gIGF1dGhvcjogXCJ1c2VyXCIgfCBcImFnZW50XCI7XG59XG5cbmludGVyZmFjZSBTaGVldFN0YXRlIHtcbiAgY29sdW1uczogQ29sdW1uW107XG4gIHJvd3M6IFJvd1tdO1xuICBwZW5kaW5nT3BzOiBFZGl0T3BlcmF0aW9uW107XG59XG5cbmludGVyZmFjZSBWYWxpZGF0aW9uSXNzdWUge1xuICBpZDogc3RyaW5nO1xuICByb3dJZDogc3RyaW5nO1xuICBjb2x1bW5JZDogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBEaWZmVmlld2VyUHJvcHMge1xuICBzaGVldEJlZm9yZTogU2hlZXRTdGF0ZTtcbiAgc2hlZXRBZnRlcjogU2hlZXRTdGF0ZTtcbiAgb3BzOiBFZGl0T3BlcmF0aW9uW107XG4gIHZhbGlkYXRpb25Jc3N1ZXM6IFZhbGlkYXRpb25Jc3N1ZVtdO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBjb2x1bW5MZXR0ZXIgPSAoaW5kZXg6IG51bWJlcikgPT5cbiAgU3RyaW5nLmZyb21DaGFyQ29kZShcIkFcIi5jaGFyQ29kZUF0KDApICsgaW5kZXgpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaWZmVmlld2VyKHtcbiAgc2hlZXRCZWZvcmUsXG4gIHNoZWV0QWZ0ZXIsXG4gIG9wcyxcbiAgdmFsaWRhdGlvbklzc3VlcyxcbiAgb25DbG9zZSxcbn06IERpZmZWaWV3ZXJQcm9wcykge1xuICBjb25zdCByb3dJbmRleE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIHNoZWV0QmVmb3JlLnJvd3MuZm9yRWFjaCgocm93LCBpZHgpID0+IHJvd0luZGV4TWFwLnNldChyb3cuaWQsIGlkeCkpO1xuICBjb25zdCBjb2xJbmRleE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gIHNoZWV0QmVmb3JlLmNvbHVtbnMuZm9yRWFjaCgoY29sLCBpZHgpID0+IGNvbEluZGV4TWFwLnNldChjb2wuaWQsIGlkeCkpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2svNDAgcHgtNCBweS02XCI+XG4gICAgICA8Q2FyZCBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctM3hsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW1cIj5DaGFuZ2UgUHJldmlldzwvaDM+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIHByZXZpZXdcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTIgcHktMSB0ZXh0LXNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHNwYWNlLXktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICB7b3BzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxkaXY+Tm8gcGVuZGluZyBjaGFuZ2VzLjwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICBvcHMubWFwKChvcCkgPT4ge1xuICAgICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJjZWxsX3VwZGF0ZVwiICYmIG9wLnJvd0lkICYmIG9wLmNvbHVtbklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93SW5kZXggPSByb3dJbmRleE1hcC5nZXQob3Aucm93SWQpID8/IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sSW5kZXggPSBjb2xJbmRleE1hcC5nZXQob3AuY29sdW1uSWQpID8/IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbFJlZiA9IGAke2NvbHVtbkxldHRlcihjb2xJbmRleCl9JHtyb3dJbmRleCArIDF9YDtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgICBzaGVldEJlZm9yZS5yb3dzLmZpbmQoKHJvdykgPT4gcm93LmlkID09PSBvcC5yb3dJZCk/LmNlbGxzW1xuICAgICAgICAgICAgICAgICAgICBvcC5jb2x1bW5JZFxuICAgICAgICAgICAgICAgICAgXSA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyVmFsdWUgPVxuICAgICAgICAgICAgICAgICAgc2hlZXRBZnRlci5yb3dzLmZpbmQoKHJvdykgPT4gcm93LmlkID09PSBvcC5yb3dJZCk/LmNlbGxzW1xuICAgICAgICAgICAgICAgICAgICBvcC5jb2x1bW5JZFxuICAgICAgICAgICAgICAgICAgXSA/PyBvcC5uZXdWYWx1ZSA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17b3AuaWR9PlxuICAgICAgICAgICAgICAgICAgICB7Y2VsbFJlZn06IHtiZWZvcmVWYWx1ZSB8fCBcIuKAlFwifSDihpIge2FmdGVyVmFsdWUgfHwgXCLigJRcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJjb2x1bW5fYWRkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e29wLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgQWRkZWQgY29sdW1uOiB7b3AuY29sdW1uTGFiZWwgPz8gb3AuY29sdW1uSWR9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09IFwiY29sdW1uX2RlbGV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtvcC5pZH0+RGVsZXRlZCBjb2x1bW46IHtvcC5jb2x1bW5JZH08L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG9wLnR5cGUgPT09IFwiYWRkX3Jvd1wiICYmIG9wLnJvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGtleT17b3AuaWR9PkFkZGVkIHJvdzoge29wLnJvdy5pZH08L2Rpdj47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAob3AudHlwZSA9PT0gXCJyb3dfZGVsZXRlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGRpdiBrZXk9e29wLmlkfT5EZWxldGVkIHJvdzoge29wLnJvd0lkfTwvZGl2PjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChvcC50eXBlID09PSBcInNvcnRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17b3AuaWR9PlxuICAgICAgICAgICAgICAgICAgICBTb3J0ZWQgYnkge29wLmNvbHVtbklkfSAoe29wLmRpcmVjdGlvbn0pXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17b3AuaWR9PlBlbmRpbmcgY2hhbmdlICh7b3AudHlwZX0pPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHt2YWxpZGF0aW9uSXNzdWVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBib3JkZXItdCBib3JkZXItZ3JheS0xMDAgcHQtNCB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5WYWxpZGF0aW9uIGlzc3VlczwvZGl2PlxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgIHt2YWxpZGF0aW9uSXNzdWVzLm1hcCgoaXNzdWUpID0+IChcbiAgICAgICAgICAgICAgICA8bGkga2V5PXtpc3N1ZS5pZH0+XG4gICAgICAgICAgICAgICAgICB7aXNzdWUucm93SWR9IMK3IHtpc3N1ZS5jb2x1bW5JZH06IHtpc3N1ZS5tZXNzYWdlfVxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvQ2FyZD5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiQ2FyZCIsImNvbHVtbkxldHRlciIsImluZGV4IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGVBdCIsIkRpZmZWaWV3ZXIiLCJzaGVldEJlZm9yZSIsInNoZWV0QWZ0ZXIiLCJvcHMiLCJ2YWxpZGF0aW9uSXNzdWVzIiwib25DbG9zZSIsInJvd0luZGV4TWFwIiwiTWFwIiwicm93cyIsImZvckVhY2giLCJyb3ciLCJpZHgiLCJzZXQiLCJpZCIsImNvbEluZGV4TWFwIiwiY29sdW1ucyIsImNvbCIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsIm9uQ2xpY2siLCJsZW5ndGgiLCJtYXAiLCJvcCIsInR5cGUiLCJyb3dJZCIsImNvbHVtbklkIiwicm93SW5kZXgiLCJnZXQiLCJjb2xJbmRleCIsImNlbGxSZWYiLCJiZWZvcmVWYWx1ZSIsImZpbmQiLCJjZWxscyIsImFmdGVyVmFsdWUiLCJuZXdWYWx1ZSIsImNvbHVtbkxhYmVsIiwiZGlyZWN0aW9uIiwidWwiLCJpc3N1ZSIsImxpIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/components/DiffViewer.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/FormulaPreview.tsx":
/*!*******************************************!*\
  !*** ./app/components/FormulaPreview.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FormulaPreview)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction FormulaPreview({ columns, rows, columnId, onAddSummary }) {\n    const column = columns.find((col)=>col.id === columnId);\n    const stats = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const values = rows.map((row)=>Number((row.cells[columnId] ?? \"\").trim())).filter((value)=>!Number.isNaN(value));\n        const count = values.length;\n        const total = values.reduce((acc, value)=>acc + value, 0);\n        const average = count ? total / count : 0;\n        return {\n            count,\n            total,\n            average\n        };\n    }, [\n        rows,\n        columnId\n    ]);\n    const handleAddSummary = ()=>{\n        if (!column) return;\n        const labelColumn = columns[0]?.id;\n        const summaryRow = {\n            id: `summary-${Date.now()}`,\n            cells: {\n                ...labelColumn ? {\n                    [labelColumn]: \"Summary\"\n                } : {},\n                [columnId]: stats.total.toFixed(2)\n            }\n        };\n        onAddSummary(summaryRow);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-sm font-medium\",\n                children: \"Summary preview\"\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                lineNumber: 55,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 text-sm text-gray-600\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Column: \",\n                            column?.label ?? \"\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                        lineNumber: 57,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Count: \",\n                            stats.count\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Total: \",\n                            stats.total.toFixed(2)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            \"Average: \",\n                            stats.average.toFixed(2)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                lineNumber: 56,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                \"aria-label\": \"Add summary row\",\n                className: \"mt-3 rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                onClick: handleAddSummary,\n                children: \"Add summary row\"\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/aadit/sheet-ops/app/components/FormulaPreview.tsx\",\n        lineNumber: 54,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9Gb3JtdWxhUHJldmlldy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWdDO0FBbUJqQixTQUFTQyxlQUFlLEVBQ3JDQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsUUFBUSxFQUNSQyxZQUFZLEVBQ1E7SUFDcEIsTUFBTUMsU0FBU0osUUFBUUssSUFBSSxDQUFDLENBQUNDLE1BQVFBLElBQUlDLEVBQUUsS0FBS0w7SUFFaEQsTUFBTU0sUUFBUVYsOENBQU9BLENBQUM7UUFDcEIsTUFBTVcsU0FBU1IsS0FDWlMsR0FBRyxDQUFDLENBQUNDLE1BQVFDLE9BQU8sQ0FBQ0QsSUFBSUUsS0FBSyxDQUFDWCxTQUFTLElBQUksRUFBQyxFQUFHWSxJQUFJLEtBQ3BEQyxNQUFNLENBQUMsQ0FBQ0MsUUFBVSxDQUFDSixPQUFPSyxLQUFLLENBQUNEO1FBQ25DLE1BQU1FLFFBQVFULE9BQU9VLE1BQU07UUFDM0IsTUFBTUMsUUFBUVgsT0FBT1ksTUFBTSxDQUFDLENBQUNDLEtBQUtOLFFBQVVNLE1BQU1OLE9BQU87UUFDekQsTUFBTU8sVUFBVUwsUUFBUUUsUUFBUUYsUUFBUTtRQUN4QyxPQUFPO1lBQUVBO1lBQU9FO1lBQU9HO1FBQVE7SUFDakMsR0FBRztRQUFDdEI7UUFBTUM7S0FBUztJQUVuQixNQUFNc0IsbUJBQW1CO1FBQ3ZCLElBQUksQ0FBQ3BCLFFBQVE7UUFDYixNQUFNcUIsY0FBY3pCLE9BQU8sQ0FBQyxFQUFFLEVBQUVPO1FBQ2hDLE1BQU1tQixhQUFrQjtZQUN0Qm5CLElBQUksQ0FBQyxRQUFRLEVBQUVvQixLQUFLQyxHQUFHLEdBQUcsQ0FBQztZQUMzQmYsT0FBTztnQkFDTCxHQUFJWSxjQUFjO29CQUFFLENBQUNBLFlBQVksRUFBRTtnQkFBVSxJQUFJLENBQUMsQ0FBQztnQkFDbkQsQ0FBQ3ZCLFNBQVMsRUFBRU0sTUFBTVksS0FBSyxDQUFDUyxPQUFPLENBQUM7WUFDbEM7UUFDRjtRQUNBMUIsYUFBYXVCO0lBQ2Y7SUFFQSxxQkFDRSw4REFBQ0k7OzBCQUNDLDhEQUFDQTtnQkFBSUMsV0FBVTswQkFBc0I7Ozs7OzswQkFDckMsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7OzRCQUFJOzRCQUFTMUIsUUFBUTRCLFNBQVM7Ozs7Ozs7a0NBQy9CLDhEQUFDRjs7NEJBQUk7NEJBQVF0QixNQUFNVSxLQUFLOzs7Ozs7O2tDQUN4Qiw4REFBQ1k7OzRCQUFJOzRCQUFRdEIsTUFBTVksS0FBSyxDQUFDUyxPQUFPLENBQUM7Ozs7Ozs7a0NBQ2pDLDhEQUFDQzs7NEJBQUk7NEJBQVV0QixNQUFNZSxPQUFPLENBQUNNLE9BQU8sQ0FBQzs7Ozs7Ozs7Ozs7OzswQkFFdkMsOERBQUNJO2dCQUNDQyxjQUFXO2dCQUNYSCxXQUFVO2dCQUNWSSxTQUFTWDswQkFDVjs7Ozs7Ozs7Ozs7O0FBS1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvLi9hcHAvY29tcG9uZW50cy9Gb3JtdWxhUHJldmlldy50c3g/MWEwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgQ29sdW1uIHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFJvdyB7XG4gIGlkOiBzdHJpbmc7XG4gIGNlbGxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG5pbnRlcmZhY2UgRm9ybXVsYVByZXZpZXdQcm9wcyB7XG4gIGNvbHVtbnM6IENvbHVtbltdO1xuICByb3dzOiBSb3dbXTtcbiAgY29sdW1uSWQ6IHN0cmluZztcbiAgb25BZGRTdW1tYXJ5OiAocm93OiBSb3cpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm11bGFQcmV2aWV3KHtcbiAgY29sdW1ucyxcbiAgcm93cyxcbiAgY29sdW1uSWQsXG4gIG9uQWRkU3VtbWFyeSxcbn06IEZvcm11bGFQcmV2aWV3UHJvcHMpIHtcbiAgY29uc3QgY29sdW1uID0gY29sdW1ucy5maW5kKChjb2wpID0+IGNvbC5pZCA9PT0gY29sdW1uSWQpO1xuXG4gIGNvbnN0IHN0YXRzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdmFsdWVzID0gcm93c1xuICAgICAgLm1hcCgocm93KSA9PiBOdW1iZXIoKHJvdy5jZWxsc1tjb2x1bW5JZF0gPz8gXCJcIikudHJpbSgpKSlcbiAgICAgIC5maWx0ZXIoKHZhbHVlKSA9PiAhTnVtYmVyLmlzTmFOKHZhbHVlKSk7XG4gICAgY29uc3QgY291bnQgPSB2YWx1ZXMubGVuZ3RoO1xuICAgIGNvbnN0IHRvdGFsID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB2YWx1ZSkgPT4gYWNjICsgdmFsdWUsIDApO1xuICAgIGNvbnN0IGF2ZXJhZ2UgPSBjb3VudCA/IHRvdGFsIC8gY291bnQgOiAwO1xuICAgIHJldHVybiB7IGNvdW50LCB0b3RhbCwgYXZlcmFnZSB9O1xuICB9LCBbcm93cywgY29sdW1uSWRdKTtcblxuICBjb25zdCBoYW5kbGVBZGRTdW1tYXJ5ID0gKCkgPT4ge1xuICAgIGlmICghY29sdW1uKSByZXR1cm47XG4gICAgY29uc3QgbGFiZWxDb2x1bW4gPSBjb2x1bW5zWzBdPy5pZDtcbiAgICBjb25zdCBzdW1tYXJ5Um93OiBSb3cgPSB7XG4gICAgICBpZDogYHN1bW1hcnktJHtEYXRlLm5vdygpfWAsXG4gICAgICBjZWxsczoge1xuICAgICAgICAuLi4obGFiZWxDb2x1bW4gPyB7IFtsYWJlbENvbHVtbl06IFwiU3VtbWFyeVwiIH0gOiB7fSksXG4gICAgICAgIFtjb2x1bW5JZF06IHN0YXRzLnRvdGFsLnRvRml4ZWQoMiksXG4gICAgICB9LFxuICAgIH07XG4gICAgb25BZGRTdW1tYXJ5KHN1bW1hcnlSb3cpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlN1bW1hcnkgcHJldmlldzwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICA8ZGl2PkNvbHVtbjoge2NvbHVtbj8ubGFiZWwgPz8gXCLigJRcIn08L2Rpdj5cbiAgICAgICAgPGRpdj5Db3VudDoge3N0YXRzLmNvdW50fTwvZGl2PlxuICAgICAgICA8ZGl2PlRvdGFsOiB7c3RhdHMudG90YWwudG9GaXhlZCgyKX08L2Rpdj5cbiAgICAgICAgPGRpdj5BdmVyYWdlOiB7c3RhdHMuYXZlcmFnZS50b0ZpeGVkKDIpfTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGFyaWEtbGFiZWw9XCJBZGQgc3VtbWFyeSByb3dcIlxuICAgICAgICBjbGFzc05hbWU9XCJtdC0zIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZFN1bW1hcnl9XG4gICAgICA+XG4gICAgICAgIEFkZCBzdW1tYXJ5IHJvd1xuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZU1lbW8iLCJGb3JtdWxhUHJldmlldyIsImNvbHVtbnMiLCJyb3dzIiwiY29sdW1uSWQiLCJvbkFkZFN1bW1hcnkiLCJjb2x1bW4iLCJmaW5kIiwiY29sIiwiaWQiLCJzdGF0cyIsInZhbHVlcyIsIm1hcCIsInJvdyIsIk51bWJlciIsImNlbGxzIiwidHJpbSIsImZpbHRlciIsInZhbHVlIiwiaXNOYU4iLCJjb3VudCIsImxlbmd0aCIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiYXZlcmFnZSIsImhhbmRsZUFkZFN1bW1hcnkiLCJsYWJlbENvbHVtbiIsInN1bW1hcnlSb3ciLCJEYXRlIiwibm93IiwidG9GaXhlZCIsImRpdiIsImNsYXNzTmFtZSIsImxhYmVsIiwiYnV0dG9uIiwiYXJpYS1sYWJlbCIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/components/FormulaPreview.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/GlobalClickSpark.tsx":
/*!*********************************************!*\
  !*** ./app/components/GlobalClickSpark.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GlobalClickSpark)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ClickSpark__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ClickSpark */ \"(ssr)/./app/components/ClickSpark.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction GlobalClickSpark({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ClickSpark__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        sparkColor: \"#000000\",\n        sparkSize: 21,\n        sparkRadius: 15,\n        sparkCount: 7,\n        duration: 400,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen w-full\",\n            children: children\n        }, void 0, false, {\n            fileName: \"/home/aadit/sheet-ops/app/components/GlobalClickSpark.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/GlobalClickSpark.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvY29tcG9uZW50cy9HbG9iYWxDbGlja1NwYXJrLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVzQztBQU12QixTQUFTQyxpQkFBaUIsRUFBRUMsUUFBUSxFQUF5QjtJQUMxRSxxQkFDRSw4REFBQ0YsbURBQVVBO1FBQ1RHLFlBQVc7UUFDWEMsV0FBVztRQUNYQyxhQUFhO1FBQ2JDLFlBQVk7UUFDWkMsVUFBVTtrQkFFViw0RUFBQ0M7WUFBSUMsV0FBVTtzQkFBdUJQOzs7Ozs7Ozs7OztBQUc1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3NoZWV0LW9wcy8uL2FwcC9jb21wb25lbnRzL0dsb2JhbENsaWNrU3BhcmsudHN4PzljOWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBDbGlja1NwYXJrIGZyb20gXCIuL0NsaWNrU3BhcmtcIjtcblxuaW50ZXJmYWNlIEdsb2JhbENsaWNrU3BhcmtQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdsb2JhbENsaWNrU3BhcmsoeyBjaGlsZHJlbiB9OiBHbG9iYWxDbGlja1NwYXJrUHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8Q2xpY2tTcGFya1xuICAgICAgc3BhcmtDb2xvcj1cIiMwMDAwMDBcIlxuICAgICAgc3BhcmtTaXplPXsyMX1cbiAgICAgIHNwYXJrUmFkaXVzPXsxNX1cbiAgICAgIHNwYXJrQ291bnQ9ezd9XG4gICAgICBkdXJhdGlvbj17NDAwfVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIHctZnVsbFwiPntjaGlsZHJlbn08L2Rpdj5cbiAgICA8L0NsaWNrU3Bhcms+XG4gICk7XG59Il0sIm5hbWVzIjpbIkNsaWNrU3BhcmsiLCJHbG9iYWxDbGlja1NwYXJrIiwiY2hpbGRyZW4iLCJzcGFya0NvbG9yIiwic3BhcmtTaXplIiwic3BhcmtSYWRpdXMiLCJzcGFya0NvdW50IiwiZHVyYXRpb24iLCJkaXYiLCJjbGFzc05hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/components/GlobalClickSpark.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/SheetPreview.tsx":
/*!*****************************************!*\
  !*** ./app/components/SheetPreview.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SheetPreview)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nfunction SheetPreview({ mode, columns, rows, validationIssues, onCellCommit }) {\n    const [editing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [draft, setDraft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const invalidMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const map = new Map();\n        validationIssues.forEach((issue)=>{\n            map.set(`${issue.rowId}:${issue.columnId}`, issue.message);\n        });\n        return map;\n    }, [\n        validationIssues\n    ]);\n    const startEdit = (rowId, columnId, oldValue)=>{\n        if (mode !== \"manual\") return;\n        setEditing({\n            rowId,\n            columnId,\n            oldValue\n        });\n        setDraft(oldValue);\n    };\n    const commitEdit = ()=>{\n        if (!editing) return;\n        const nextValue = draft.trim();\n        const { rowId, columnId, oldValue } = editing;\n        setEditing(null);\n        onCellCommit(rowId, columnId, oldValue, nextValue);\n    };\n    const cancelEdit = ()=>{\n        setEditing(null);\n        setDraft(\"\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n            className: \"w-full border-collapse\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                    className: \"bg-gray-100 text-left\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                        children: columns.map((column)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                className: \"p-3 text-sm font-medium\",\n                                children: column.label\n                            }, column.id, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                    children: rows.map((row)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                            className: \"odd:bg-white even:bg-gray-50\",\n                            children: columns.map((column)=>{\n                                const value = row.cells[column.id] ?? \"\";\n                                const isEditing = editing?.rowId === row.id && editing?.columnId === column.id;\n                                const invalidMessage = invalidMap.get(`${row.id}:${column.id}`);\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                    className: `p-3 text-sm ${column.align === \"right\" ? \"text-right\" : \"text-left\"} ${mode === \"manual\" ? \"cursor-text\" : \"\"} ${invalidMessage ? \"text-red-600\" : \"\"}`,\n                                    title: invalidMessage || (mode === \"agent\" ? \"Switch to Manual to edit\" : undefined),\n                                    onClick: ()=>startEdit(row.id, column.id, value),\n                                    children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        \"aria-label\": `${column.label} value`,\n                                        className: \"w-full rounded-md border border-gray-300 bg-white px-2 py-1 text-sm\",\n                                        value: draft,\n                                        autoFocus: true,\n                                        onChange: (e)=>setDraft(e.target.value),\n                                        onBlur: commitEdit,\n                                        onKeyDown: (e)=>{\n                                            if (e.key === \"Enter\") commitEdit();\n                                            if (e.key === \"Escape\") cancelEdit();\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 23\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: value ? \"\" : \"text-gray-400\",\n                                        children: value || \"\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                                        lineNumber: 125,\n                                        columnNumber: 23\n                                    }, this)\n                                }, column.id, false, {\n                                    fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                                    lineNumber: 98,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, row.id, false, {\n                            fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                            lineNumber: 86,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n                    lineNumber: 84,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n            lineNumber: 74,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/components/SheetPreview.tsx\",\n        lineNumber: 73,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVcsQ0FBQ0g7NENBQ1YsSUFBSUEsRUFBRUksR0FBRyxLQUFLLFNBQVNqQzs0Q0FDdkIsSUFBSTZCLEVBQUVJLEdBQUcsS0FBSyxVQUFVOUI7d0NBQzFCOzs7Ozs2REFHRiw4REFBQytCO3dDQUFLN0IsV0FBV1UsUUFBUSxLQUFLO2tEQUMzQkEsU0FBUzs7Ozs7O21DQTNCVE4sT0FBT0csRUFBRTs7Ozs7NEJBZ0NwQjsyQkE3Q09FLElBQUlGLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFEM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvLi9hcHAvY29tcG9uZW50cy9TaGVldFByZXZpZXcudHN4P2VhZmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmludGVyZmFjZSBDb2x1bW4ge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBhbGlnbj86IFwibGVmdFwiIHwgXCJyaWdodFwiO1xufVxuXG5pbnRlcmZhY2UgUm93IHtcbiAgaWQ6IHN0cmluZztcbiAgY2VsbHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59XG5cbmludGVyZmFjZSBTaGVldFByZXZpZXdQcm9wcyB7XG4gIG1vZGU6IFwiYWdlbnRcIiB8IFwibWFudWFsXCI7XG4gIGNvbHVtbnM6IENvbHVtbltdO1xuICByb3dzOiBSb3dbXTtcbiAgdmFsaWRhdGlvbklzc3VlczogeyByb3dJZDogc3RyaW5nOyBjb2x1bW5JZDogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfVtdO1xuICBvbkNlbGxDb21taXQ6IChcbiAgICByb3dJZDogc3RyaW5nLFxuICAgIGNvbHVtbklkOiBzdHJpbmcsXG4gICAgb2xkVmFsdWU6IHN0cmluZyxcbiAgICBuZXdWYWx1ZTogc3RyaW5nLFxuICApID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBFZGl0aW5nQ2VsbCB7XG4gIHJvd0lkOiBzdHJpbmc7XG4gIGNvbHVtbklkOiBzdHJpbmc7XG4gIG9sZFZhbHVlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNoZWV0UHJldmlldyh7XG4gIG1vZGUsXG4gIGNvbHVtbnMsXG4gIHJvd3MsXG4gIHZhbGlkYXRpb25Jc3N1ZXMsXG4gIG9uQ2VsbENvbW1pdCxcbn06IFNoZWV0UHJldmlld1Byb3BzKSB7XG4gIGNvbnN0IFtlZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlPEVkaXRpbmdDZWxsIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtkcmFmdCwgc2V0RHJhZnRdID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgY29uc3QgaW52YWxpZE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgdmFsaWRhdGlvbklzc3Vlcy5mb3JFYWNoKChpc3N1ZSkgPT4ge1xuICAgICAgbWFwLnNldChgJHtpc3N1ZS5yb3dJZH06JHtpc3N1ZS5jb2x1bW5JZH1gLCBpc3N1ZS5tZXNzYWdlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWFwO1xuICB9LCBbdmFsaWRhdGlvbklzc3Vlc10pO1xuXG4gIGNvbnN0IHN0YXJ0RWRpdCA9IChyb3dJZDogc3RyaW5nLCBjb2x1bW5JZDogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKG1vZGUgIT09IFwibWFudWFsXCIpIHJldHVybjtcbiAgICBzZXRFZGl0aW5nKHsgcm93SWQsIGNvbHVtbklkLCBvbGRWYWx1ZSB9KTtcbiAgICBzZXREcmFmdChvbGRWYWx1ZSk7XG4gIH07XG5cbiAgY29uc3QgY29tbWl0RWRpdCA9ICgpID0+IHtcbiAgICBpZiAoIWVkaXRpbmcpIHJldHVybjtcbiAgICBjb25zdCBuZXh0VmFsdWUgPSBkcmFmdC50cmltKCk7XG4gICAgY29uc3QgeyByb3dJZCwgY29sdW1uSWQsIG9sZFZhbHVlIH0gPSBlZGl0aW5nO1xuICAgIHNldEVkaXRpbmcobnVsbCk7XG4gICAgb25DZWxsQ29tbWl0KHJvd0lkLCBjb2x1bW5JZCwgb2xkVmFsdWUsIG5leHRWYWx1ZSk7XG4gIH07XG5cbiAgY29uc3QgY2FuY2VsRWRpdCA9ICgpID0+IHtcbiAgICBzZXRFZGl0aW5nKG51bGwpO1xuICAgIHNldERyYWZ0KFwiXCIpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlXCI+XG4gICAgICAgIDx0aGVhZCBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCB0ZXh0LWxlZnRcIj5cbiAgICAgICAgICA8dHI+XG4gICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbHVtbikgPT4gKFxuICAgICAgICAgICAgICA8dGgga2V5PXtjb2x1bW4uaWR9IGNsYXNzTmFtZT1cInAtMyB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAge2NvbHVtbi5sYWJlbH1cbiAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIDwvdGhlYWQ+XG4gICAgICAgIDx0Ym9keT5cbiAgICAgICAgICB7cm93cy5tYXAoKHJvdykgPT4gKFxuICAgICAgICAgICAgPHRyIGtleT17cm93LmlkfSBjbGFzc05hbWU9XCJvZGQ6Ymctd2hpdGUgZXZlbjpiZy1ncmF5LTUwXCI+XG4gICAgICAgICAgICAgIHtjb2x1bW5zLm1hcCgoY29sdW1uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByb3cuY2VsbHNbY29sdW1uLmlkXSA/PyBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRWRpdGluZyA9XG4gICAgICAgICAgICAgICAgICBlZGl0aW5nPy5yb3dJZCA9PT0gcm93LmlkICYmXG4gICAgICAgICAgICAgICAgICBlZGl0aW5nPy5jb2x1bW5JZCA9PT0gY29sdW1uLmlkO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaW52YWxpZE1lc3NhZ2UgPSBpbnZhbGlkTWFwLmdldChcbiAgICAgICAgICAgICAgICAgIGAke3Jvdy5pZH06JHtjb2x1bW4uaWR9YCxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbHVtbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0zIHRleHQtc20gJHtcbiAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uYWxpZ24gPT09IFwicmlnaHRcIiA/IFwidGV4dC1yaWdodFwiIDogXCJ0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICB9ICR7bW9kZSA9PT0gXCJtYW51YWxcIiA/IFwiY3Vyc29yLXRleHRcIiA6IFwiXCJ9ICR7XG4gICAgICAgICAgICAgICAgICAgICAgaW52YWxpZE1lc3NhZ2UgPyBcInRleHQtcmVkLTYwMFwiIDogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e1xuICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRNZXNzYWdlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKG1vZGUgPT09IFwiYWdlbnRcIiA/IFwiU3dpdGNoIHRvIE1hbnVhbCB0byBlZGl0XCIgOiB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc3RhcnRFZGl0KHJvdy5pZCwgY29sdW1uLmlkLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc0VkaXRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtjb2x1bW4ubGFiZWx9IHZhbHVlYH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgYmctd2hpdGUgcHgtMiBweS0xIHRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2RyYWZ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQmx1cj17Y29tbWl0RWRpdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIGNvbW1pdEVkaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSBjYW5jZWxFZGl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXt2YWx1ZSA/IFwiXCIgOiBcInRleHQtZ3JheS00MDBcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dmFsdWUgfHwgXCLigJRcIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICAgIDwvdGFibGU+XG4gICAgICB7LyogVE9ETzogd2lyZSB1cCBTaGVldHMgQVBJICovfVxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJTaGVldFByZXZpZXciLCJtb2RlIiwiY29sdW1ucyIsInJvd3MiLCJ2YWxpZGF0aW9uSXNzdWVzIiwib25DZWxsQ29tbWl0IiwiZWRpdGluZyIsInNldEVkaXRpbmciLCJkcmFmdCIsInNldERyYWZ0IiwiaW52YWxpZE1hcCIsIm1hcCIsIk1hcCIsImZvckVhY2giLCJpc3N1ZSIsInNldCIsInJvd0lkIiwiY29sdW1uSWQiLCJtZXNzYWdlIiwic3RhcnRFZGl0Iiwib2xkVmFsdWUiLCJjb21taXRFZGl0IiwibmV4dFZhbHVlIiwidHJpbSIsImNhbmNlbEVkaXQiLCJkaXYiLCJjbGFzc05hbWUiLCJ0YWJsZSIsInRoZWFkIiwidHIiLCJjb2x1bW4iLCJ0aCIsImxhYmVsIiwiaWQiLCJ0Ym9keSIsInJvdyIsInZhbHVlIiwiY2VsbHMiLCJpc0VkaXRpbmciLCJpbnZhbGlkTWVzc2FnZSIsImdldCIsInRkIiwiYWxpZ24iLCJ0aXRsZSIsInVuZGVmaW5lZCIsIm9uQ2xpY2siLCJpbnB1dCIsImFyaWEtbGFiZWwiLCJhdXRvRm9jdXMiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJvbkJsdXIiLCJvbktleURvd24iLCJrZXkiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/components/SheetPreview.tsx\n");

/***/ }),

/***/ "(ssr)/./app/components/ToolsPanel.tsx":
/*!***************************************!*\
  !*** ./app/components/ToolsPanel.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ToolsPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Card */ \"(ssr)/./app/components/Card.tsx\");\n/* harmony import */ var _FormulaPreview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FormulaPreview */ \"(ssr)/./app/components/FormulaPreview.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nconst slugify = (value)=>value.trim().toLowerCase().replace(/[^a-z0-9]+/g, \"_\").replace(/^_+|_+$/g, \"\");\nfunction ToolsPanel({ columns, rows, onProposeOps, onValidate }) {\n    const [selectedColumn, setSelectedColumn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(columns[0]?.id ?? \"\");\n    const [sortDirection, setSortDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"asc\");\n    const [filterValue, setFilterValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const selectedColumnLabel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>columns.find((col)=>col.id === selectedColumn)?.label ?? \"\", [\n        columns,\n        selectedColumn\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedColumn && columns[0]) {\n            setSelectedColumn(columns[0].id);\n        }\n    }, [\n        columns,\n        selectedColumn\n    ]);\n    const handleRemoveDuplicates = ()=>{\n        if (!selectedColumn) return;\n        const seen = new Set();\n        const ops = [];\n        rows.forEach((row)=>{\n            const value = (row.cells[selectedColumn] ?? \"\").trim();\n            if (!value) return;\n            if (seen.has(value)) {\n                ops.push({\n                    id: `op-${Date.now()}-${row.id}`,\n                    type: \"row_delete\",\n                    rowId: row.id,\n                    author: \"agent\"\n                });\n            } else {\n                seen.add(value);\n            }\n        });\n        onProposeOps(ops);\n    };\n    const handleNormalizeEmails = ()=>{\n        if (!selectedColumn) return;\n        const ops = [];\n        rows.forEach((row)=>{\n            const value = row.cells[selectedColumn] ?? \"\";\n            const normalized = value.toLowerCase();\n            if (value && value !== normalized) {\n                ops.push({\n                    id: `op-${Date.now()}-${row.id}`,\n                    type: \"cell_update\",\n                    rowId: row.id,\n                    columnId: selectedColumn,\n                    oldValue: value,\n                    newValue: normalized,\n                    author: \"agent\"\n                });\n            }\n        });\n        onProposeOps(ops);\n    };\n    const handleAddColumn = ()=>{\n        const name = window.prompt(\"Column name\", \"New Column\");\n        if (!name) return;\n        const columnId = slugify(name) || `col_${Date.now()}`;\n        const op = {\n            id: `op-${Date.now()}-col-add`,\n            type: \"column_add\",\n            columnId,\n            columnLabel: name,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    const handleDeleteColumn = ()=>{\n        const name = window.prompt(\"Column id to delete\", selectedColumn);\n        if (!name) return;\n        const op = {\n            id: `op-${Date.now()}-col-del`,\n            type: \"column_delete\",\n            columnId: name,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    const handleAddRow = ()=>{\n        const rowId = window.prompt(\"Row id\", `r${rows.length + 1}`);\n        if (!rowId) return;\n        const row = {\n            id: rowId,\n            cells: Object.fromEntries(columns.map((col)=>[\n                    col.id,\n                    \"\"\n                ]))\n        };\n        const op = {\n            id: `op-${Date.now()}-row-add`,\n            type: \"add_row\",\n            row,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    const handleDeleteRow = ()=>{\n        const rowId = window.prompt(\"Row id to delete\", rows[rows.length - 1]?.id);\n        if (!rowId) return;\n        const op = {\n            id: `op-${Date.now()}-row-del`,\n            type: \"row_delete\",\n            rowId,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    const handleSort = ()=>{\n        if (!selectedColumn) return;\n        const op = {\n            id: `op-${Date.now()}-sort`,\n            type: \"sort\",\n            columnId: selectedColumn,\n            direction: sortDirection,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    const handleFilter = ()=>{\n        if (!selectedColumn) return;\n        const target = filterValue.trim();\n        if (!target) return;\n        const ops = rows.filter((row)=>(row.cells[selectedColumn] ?? \"\").trim() !== target).map((row)=>({\n                id: `op-${Date.now()}-filter-${row.id}`,\n                type: \"row_delete\",\n                rowId: row.id,\n                author: \"agent\"\n            }));\n        onProposeOps(ops);\n    };\n    const handleAddSummary = (summaryRow)=>{\n        const op = {\n            id: `op-${Date.now()}-summary`,\n            type: \"add_row\",\n            row: summaryRow,\n            author: \"agent\"\n        };\n        onProposeOps([\n            op\n        ]);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Card__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-4 flex flex-wrap items-center justify-between gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-medium\",\n                        children: \"Tools\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 212,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 text-sm\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"columnSelect\",\n                                className: \"text-gray-600\",\n                                children: \"Column\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 214,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                id: \"columnSelect\",\n                                className: \"rounded-md border border-gray-300 bg-white px-2 py-1 text-sm\",\n                                value: selectedColumn,\n                                onChange: (e)=>setSelectedColumn(e.target.value),\n                                children: columns.map((column)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: column.id,\n                                        children: column.label\n                                    }, column.id, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                lineNumber: 211,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid gap-2 md:grid-cols-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Remove duplicates\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleRemoveDuplicates,\n                        children: \"Remove duplicates\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 233,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Normalize emails\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleNormalizeEmails,\n                        children: \"Normalize emails\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 240,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Add column\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleAddColumn,\n                        children: \"Add column\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 247,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Delete column\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleDeleteColumn,\n                        children: \"Delete column\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Add row\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleAddRow,\n                        children: \"Add row\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 261,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"aria-label\": \"Delete row\",\n                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                        onClick: handleDeleteRow,\n                        children: \"Delete row\"\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 268,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                \"aria-label\": \"Sort direction\",\n                                className: \"rounded-md border border-gray-300 bg-white px-2 py-2 text-sm\",\n                                value: sortDirection,\n                                onChange: (e)=>setSortDirection(e.target.value),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"asc\",\n                                        children: \"Asc\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                        lineNumber: 284,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                        value: \"desc\",\n                                        children: \"Desc\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                        lineNumber: 285,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 276,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                \"aria-label\": \"Sort by column\",\n                                className: \"flex-1 rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                                onClick: handleSort,\n                                children: [\n                                    \"Sort by \",\n                                    selectedColumnLabel || \"column\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 275,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                \"aria-label\": \"Filter value\",\n                                className: \"w-full rounded-md border border-gray-300 px-2 py-2 text-sm\",\n                                placeholder: \"Filter value\",\n                                value: filterValue,\n                                onChange: (e)=>setFilterValue(e.target.value)\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 296,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                \"aria-label\": \"Filter rows\",\n                                className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                                onClick: handleFilter,\n                                children: \"Filter\"\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                                lineNumber: 303,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                        lineNumber: 295,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                lineNumber: 232,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 border-t border-gray-100 pt-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_FormulaPreview__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                    columns: columns,\n                    rows: rows,\n                    columnId: selectedColumn,\n                    onAddSummary: handleAddSummary\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                    lineNumber: 314,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-2 border-t border-gray-100 pt-2\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    \"aria-label\": \"Validate data\",\n                    className: \"rounded-md border border-gray-300 px-3 py-2 text-sm\",\n                    onClick: onValidate,\n                    children: \"Validate data\"\n                }, void 0, false, {\n                    fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                    lineNumber: 323,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n                lineNumber: 322,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/aadit/sheet-ops/app/components/ToolsPanel.tsx\",\n        lineNumber: 210,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0NBQU9wRSxPQUFNO2tEQUFNOzs7Ozs7a0RBQ3BCLDhEQUFDb0U7d0NBQU9wRSxPQUFNO2tEQUFPOzs7Ozs7Ozs7Ozs7MENBRXZCLDhEQUFDcUU7Z0NBQ0NDLGNBQVc7Z0NBQ1hULFdBQVU7Z0NBQ1ZVLFNBQVNsQjs7b0NBQ1Y7b0NBQ1VyQyx1QkFBdUI7Ozs7Ozs7Ozs7Ozs7a0NBR3BDLDhEQUFDNEM7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDVztnQ0FDQ0YsY0FBVztnQ0FDWFQsV0FBVTtnQ0FDVlksYUFBWTtnQ0FDWnpFLE9BQU9jO2dDQUNQbUQsVUFBVSxDQUFDQyxJQUFNbkQsZUFBZW1ELEVBQUVWLE1BQU0sQ0FBQ3hELEtBQUs7Ozs7OzswQ0FFaEQsOERBQUNxRTtnQ0FDQ0MsY0FBVztnQ0FDWFQsV0FBVTtnQ0FDVlUsU0FBU2hCOzBDQUNWOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTUwsOERBQUNLO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDL0QsdURBQWNBO29CQUNiTyxTQUFTQTtvQkFDVEMsTUFBTUE7b0JBQ04rQixVQUFVNUI7b0JBQ1ZpRSxjQUFjaEI7Ozs7Ozs7Ozs7OzBCQUlsQiw4REFBQ0U7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNRO29CQUNDQyxjQUFXO29CQUNYVCxXQUFVO29CQUNWVSxTQUFTL0Q7OEJBQ1Y7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTVQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvLi9hcHAvY29tcG9uZW50cy9Ub29sc1BhbmVsLnRzeD80MzQ2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi9DYXJkXCI7XG5pbXBvcnQgRm9ybXVsYVByZXZpZXcgZnJvbSBcIi4vRm9ybXVsYVByZXZpZXdcIjtcblxuaW50ZXJmYWNlIENvbHVtbiB7XG4gIGlkOiBzdHJpbmc7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGFsaWduPzogXCJsZWZ0XCIgfCBcInJpZ2h0XCI7XG59XG5cbmludGVyZmFjZSBSb3cge1xuICBpZDogc3RyaW5nO1xuICBjZWxsczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuaW50ZXJmYWNlIEVkaXRPcGVyYXRpb24ge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOlxuICAgIHwgXCJjZWxsX3VwZGF0ZVwiXG4gICAgfCBcImNvbHVtbl9hZGRcIlxuICAgIHwgXCJjb2x1bW5fZGVsZXRlXCJcbiAgICB8IFwiYWRkX3Jvd1wiXG4gICAgfCBcInJvd19kZWxldGVcIlxuICAgIHwgXCJzb3J0XCI7XG4gIHJvd0lkPzogc3RyaW5nO1xuICBjb2x1bW5JZD86IHN0cmluZztcbiAgb2xkVmFsdWU/OiBzdHJpbmc7XG4gIG5ld1ZhbHVlPzogc3RyaW5nO1xuICBjb2x1bW5MYWJlbD86IHN0cmluZztcbiAgcm93PzogUm93O1xuICBkaXJlY3Rpb24/OiBcImFzY1wiIHwgXCJkZXNjXCI7XG4gIGF1dGhvcjogXCJ1c2VyXCIgfCBcImFnZW50XCI7XG59XG5cbmludGVyZmFjZSBUb29sc1BhbmVsUHJvcHMge1xuICBjb2x1bW5zOiBDb2x1bW5bXTtcbiAgcm93czogUm93W107XG4gIG9uUHJvcG9zZU9wczogKG9wczogRWRpdE9wZXJhdGlvbltdKSA9PiB2b2lkO1xuICBvblZhbGlkYXRlOiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBzbHVnaWZ5ID0gKHZhbHVlOiBzdHJpbmcpID0+XG4gIHZhbHVlXG4gICAgLnRyaW0oKVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgXCJfXCIpXG4gICAgLnJlcGxhY2UoL15fK3xfKyQvZywgXCJcIik7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRvb2xzUGFuZWwoe1xuICBjb2x1bW5zLFxuICByb3dzLFxuICBvblByb3Bvc2VPcHMsXG4gIG9uVmFsaWRhdGUsXG59OiBUb29sc1BhbmVsUHJvcHMpIHtcbiAgY29uc3QgW3NlbGVjdGVkQ29sdW1uLCBzZXRTZWxlY3RlZENvbHVtbl0gPSB1c2VTdGF0ZShcbiAgICBjb2x1bW5zWzBdPy5pZCA/PyBcIlwiLFxuICApO1xuICBjb25zdCBbc29ydERpcmVjdGlvbiwgc2V0U29ydERpcmVjdGlvbl0gPSB1c2VTdGF0ZTxcImFzY1wiIHwgXCJkZXNjXCI+KFwiYXNjXCIpO1xuICBjb25zdCBbZmlsdGVyVmFsdWUsIHNldEZpbHRlclZhbHVlXSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIGNvbnN0IHNlbGVjdGVkQ29sdW1uTGFiZWwgPSB1c2VNZW1vKFxuICAgICgpID0+IGNvbHVtbnMuZmluZCgoY29sKSA9PiBjb2wuaWQgPT09IHNlbGVjdGVkQ29sdW1uKT8ubGFiZWwgPz8gXCJcIixcbiAgICBbY29sdW1ucywgc2VsZWN0ZWRDb2x1bW5dLFxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZENvbHVtbiAmJiBjb2x1bW5zWzBdKSB7XG4gICAgICBzZXRTZWxlY3RlZENvbHVtbihjb2x1bW5zWzBdLmlkKTtcbiAgICB9XG4gIH0sIFtjb2x1bW5zLCBzZWxlY3RlZENvbHVtbl0pO1xuXG4gIGNvbnN0IGhhbmRsZVJlbW92ZUR1cGxpY2F0ZXMgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZENvbHVtbikgcmV0dXJuO1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBvcHM6IEVkaXRPcGVyYXRpb25bXSA9IFtdO1xuXG4gICAgcm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gKHJvdy5jZWxsc1tzZWxlY3RlZENvbHVtbl0gPz8gXCJcIikudHJpbSgpO1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgICAgICBvcHMucHVzaCh7XG4gICAgICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LSR7cm93LmlkfWAsXG4gICAgICAgICAgdHlwZTogXCJyb3dfZGVsZXRlXCIsXG4gICAgICAgICAgcm93SWQ6IHJvdy5pZCxcbiAgICAgICAgICBhdXRob3I6IFwiYWdlbnRcIixcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWVuLmFkZCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBvblByb3Bvc2VPcHMob3BzKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVOb3JtYWxpemVFbWFpbHMgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZENvbHVtbikgcmV0dXJuO1xuICAgIGNvbnN0IG9wczogRWRpdE9wZXJhdGlvbltdID0gW107XG4gICAgcm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcm93LmNlbGxzW3NlbGVjdGVkQ29sdW1uXSA/PyBcIlwiO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09IG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgb3BzLnB1c2goe1xuICAgICAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS0ke3Jvdy5pZH1gLFxuICAgICAgICAgIHR5cGU6IFwiY2VsbF91cGRhdGVcIixcbiAgICAgICAgICByb3dJZDogcm93LmlkLFxuICAgICAgICAgIGNvbHVtbklkOiBzZWxlY3RlZENvbHVtbixcbiAgICAgICAgICBvbGRWYWx1ZTogdmFsdWUsXG4gICAgICAgICAgbmV3VmFsdWU6IG5vcm1hbGl6ZWQsXG4gICAgICAgICAgYXV0aG9yOiBcImFnZW50XCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9uUHJvcG9zZU9wcyhvcHMpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZENvbHVtbiA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gd2luZG93LnByb21wdChcIkNvbHVtbiBuYW1lXCIsIFwiTmV3IENvbHVtblwiKTtcbiAgICBpZiAoIW5hbWUpIHJldHVybjtcbiAgICBjb25zdCBjb2x1bW5JZCA9IHNsdWdpZnkobmFtZSkgfHwgYGNvbF8ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBvcDogRWRpdE9wZXJhdGlvbiA9IHtcbiAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS1jb2wtYWRkYCxcbiAgICAgIHR5cGU6IFwiY29sdW1uX2FkZFwiLFxuICAgICAgY29sdW1uSWQsXG4gICAgICBjb2x1bW5MYWJlbDogbmFtZSxcbiAgICAgIGF1dGhvcjogXCJhZ2VudFwiLFxuICAgIH07XG4gICAgb25Qcm9wb3NlT3BzKFtvcF0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURlbGV0ZUNvbHVtbiA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gd2luZG93LnByb21wdChcIkNvbHVtbiBpZCB0byBkZWxldGVcIiwgc2VsZWN0ZWRDb2x1bW4pO1xuICAgIGlmICghbmFtZSkgcmV0dXJuO1xuICAgIGNvbnN0IG9wOiBFZGl0T3BlcmF0aW9uID0ge1xuICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LWNvbC1kZWxgLFxuICAgICAgdHlwZTogXCJjb2x1bW5fZGVsZXRlXCIsXG4gICAgICBjb2x1bW5JZDogbmFtZSxcbiAgICAgIGF1dGhvcjogXCJhZ2VudFwiLFxuICAgIH07XG4gICAgb25Qcm9wb3NlT3BzKFtvcF0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkZFJvdyA9ICgpID0+IHtcbiAgICBjb25zdCByb3dJZCA9IHdpbmRvdy5wcm9tcHQoXCJSb3cgaWRcIiwgYHIke3Jvd3MubGVuZ3RoICsgMX1gKTtcbiAgICBpZiAoIXJvd0lkKSByZXR1cm47XG4gICAgY29uc3Qgcm93OiBSb3cgPSB7XG4gICAgICBpZDogcm93SWQsXG4gICAgICBjZWxsczogT2JqZWN0LmZyb21FbnRyaWVzKGNvbHVtbnMubWFwKChjb2wpID0+IFtjb2wuaWQsIFwiXCJdKSksXG4gICAgfTtcbiAgICBjb25zdCBvcDogRWRpdE9wZXJhdGlvbiA9IHtcbiAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS1yb3ctYWRkYCxcbiAgICAgIHR5cGU6IFwiYWRkX3Jvd1wiLFxuICAgICAgcm93LFxuICAgICAgYXV0aG9yOiBcImFnZW50XCIsXG4gICAgfTtcbiAgICBvblByb3Bvc2VPcHMoW29wXSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlUm93ID0gKCkgPT4ge1xuICAgIGNvbnN0IHJvd0lkID0gd2luZG93LnByb21wdChcIlJvdyBpZCB0byBkZWxldGVcIiwgcm93c1tyb3dzLmxlbmd0aCAtIDFdPy5pZCk7XG4gICAgaWYgKCFyb3dJZCkgcmV0dXJuO1xuICAgIGNvbnN0IG9wOiBFZGl0T3BlcmF0aW9uID0ge1xuICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LXJvdy1kZWxgLFxuICAgICAgdHlwZTogXCJyb3dfZGVsZXRlXCIsXG4gICAgICByb3dJZCxcbiAgICAgIGF1dGhvcjogXCJhZ2VudFwiLFxuICAgIH07XG4gICAgb25Qcm9wb3NlT3BzKFtvcF0pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNvcnQgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZENvbHVtbikgcmV0dXJuO1xuICAgIGNvbnN0IG9wOiBFZGl0T3BlcmF0aW9uID0ge1xuICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LXNvcnRgLFxuICAgICAgdHlwZTogXCJzb3J0XCIsXG4gICAgICBjb2x1bW5JZDogc2VsZWN0ZWRDb2x1bW4sXG4gICAgICBkaXJlY3Rpb246IHNvcnREaXJlY3Rpb24sXG4gICAgICBhdXRob3I6IFwiYWdlbnRcIixcbiAgICB9O1xuICAgIG9uUHJvcG9zZU9wcyhbb3BdKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWx0ZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZENvbHVtbikgcmV0dXJuO1xuICAgIGNvbnN0IHRhcmdldCA9IGZpbHRlclZhbHVlLnRyaW0oKTtcbiAgICBpZiAoIXRhcmdldCkgcmV0dXJuO1xuICAgIGNvbnN0IG9wczogRWRpdE9wZXJhdGlvbltdID0gcm93c1xuICAgICAgLmZpbHRlcigocm93KSA9PiAocm93LmNlbGxzW3NlbGVjdGVkQ29sdW1uXSA/PyBcIlwiKS50cmltKCkgIT09IHRhcmdldClcbiAgICAgIC5tYXAoKHJvdykgPT4gKHtcbiAgICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9LWZpbHRlci0ke3Jvdy5pZH1gLFxuICAgICAgICB0eXBlOiBcInJvd19kZWxldGVcIixcbiAgICAgICAgcm93SWQ6IHJvdy5pZCxcbiAgICAgICAgYXV0aG9yOiBcImFnZW50XCIsXG4gICAgICB9KSk7XG4gICAgb25Qcm9wb3NlT3BzKG9wcyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkU3VtbWFyeSA9IChzdW1tYXJ5Um93OiBSb3cpID0+IHtcbiAgICBjb25zdCBvcDogRWRpdE9wZXJhdGlvbiA9IHtcbiAgICAgIGlkOiBgb3AtJHtEYXRlLm5vdygpfS1zdW1tYXJ5YCxcbiAgICAgIHR5cGU6IFwiYWRkX3Jvd1wiLFxuICAgICAgcm93OiBzdW1tYXJ5Um93LFxuICAgICAgYXV0aG9yOiBcImFnZW50XCIsXG4gICAgfTtcbiAgICBvblByb3Bvc2VPcHMoW29wXSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Q2FyZD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+VG9vbHM8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNvbHVtblNlbGVjdFwiIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIENvbHVtblxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgaWQ9XCJjb2x1bW5TZWxlY3RcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGJnLXdoaXRlIHB4LTIgcHktMSB0ZXh0LXNtXCJcbiAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZENvbHVtbn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRDb2x1bW4oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtjb2x1bW5zLm1hcCgoY29sdW1uKSA9PiAoXG4gICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtjb2x1bW4uaWR9IHZhbHVlPXtjb2x1bW4uaWR9PlxuICAgICAgICAgICAgICAgIHtjb2x1bW4ubGFiZWx9XG4gICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBnYXAtMiBtZDpncmlkLWNvbHMtMlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlJlbW92ZSBkdXBsaWNhdGVzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlbW92ZUR1cGxpY2F0ZXN9XG4gICAgICAgID5cbiAgICAgICAgICBSZW1vdmUgZHVwbGljYXRlc1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJOb3JtYWxpemUgZW1haWxzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5vcm1hbGl6ZUVtYWlsc31cbiAgICAgICAgPlxuICAgICAgICAgIE5vcm1hbGl6ZSBlbWFpbHNcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiQWRkIGNvbHVtblwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRDb2x1bW59XG4gICAgICAgID5cbiAgICAgICAgICBBZGQgY29sdW1uXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSBjb2x1bW5cIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlRGVsZXRlQ29sdW1ufVxuICAgICAgICA+XG4gICAgICAgICAgRGVsZXRlIGNvbHVtblxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJBZGQgcm93XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZFJvd31cbiAgICAgICAgPlxuICAgICAgICAgIEFkZCByb3dcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBhcmlhLWxhYmVsPVwiRGVsZXRlIHJvd1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtXCJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGVSb3d9XG4gICAgICAgID5cbiAgICAgICAgICBEZWxldGUgcm93XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlNvcnQgZGlyZWN0aW9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBiZy13aGl0ZSBweC0yIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgICB2YWx1ZT17c29ydERpcmVjdGlvbn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgICAgc2V0U29ydERpcmVjdGlvbihlLnRhcmdldC52YWx1ZSBhcyBcImFzY1wiIHwgXCJkZXNjXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFzY1wiPkFzYzwvb3B0aW9uPlxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRlc2NcIj5EZXNjPC9vcHRpb24+XG4gICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlNvcnQgYnkgY29sdW1uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU29ydH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBTb3J0IGJ5IHtzZWxlY3RlZENvbHVtbkxhYmVsIHx8IFwiY29sdW1uXCJ9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiRmlsdGVyIHZhbHVlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMiBweS0yIHRleHQtc21cIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJGaWx0ZXIgdmFsdWVcIlxuICAgICAgICAgICAgdmFsdWU9e2ZpbHRlclZhbHVlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXJWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiRmlsdGVyIHJvd3NcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUZpbHRlcn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBGaWx0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGJvcmRlci10IGJvcmRlci1ncmF5LTEwMCBwdC0yXCI+XG4gICAgICAgIDxGb3JtdWxhUHJldmlld1xuICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgcm93cz17cm93c31cbiAgICAgICAgICBjb2x1bW5JZD17c2VsZWN0ZWRDb2x1bW59XG4gICAgICAgICAgb25BZGRTdW1tYXJ5PXtoYW5kbGVBZGRTdW1tYXJ5fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBib3JkZXItdCBib3JkZXItZ3JheS0xMDAgcHQtMlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlZhbGlkYXRlIGRhdGFcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0zIHB5LTIgdGV4dC1zbVwiXG4gICAgICAgICAgb25DbGljaz17b25WYWxpZGF0ZX1cbiAgICAgICAgPlxuICAgICAgICAgIFZhbGlkYXRlIGRhdGFcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L0NhcmQ+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsIkNhcmQiLCJGb3JtdWxhUHJldmlldyIsInNsdWdpZnkiLCJ2YWx1ZSIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJUb29sc1BhbmVsIiwiY29sdW1ucyIsInJvd3MiLCJvblByb3Bvc2VPcHMiLCJvblZhbGlkYXRlIiwic2VsZWN0ZWRDb2x1bW4iLCJzZXRTZWxlY3RlZENvbHVtbiIsImlkIiwic29ydERpcmVjdGlvbiIsInNldFNvcnREaXJlY3Rpb24iLCJmaWx0ZXJWYWx1ZSIsInNldEZpbHRlclZhbHVlIiwic2VsZWN0ZWRDb2x1bW5MYWJlbCIsImZpbmQiLCJjb2wiLCJsYWJlbCIsImhhbmRsZVJlbW92ZUR1cGxpY2F0ZXMiLCJzZWVuIiwiU2V0Iiwib3BzIiwiZm9yRWFjaCIsInJvdyIsImNlbGxzIiwiaGFzIiwicHVzaCIsIkRhdGUiLCJub3ciLCJ0eXBlIiwicm93SWQiLCJhdXRob3IiLCJhZGQiLCJoYW5kbGVOb3JtYWxpemVFbWFpbHMiLCJub3JtYWxpemVkIiwiY29sdW1uSWQiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiaGFuZGxlQWRkQ29sdW1uIiwibmFtZSIsIndpbmRvdyIsInByb21wdCIsIm9wIiwiY29sdW1uTGFiZWwiLCJoYW5kbGVEZWxldGVDb2x1bW4iLCJoYW5kbGVBZGRSb3ciLCJsZW5ndGgiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsIm1hcCIsImhhbmRsZURlbGV0ZVJvdyIsImhhbmRsZVNvcnQiLCJkaXJlY3Rpb24iLCJoYW5kbGVGaWx0ZXIiLCJ0YXJnZXQiLCJmaWx0ZXIiLCJoYW5kbGVBZGRTdW1tYXJ5Iiwic3VtbWFyeVJvdyIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwiaHRtbEZvciIsInNlbGVjdCIsIm9uQ2hhbmdlIiwiZSIsImNvbHVtbiIsIm9wdGlvbiIsImJ1dHRvbiIsImFyaWEtbGFiZWwiLCJvbkNsaWNrIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uQWRkU3VtbWFyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./app/components/ToolsPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./app/sheet/[sheetId]/page.tsx":
/*!**************************************!*\
  !*** ./app/sheet/[sheetId]/page.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_AgentSidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/AgentSidebar */ \"(ssr)/./app/components/AgentSidebar.tsx\");\n/* harmony import */ var _components_AuthModeToggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/AuthModeToggle */ \"(ssr)/./app/components/AuthModeToggle.tsx\");\n/* harmony import */ var _components_Card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Card */ \"(ssr)/./app/components/Card.tsx\");\n/* harmony import */ var _components_DiffViewer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/DiffViewer */ \"(ssr)/./app/components/DiffViewer.tsx\");\n/* harmony import */ var _components_SheetPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/SheetPreview */ \"(ssr)/./app/components/SheetPreview.tsx\");\n/* harmony import */ var _components_ToolsPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/ToolsPanel */ \"(ssr)/./app/components/ToolsPanel.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\nconst MAX_INFER_ROWS = 20;\nconst inferColumnType = (rows, columnId)=>{\n    const sample = rows.slice(0, MAX_INFER_ROWS).map((row)=>(row.cells[columnId] ?? \"\").trim());\n    let emailHits = 0;\n    let numberHits = 0;\n    let dateHits = 0;\n    let stringHits = 0;\n    sample.forEach((value)=>{\n        if (!value) return;\n        if (/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n            emailHits += 1;\n            return;\n        }\n        if (!Number.isNaN(Number(value))) {\n            numberHits += 1;\n            return;\n        }\n        if (!Number.isNaN(Date.parse(value))) {\n            dateHits += 1;\n            return;\n        }\n        stringHits += 1;\n    });\n    if (emailHits >= Math.max(numberHits, dateHits, stringHits)) return \"email\";\n    if (numberHits >= Math.max(emailHits, dateHits, stringHits)) return \"number\";\n    if (dateHits >= Math.max(emailHits, numberHits, stringHits)) return \"date\";\n    return \"string\";\n};\nconst validateRows = (columns, rows)=>{\n    const issues = [];\n    columns.forEach((column)=>{\n        const inferred = inferColumnType(rows, column.id);\n        rows.forEach((row)=>{\n            const value = (row.cells[column.id] ?? \"\").trim();\n            if (!value) return;\n            if (inferred === \"email\" && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) {\n                issues.push({\n                    id: `val-${row.id}-${column.id}`,\n                    rowId: row.id,\n                    columnId: column.id,\n                    message: \"Invalid email format\"\n                });\n            }\n            if (inferred === \"number\" && Number.isNaN(Number(value))) {\n                issues.push({\n                    id: `val-${row.id}-${column.id}`,\n                    rowId: row.id,\n                    columnId: column.id,\n                    message: \"Expected a number\"\n                });\n            }\n        });\n    });\n    return issues;\n};\nconst applyOpsToState = (state, ops)=>{\n    let columns = [\n        ...state.columns\n    ];\n    let rows = state.rows.map((row)=>({\n            ...row,\n            cells: {\n                ...row.cells\n            }\n        }));\n    ops.forEach((op)=>{\n        if (op.type === \"cell_update\" && op.rowId && op.columnId) {\n            // Check if this is a new row (rowId starts with \"r-new-\" or \"r-inserted-\")\n            const isNewRow = op.rowId.startsWith(\"r-new-\") || op.rowId.startsWith(\"r-inserted-\");\n            const existingRow = rows.find((row)=>row.id === op.rowId);\n            if (isNewRow && !existingRow) {\n                // Create a new row with empty cells for all columns\n                const newRow = {\n                    id: op.rowId,\n                    cells: Object.fromEntries(columns.map((col)=>[\n                            col.id,\n                            \"\"\n                        ]))\n                };\n                rows = [\n                    ...rows,\n                    newRow\n                ];\n            }\n            // Now update the cell\n            rows = rows.map((row)=>row.id === op.rowId ? {\n                    ...row,\n                    cells: {\n                        ...row.cells,\n                        [op.columnId]: op.newValue ?? \"\"\n                    }\n                } : row);\n        }\n        if (op.type === \"column_add\" && op.columnId) {\n            columns = [\n                ...columns,\n                {\n                    id: op.columnId,\n                    label: op.columnLabel ?? op.columnId\n                }\n            ];\n            rows = rows.map((row)=>({\n                    ...row,\n                    cells: {\n                        ...row.cells,\n                        [op.columnId]: \"\"\n                    }\n                }));\n        }\n        if (op.type === \"column_delete\" && op.columnId) {\n            columns = columns.filter((column)=>column.id !== op.columnId);\n            rows = rows.map((row)=>{\n                const nextCells = {\n                    ...row.cells\n                };\n                delete nextCells[op.columnId];\n                return {\n                    ...row,\n                    cells: nextCells\n                };\n            });\n        }\n        if (op.type === \"add_row\" && op.row) {\n            rows = [\n                ...rows,\n                op.row\n            ];\n        }\n        if (op.type === \"row_delete\" && op.rowId) {\n            rows = rows.filter((row)=>row.id !== op.rowId);\n        }\n        if (op.type === \"sort\" && op.columnId) {\n            const direction = op.direction ?? \"asc\";\n            rows = [\n                ...rows\n            ].sort((a, b)=>{\n                const av = (a.cells[op.columnId] ?? \"\").toString();\n                const bv = (b.cells[op.columnId] ?? \"\").toString();\n                const cmp = av.localeCompare(bv, undefined, {\n                    numeric: true\n                });\n                return direction === \"asc\" ? cmp : -cmp;\n            });\n        }\n    });\n    return {\n        ...state,\n        columns,\n        rows\n    };\n};\nfunction Page({ params }) {\n    const { sheetId } = params;\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"agent\");\n    // Initialize authMode from localStorage to persist across navigation\n    const [authMode, setAuthMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        if (false) {}\n        return \"oauth\"; // Default to oauth for Composio flow\n    });\n    const [oauthTokens, setOauthTokens] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [connecting, setConnecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [authError, setAuthError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [lastSyncedAt, setLastSyncedAt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [syncing, setSyncing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pushing, setPushing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [sheetIdInput, setSheetIdInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(sheetId);\n    const [composioConnected, setComposioConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [composioAccountId, setComposioAccountId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [availableSheets, setAvailableSheets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingSheets, setLoadingSheets] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedSheet, setSelectedSheet] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Sheet tabs (worksheets within a spreadsheet)\n    const [availableTabs, setAvailableTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Sheet1\");\n    const [loadingTabs, setLoadingTabs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const initialState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const columns = [\n            {\n                id: \"name\",\n                label: \"Name\"\n            },\n            {\n                id: \"email\",\n                label: \"Email\"\n            },\n            {\n                id: \"amount\",\n                label: \"Amount\",\n                align: \"right\"\n            }\n        ];\n        const rows = sheetId === \"sample\" ? [\n            {\n                id: \"r1\",\n                cells: {\n                    name: \"Alice Smith\",\n                    email: \"alice@example.com\",\n                    amount: \"1200\"\n                }\n            },\n            {\n                id: \"r2\",\n                cells: {\n                    name: \"Bob Chen\",\n                    email: \"bob@example.com\",\n                    amount: \"540\"\n                }\n            },\n            {\n                id: \"r3\",\n                cells: {\n                    name: \"Cara Diaz\",\n                    email: \"cara@example.com\",\n                    amount: \"2300\"\n                }\n            }\n        ] : [\n            {\n                id: \"r1\",\n                cells: {\n                    name: \"\",\n                    email: \"\",\n                    amount: \"\"\n                }\n            },\n            {\n                id: \"r2\",\n                cells: {\n                    name: \"\",\n                    email: \"\",\n                    amount: \"\"\n                }\n            },\n            {\n                id: \"r3\",\n                cells: {\n                    name: \"\",\n                    email: \"\",\n                    amount: \"\"\n                }\n            }\n        ];\n        return {\n            columns,\n            rows,\n            pendingOps: []\n        };\n    }, [\n        sheetId\n    ]);\n    // Persist authMode to localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        localStorage.setItem(\"sheetops-authMode\", authMode);\n    }, [\n        authMode\n    ]);\n    const [sheetState, setSheetState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialState);\n    const baseStateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(initialState);\n    const [validationIssues, setValidationIssues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isDiffOpen, setIsDiffOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Check Composio connection on mount and when authMode changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkComposioConnection = async ()=>{\n            console.log(\"Checking Composio connection for authMode:\", authMode);\n            try {\n                const res = await fetch(\"/api/composio/connection?userId=anonymous&app=google_sheets\");\n                const data = await res.json();\n                console.log(\"Composio connection response:\", data);\n                setComposioConnected(data.connected ?? false);\n                // If connected, save account ID and load available sheets\n                if (data.connected && data.connectedAccountId) {\n                    console.log(\"Connected! Account ID:\", data.connectedAccountId);\n                    setComposioAccountId(data.connectedAccountId);\n                    loadAvailableSheets(data.connectedAccountId);\n                    // If we have a real sheet ID, auto-load the data\n                    if (isRealSheetId(sheetId)) {\n                        console.log(\"Auto-loading sheet data for:\", sheetId);\n                        // Call handlePull directly with the accountId since state might not be updated yet\n                        handlePullWithAccountId(sheetId, data.connectedAccountId);\n                    }\n                } else {\n                    console.log(\"Not connected. Accounts:\", data.accounts);\n                    setComposioAccountId(null);\n                }\n            } catch (err) {\n                console.error(\"Connection check error:\", err);\n                setComposioConnected(false);\n                setComposioAccountId(null);\n            }\n        };\n        // Helper to pull data with explicit accountId and tab name\n        const handlePullWithAccountId = async (targetSheetId, accountId, tabName = \"Sheet1\")=>{\n            setSyncing(true);\n            setAuthError(null);\n            try {\n                // Use tab name in range (e.g., \"Sheet1!A1:Z1000\")\n                const range = `${tabName}!A1:Z1000`;\n                const res = await fetch(\"/api/composio/sheets\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        userId: \"anonymous\",\n                        sheetId: targetSheetId,\n                        connectedAccountId: accountId,\n                        range\n                    })\n                });\n                const data = await res.json();\n                if (data.error) {\n                    console.error(\"Pull error:\", data.error, data.debug);\n                    setAuthError(data.error);\n                    return;\n                }\n                const values = data.values ?? [];\n                if (values.length === 0) {\n                    setAuthError(\"Sheet is empty or inaccessible.\");\n                    return;\n                }\n                const headerRow = values[0];\n                const columns = headerRow.map((label, idx)=>({\n                        id: slugify(label) || `col_${idx + 1}`,\n                        label: label || `Column ${idx + 1}`\n                    }));\n                const rows = values.slice(1).map((row, rowIndex)=>({\n                        id: `r${rowIndex + 1}`,\n                        cells: Object.fromEntries(columns.map((col, colIndex)=>[\n                                col.id,\n                                row[colIndex] ?? \"\"\n                            ]))\n                    }));\n                const nextState = {\n                    columns,\n                    rows,\n                    pendingOps: []\n                };\n                baseStateRef.current = nextState;\n                setSheetState(nextState);\n                setValidationIssues([]);\n                setLastSyncedAt(new Date().toISOString());\n            } catch (error) {\n                console.error(\"Pull failed:\", error);\n                setAuthError(\"Failed to pull sheet data.\");\n            } finally{\n                setSyncing(false);\n            }\n        };\n        // Always check on mount, and when authMode is oauth\n        if (authMode === \"oauth\") {\n            checkComposioConnection();\n        }\n    }, [\n        authMode,\n        sheetId\n    ]);\n    const loadAvailableSheets = async (accountId)=>{\n        const connectedAccountId = accountId || composioAccountId;\n        setLoadingSheets(true);\n        try {\n            const url = connectedAccountId ? `/api/composio/sheets?userId=anonymous&connectedAccountId=${connectedAccountId}` : \"/api/composio/sheets?userId=anonymous\";\n            const res = await fetch(url);\n            const data = await res.json();\n            console.log(\"Load sheets response:\", data);\n            if (data.error) {\n                console.error(\"Sheet listing error:\", data.error, data.debug);\n            }\n            setAvailableSheets(data.sheets ?? []);\n        } catch (err) {\n            console.error(\"Failed to load sheets:\", err);\n        } finally{\n            setLoadingSheets(false);\n        }\n    };\n    // Load sheet tabs (worksheets) for a spreadsheet\n    const loadSheetTabs = async (spreadsheetId, accountId)=>{\n        const connectedAccountId = accountId || composioAccountId;\n        if (!spreadsheetId || !isRealSheetId(spreadsheetId)) return;\n        setLoadingTabs(true);\n        try {\n            const url = connectedAccountId ? `/api/composio/sheet-tabs?spreadsheetId=${spreadsheetId}&connectedAccountId=${connectedAccountId}` : `/api/composio/sheet-tabs?spreadsheetId=${spreadsheetId}&userId=anonymous`;\n            const res = await fetch(url);\n            const data = await res.json();\n            console.log(\"Load tabs response:\", data);\n            const tabs = data.tabs ?? [\n                {\n                    id: 0,\n                    name: \"Sheet1\"\n                }\n            ];\n            setAvailableTabs(tabs);\n            // Select first tab if not already selected or current selection doesn't exist\n            if (tabs.length > 0 && !tabs.find((t)=>t.name === selectedTab)) {\n                setSelectedTab(tabs[0].name);\n            }\n        } catch (err) {\n            console.error(\"Failed to load sheet tabs:\", err);\n            setAvailableTabs([\n                {\n                    id: 0,\n                    name: \"Sheet1\"\n                }\n            ]);\n        } finally{\n            setLoadingTabs(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSheetState(initialState);\n        baseStateRef.current = initialState;\n        setValidationIssues([]);\n        setSheetIdInput(sheetId);\n    }, [\n        initialState\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (authMode === \"service\" && isRealSheetId(sheetId)) {\n            void loadSheetData();\n        }\n    // For oauth mode, we'll load data via Composio after connection check\n    // Don't use old oauth tokens path\n    }, [\n        authMode,\n        sheetId\n    ]);\n    // Load sheet tabs when spreadsheet changes and we have a connection\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (authMode === \"oauth\" && composioConnected && isRealSheetId(sheetId) && composioAccountId) {\n            loadSheetTabs(sheetId, composioAccountId);\n        }\n    }, [\n        authMode,\n        composioConnected,\n        sheetId,\n        composioAccountId\n    ]);\n    const pendingCount = sheetState.pendingOps.length;\n    const handleCellCommit = (rowId, columnId, oldValue, newValue)=>{\n        if (newValue === oldValue) return;\n        const op = {\n            id: `op-${Date.now()}`,\n            type: \"cell_update\",\n            rowId,\n            columnId,\n            oldValue,\n            newValue,\n            author: \"user\"\n        };\n        setSheetState((prev)=>({\n                ...prev,\n                rows: prev.rows.map((row)=>row.id === rowId ? {\n                        ...row,\n                        cells: {\n                            ...row.cells,\n                            [columnId]: newValue\n                        }\n                    } : row),\n                pendingOps: [\n                    ...prev.pendingOps,\n                    op\n                ]\n            }));\n    };\n    const handleApply = async ()=>{\n        console.log(\"handleApply called:\", {\n            pendingOps: sheetState.pendingOps.length,\n            authMode,\n            composioConnected,\n            composioAccountId\n        });\n        if (sheetState.pendingOps.length === 0) {\n            console.log(\"No pending ops, returning early\");\n            return;\n        }\n        setAuthError(null);\n        // If using Composio OAuth, use the Push flow instead\n        if (authMode === \"oauth\" && composioConnected) {\n            console.log(\"Using Composio Push flow...\");\n            await handlePush();\n            return;\n        }\n        // Legacy OAuth flow (direct OAuth tokens)\n        if (authMode === \"oauth\" && !oauthTokens) {\n            setAuthError(\"Connect your Google account first.\");\n            return;\n        }\n        try {\n            const response = await fetch(\"/api/sheets/execute\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    sheetId,\n                    ops: sheetState.pendingOps,\n                    mode: authMode,\n                    oauthTokens: authMode === \"oauth\" ? oauthTokens : undefined\n                })\n            });\n            if (!response.ok) {\n                const err = await response.json().catch(()=>({}));\n                setAuthError(err.error ?? \"Execution failed.\");\n                return;\n            }\n            const applied = applyOpsToState(baseStateRef.current, sheetState.pendingOps);\n            baseStateRef.current = {\n                ...applied,\n                pendingOps: []\n            };\n            setSheetState({\n                ...applied,\n                pendingOps: []\n            });\n            setValidationIssues([]);\n            setIsDiffOpen(false);\n            setLastSyncedAt(new Date().toISOString());\n        } catch (error) {\n            setAuthError(\"Network error while syncing.\");\n        }\n    };\n    const handleDiscard = ()=>{\n        setSheetState({\n            ...baseStateRef.current,\n            pendingOps: []\n        });\n        setValidationIssues([]);\n        setIsDiffOpen(false);\n    };\n    const handleAgentOps = (ops)=>{\n        if (!ops.length) return;\n        setSheetState((prev)=>({\n                ...prev,\n                pendingOps: [\n                    ...prev.pendingOps,\n                    ...ops\n                ]\n            }));\n        setIsDiffOpen(true);\n    };\n    const handleToolOps = (ops)=>{\n        if (!ops.length) return;\n        setSheetState((prev)=>({\n                ...prev,\n                pendingOps: [\n                    ...prev.pendingOps,\n                    ...ops\n                ]\n            }));\n        setIsDiffOpen(true);\n    };\n    const handleValidate = ()=>{\n        const issues = validateRows(sheetState.columns, sheetState.rows);\n        setValidationIssues(issues);\n        setIsDiffOpen(true);\n    };\n    const handleConnect = async ()=>{\n        setConnecting(true);\n        setAuthError(null);\n        try {\n            const res = await fetch(\"/api/composio/connection\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId: \"anonymous\",\n                    app: \"google_sheets\",\n                    redirectUrl: window.location.href\n                })\n            });\n            const data = await res.json();\n            console.log(\"Connect response:\", data);\n            if (data.error) {\n                setAuthError(`Connection failed: ${data.error}`);\n                return;\n            }\n            if (data.redirectUrl) {\n                // Redirect to Google OAuth page\n                window.location.href = data.redirectUrl;\n            } else {\n                setAuthError(\"No redirect URL returned. Check Composio setup.\");\n            }\n        } catch (error) {\n            console.error(\"Connect error:\", error);\n            setAuthError(\"Failed to connect to Google Sheets.\");\n        } finally{\n            setConnecting(false);\n        }\n    };\n    const slugify = (value)=>value.trim().toLowerCase().replace(/[^a-z0-9]+/g, \"_\").replace(/^_+|_+$/g, \"\");\n    const isRealSheetId = (value)=>value !== \"sample\" && value !== \"new\" && value.trim().length > 5;\n    const loadSheetData = async ()=>{\n        if (!isRealSheetId(sheetId)) {\n            setAuthError(\"Enter a real Google Sheet ID to sync.\");\n            return;\n        }\n        setSyncing(true);\n        setAuthError(null);\n        try {\n            const response = await fetch(\"/api/sheets/read\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    sheetId,\n                    mode: authMode,\n                    oauthTokens: authMode === \"oauth\" ? oauthTokens : undefined\n                })\n            });\n            if (!response.ok) {\n                const err = await response.json().catch(()=>({}));\n                setAuthError(err.error ?? \"Read failed.\");\n                return;\n            }\n            const payload = await response.json();\n            const values = payload.result.values ?? [];\n            if (values.length === 0) return;\n            const headerRow = values[0];\n            const columns = headerRow.map((label, idx)=>({\n                    id: slugify(label) || `col_${idx + 1}`,\n                    label: label || `Column ${idx + 1}`\n                }));\n            const rows = values.slice(1).map((row, rowIndex)=>({\n                    id: `r${rowIndex + 1}`,\n                    cells: Object.fromEntries(columns.map((col, colIndex)=>[\n                            col.id,\n                            row[colIndex] ?? \"\"\n                        ]))\n                }));\n            const nextState = {\n                columns,\n                rows,\n                pendingOps: []\n            };\n            baseStateRef.current = nextState;\n            setSheetState(nextState);\n            setValidationIssues([]);\n            setLastSyncedAt(new Date().toISOString());\n        } catch (error) {\n            setAuthError(\"Failed to load sheet data.\");\n        } finally{\n            setSyncing(false);\n        }\n    };\n    // Pull: Fetch latest data from Google Sheets via Composio\n    const handlePull = async (accountIdOverride, tabNameOverride)=>{\n        const targetSheetId = selectedSheet?.id || sheetId;\n        const accountId = accountIdOverride || composioAccountId;\n        const tabName = tabNameOverride || selectedTab;\n        if (!isRealSheetId(targetSheetId)) {\n            setAuthError(\"Select a sheet first.\");\n            return;\n        }\n        setSyncing(true);\n        setAuthError(null);\n        try {\n            // Use tab name in range (e.g., \"Sheet1!A1:Z1000\")\n            const range = `${tabName}!A1:Z1000`;\n            console.log(\"Pulling from range:\", range);\n            const res = await fetch(\"/api/composio/sheets\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId: \"anonymous\",\n                    sheetId: targetSheetId,\n                    connectedAccountId: accountId,\n                    range\n                })\n            });\n            const data = await res.json();\n            if (data.error) {\n                setAuthError(data.error);\n                return;\n            }\n            const values = data.values ?? [];\n            if (values.length === 0) {\n                setAuthError(\"Sheet is empty.\");\n                return;\n            }\n            const headerRow = values[0];\n            const columns = headerRow.map((label, idx)=>({\n                    id: slugify(label) || `col_${idx + 1}`,\n                    label: label || `Column ${idx + 1}`\n                }));\n            const rows = values.slice(1).map((row, rowIndex)=>({\n                    id: `r${rowIndex + 1}`,\n                    cells: Object.fromEntries(columns.map((col, colIndex)=>[\n                            col.id,\n                            row[colIndex] ?? \"\"\n                        ]))\n                }));\n            const nextState = {\n                columns,\n                rows,\n                pendingOps: []\n            };\n            baseStateRef.current = nextState;\n            setSheetState(nextState);\n            setValidationIssues([]);\n            setLastSyncedAt(new Date().toISOString());\n        } catch (error) {\n            console.error(\"Pull failed:\", error);\n            setAuthError(\"Failed to pull sheet data.\");\n        } finally{\n            setSyncing(false);\n        }\n    };\n    // Push: Send pending changes to Google Sheets via Composio\n    const handlePush = async ()=>{\n        const targetSheetId = selectedSheet?.id || sheetId;\n        console.log(\"Push started:\", {\n            targetSheetId,\n            composioAccountId,\n            selectedTab,\n            pendingOps: sheetState.pendingOps.length\n        });\n        if (!isRealSheetId(targetSheetId)) {\n            setAuthError(\"Select a sheet first.\");\n            return;\n        }\n        if (sheetState.pendingOps.length === 0) {\n            setAuthError(\"No changes to push.\");\n            return;\n        }\n        setPushing(true);\n        setAuthError(null);\n        try {\n            // Apply pending ops to get the final state to push\n            const stateTosPush = sheetState.pendingOps.length > 0 ? applyOpsToState(baseStateRef.current, sheetState.pendingOps) : sheetState;\n            // Convert state to 2D array for full push\n            const headerRow = stateTosPush.columns.map((col)=>col.label);\n            const dataRows = stateTosPush.rows.map((row)=>stateTosPush.columns.map((col)=>row.cells[col.id] ?? \"\"));\n            const fullData = [\n                headerRow,\n                ...dataRows\n            ];\n            console.log(\"Pushing data:\", {\n                rows: fullData.length,\n                cols: fullData[0]?.length,\n                sheetName: selectedTab\n            });\n            const res = await fetch(\"/api/composio/push\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    userId: \"anonymous\",\n                    sheetId: targetSheetId,\n                    sheetName: selectedTab,\n                    connectedAccountId: composioAccountId,\n                    fullData\n                })\n            });\n            const data = await res.json();\n            console.log(\"Push response:\", data);\n            if (data.error) {\n                setAuthError(data.error + (data.details ? `: ${data.details}` : \"\"));\n                return;\n            }\n            // Update base state and current state to the pushed state\n            baseStateRef.current = {\n                ...stateTosPush,\n                pendingOps: []\n            };\n            setSheetState({\n                ...stateTosPush,\n                pendingOps: []\n            });\n            setIsDiffOpen(false);\n            setLastSyncedAt(new Date().toISOString());\n        } catch (error) {\n            console.error(\"Push failed:\", error);\n            setAuthError(\"Failed to push changes.\");\n        } finally{\n            setPushing(false);\n        }\n    };\n    // Handle sheet selection from dropdown\n    const handleSheetSelect = (sheet)=>{\n        setSelectedSheet(sheet);\n        setSheetIdInput(sheet.id);\n        // Navigate to the sheet\n        window.location.href = `/sheet/${sheet.id}`;\n    };\n    const previewState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (sheetState.pendingOps.length === 0) return sheetState;\n        return applyOpsToState(baseStateRef.current, sheetState.pendingOps);\n    }, [\n        sheetState.pendingOps,\n        sheetState,\n        baseStateRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-white text-black antialiased\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"max-w-7xl mx-auto px-1 py-12\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"mb-6 flex flex-wrap items-center justify-between gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"/\",\n                                    className: \"text-sm underline\",\n                                    \"aria-label\": \"Back\",\n                                    children: \"Back\"\n                                }, void 0, false, {\n                                    fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                    lineNumber: 799,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                lineNumber: 798,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap items-center gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-600\",\n                                                children: \"Mode\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 805,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"inline-flex rounded-md border border-gray-300 p-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        \"aria-label\": \"Switch to Agent mode\",\n                                                        className: `px-3 py-1 rounded ${mode === \"agent\" ? \"bg-black text-white\" : \"text-black\"}`,\n                                                        onClick: ()=>setMode(\"agent\"),\n                                                        children: \"Agent\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 807,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        \"aria-label\": \"Switch to Manual mode\",\n                                                        className: `px-3 py-1 rounded ${mode === \"manual\" ? \"bg-black text-white\" : \"text-black\"}`,\n                                                        onClick: ()=>setMode(\"manual\"),\n                                                        children: \"Manual\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 816,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 806,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                        lineNumber: 804,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AuthModeToggle__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        mode: authMode,\n                                        onChange: setAuthMode,\n                                        connecting: connecting,\n                                        connected: !!oauthTokens,\n                                        onConnect: handleConnect,\n                                        error: authMode === \"oauth\" ? authError : null\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                        lineNumber: 827,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                lineNumber: 803,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                        lineNumber: 797,\n                        columnNumber: 9\n                    }, this),\n                    authMode === \"service\" && authError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-4 text-sm text-red-600\",\n                        children: authError\n                    }, void 0, false, {\n                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                        lineNumber: 838,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col md:flex-row md:items-stretch gap-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Card__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                                                className: \"flex flex-wrap items-start justify-between gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                        className: \"text-xl font-medium\",\n                                                        children: \"Sheet Preview\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 845,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-600 text-right\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: \"Backup created: backup_YYYYMMDD\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 847,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            lastSyncedAt && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    \"Last synced: \",\n                                                                    new Date(lastSyncedAt).toLocaleTimeString()\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 849,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 846,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 844,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 flex items-center justify-between text-sm text-gray-600\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: pendingCount === 0 ? \"No pending changes\" : `${pendingCount} pending changes`\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 855,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    pendingCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Preview changes\",\n                                                                className: \"rounded-md border border-gray-300 px-3 py-1.5\",\n                                                                onClick: ()=>setIsDiffOpen(true),\n                                                                children: \"Preview changes\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 862,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Apply pending changes\",\n                                                                className: \"rounded-md bg-black px-3 py-1.5 text-white\",\n                                                                onClick: handleApply,\n                                                                children: \"Apply\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 869,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Discard pending changes\",\n                                                                className: \"rounded-md border border-gray-300 px-3 py-1.5\",\n                                                                onClick: handleDiscard,\n                                                                children: \"Discard\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 876,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 861,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 854,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2 flex flex-wrap items-center gap-2 text-sm text-gray-600\",\n                                                children: [\n                                                    authMode === \"oauth\" && composioConnected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                \"aria-label\": \"Select sheet\",\n                                                                className: \"w-64 rounded-md border border-gray-300 px-2 py-1.5 text-sm\",\n                                                                value: selectedSheet?.id || sheetId,\n                                                                onChange: (e)=>{\n                                                                    const sheet = availableSheets.find((s)=>s.id === e.target.value);\n                                                                    if (sheet) handleSheetSelect(sheet);\n                                                                },\n                                                                disabled: loadingSheets,\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: \"\",\n                                                                        children: loadingSheets ? \"Loading sheets...\" : \"Select a sheet...\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                        lineNumber: 901,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    availableSheets.map((sheet)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                            value: sheet.id,\n                                                                            children: sheet.name\n                                                                        }, sheet.id, false, {\n                                                                            fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                            lineNumber: 905,\n                                                                            columnNumber: 25\n                                                                        }, this))\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 891,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Refresh sheets list\",\n                                                                className: \"rounded-md border border-gray-300 px-2 py-1.5\",\n                                                                onClick: ()=>loadAvailableSheets(),\n                                                                disabled: loadingSheets,\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 910,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 890,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    authMode === \"oauth\" && composioConnected && isRealSheetId(selectedSheet?.id || sheetId) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-500\",\n                                                                children: \"Tab:\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 924,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                \"aria-label\": \"Select worksheet tab\",\n                                                                className: \"w-40 rounded-md border border-gray-300 px-2 py-1.5 text-sm\",\n                                                                value: selectedTab,\n                                                                onChange: (e)=>{\n                                                                    setSelectedTab(e.target.value);\n                                                                    // Pull data from the new tab\n                                                                    handlePull(composioAccountId ?? undefined, e.target.value);\n                                                                },\n                                                                disabled: loadingTabs,\n                                                                children: loadingTabs ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"\",\n                                                                    children: \"Loading tabs...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                    lineNumber: 937,\n                                                                    columnNumber: 25\n                                                                }, this) : availableTabs.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                    value: \"Sheet1\",\n                                                                    children: \"Sheet1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                    lineNumber: 939,\n                                                                    columnNumber: 25\n                                                                }, this) : availableTabs.map((tab)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                        value: tab.name,\n                                                                        children: tab.name\n                                                                    }, tab.id, false, {\n                                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                        lineNumber: 942,\n                                                                        columnNumber: 27\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 925,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Refresh tabs list\",\n                                                                className: \"rounded-md border border-gray-300 px-2 py-1.5\",\n                                                                onClick: ()=>loadSheetTabs(selectedSheet?.id || sheetId),\n                                                                disabled: loadingTabs,\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 948,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 923,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    (authMode === \"service\" || !composioConnected) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                \"aria-label\": \"Sheet ID\",\n                                                                className: \"w-64 rounded-md border border-gray-300 px-2 py-1.5 text-sm\",\n                                                                placeholder: \"Paste Google Sheet ID\",\n                                                                value: sheetIdInput,\n                                                                onChange: (e)=>setSheetIdInput(e.target.value)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 962,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                \"aria-label\": \"Go to sheet\",\n                                                                className: \"rounded-md border border-gray-300 px-3 py-1.5\",\n                                                                onClick: ()=>{\n                                                                    if (sheetIdInput.trim()) {\n                                                                        window.location.href = `/sheet/${sheetIdInput.trim()}`;\n                                                                    }\n                                                                },\n                                                                children: \"Go\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 969,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 961,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        \"aria-label\": \"Pull from Google Sheets\",\n                                                        className: \"rounded-md border border-gray-300 px-3 py-1.5 flex items-center gap-1\",\n                                                        onClick: ()=>authMode === \"oauth\" && composioConnected ? handlePull() : loadSheetData(),\n                                                        disabled: syncing,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 990,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            syncing ? \"Pulling...\" : \"Pull\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        \"aria-label\": \"Push to Google Sheets\",\n                                                        className: `rounded-md px-3 py-1.5 flex items-center gap-1 ${pendingCount > 0 ? \"bg-black text-white\" : \"border border-gray-300 text-gray-400\"}`,\n                                                        onClick: handlePush,\n                                                        disabled: pushing || pendingCount === 0,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                                lineNumber: 1005,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            pushing ? \"Pushing...\" : `Push${pendingCount > 0 ? ` (${pendingCount})` : \"\"}`\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 995,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    authError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-red-600\",\n                                                        children: authError\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 1010,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 887,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 max-h-[420px] overflow-auto rounded-md border border-gray-100\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SheetPreview__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                    mode: mode,\n                                                    columns: sheetState.columns,\n                                                    rows: sheetState.rows,\n                                                    onCellCommit: handleCellCommit,\n                                                    validationIssues: validationIssues\n                                                }, void 0, false, {\n                                                    fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                    lineNumber: 1015,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 1014,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 flex flex-wrap items-center gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                        \"aria-label\": \"Open in Google Sheets\",\n                                                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700\",\n                                                        href: `https://docs.google.com/spreadsheets/d/${sheetId}`,\n                                                        target: \"_blank\",\n                                                        rel: \"noreferrer\",\n                                                        children: \"Open in Google Sheets\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 1025,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        \"aria-label\": \"Download CSV\",\n                                                        className: \"rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700\",\n                                                        children: \"Download CSV\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                        lineNumber: 1035,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                                lineNumber: 1024,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                        lineNumber: 843,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ToolsPanel__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            columns: sheetState.columns,\n                                            rows: sheetState.rows,\n                                            onProposeOps: handleToolOps,\n                                            onValidate: handleValidate\n                                        }, void 0, false, {\n                                            fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                            lineNumber: 1045,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                        lineNumber: 1044,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                lineNumber: 842,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full md:w-[420px] md:sticky md:top-6 md:h-[calc(100vh-140px)] self-start\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Card__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                    className: \"h-full\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AgentSidebar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        mode: mode,\n                                        pendingOps: sheetState.pendingOps,\n                                        columns: sheetState.columns,\n                                        rows: sheetState.rows,\n                                        sheetId: selectedSheet?.id || sheetId,\n                                        sheetName: selectedSheet?.name,\n                                        tabName: selectedTab,\n                                        userId: \"anonymous\",\n                                        onProposeOps: handleAgentOps,\n                                        validationIssues: validationIssues,\n                                        onPreview: ()=>setIsDiffOpen(true),\n                                        onAgentComplete: ()=>{\n                                            // Agent completed - operations have been proposed\n                                            // User must review and click Push to apply changes\n                                            console.log(\"Agent completed. Pending ops ready for review.\");\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                        lineNumber: 1055,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                    lineNumber: 1054,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                                lineNumber: 1053,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                        lineNumber: 841,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                lineNumber: 796,\n                columnNumber: 7\n            }, this),\n            isDiffOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_DiffViewer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                sheetBefore: baseStateRef.current,\n                sheetAfter: previewState,\n                ops: sheetState.pendingOps,\n                validationIssues: validationIssues,\n                onClose: ()=>setIsDiffOpen(false)\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n                lineNumber: 1079,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx\",\n        lineNumber: 795,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0YsV0FBV3BGLE9BQU87NENBQzNCdEIsTUFBTTBHLFdBQVcxRyxJQUFJOzRDQUNyQjBOLGNBQWNoRDs0Q0FDZGlELFlBQVloRDs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBSWxCLDhEQUFDdUI7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUN6TSx3REFBSUE7b0NBQUN5TSxXQUFVOzhDQUNkLDRFQUFDM00sZ0VBQVlBO3dDQUNYc0UsTUFBTUE7d0NBQ04wQyxZQUFZRSxXQUFXRixVQUFVO3dDQUNqQ2xGLFNBQVNvRixXQUFXcEYsT0FBTzt3Q0FDM0J0QixNQUFNMEcsV0FBVzFHLElBQUk7d0NBQ3JCNkQsU0FBUzhCLGVBQWVqRSxNQUFNbUM7d0NBQzlCZ0ksV0FBV2xHLGVBQWVVO3dDQUMxQjZCLFNBQVNuQzt3Q0FDVDBDLFFBQU87d0NBQ1BpRixjQUFjakQ7d0NBQ2Q1RCxrQkFBa0JBO3dDQUNsQitHLFdBQVcsSUFBTTVHLGNBQWM7d0NBQy9CNkcsaUJBQWlCOzRDQUNmLGtEQUFrRDs0Q0FDbEQsbURBQW1EOzRDQUNuRDNHLFFBQVFDLEdBQUcsQ0FBQzt3Q0FDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9USiw0QkFDQyw4REFBQ3BILDhEQUFVQTtnQkFDVG1PLGFBQWFsSCxhQUFhdUMsT0FBTztnQkFDakM0RSxZQUFZOUI7Z0JBQ1pqSyxLQUFLMEUsV0FBV0YsVUFBVTtnQkFDMUJLLGtCQUFrQkE7Z0JBQ2xCbUgsU0FBUyxJQUFNaEgsY0FBYzs7Ozs7Ozs7Ozs7O0FBS3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hlZXQtb3BzLy4vYXBwL3NoZWV0L1tzaGVldElkXS9wYWdlLnRzeD9hNmUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBBZ2VudFNpZGViYXIgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQWdlbnRTaWRlYmFyXCI7XG5pbXBvcnQgQXV0aE1vZGVUb2dnbGUgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvQXV0aE1vZGVUb2dnbGVcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0NhcmRcIjtcbmltcG9ydCBEaWZmVmlld2VyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0RpZmZWaWV3ZXJcIjtcbmltcG9ydCBTaGVldFByZXZpZXcgZnJvbSBcIi4uLy4uL2NvbXBvbmVudHMvU2hlZXRQcmV2aWV3XCI7XG5pbXBvcnQgVG9vbHNQYW5lbCBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Ub29sc1BhbmVsXCI7XG5pbXBvcnQge1xuICBDb2x1bW4sXG4gIENvbHVtblR5cGUsXG4gIFJvdyxcbiAgRWRpdE9wZXJhdGlvbixcbiAgU2hlZXRTdGF0ZSxcbiAgVmFsaWRhdGlvbklzc3VlLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcblxudHlwZSBNb2RlID0gXCJhZ2VudFwiIHwgXCJtYW51YWxcIjtcbnR5cGUgQXV0aE1vZGUgPSBcInNlcnZpY2VcIiB8IFwib2F1dGhcIjtcblxuY29uc3QgTUFYX0lORkVSX1JPV1MgPSAyMDtcblxuY29uc3QgaW5mZXJDb2x1bW5UeXBlID0gKHJvd3M6IFJvd1tdLCBjb2x1bW5JZDogc3RyaW5nKTogQ29sdW1uVHlwZSA9PiB7XG4gIGNvbnN0IHNhbXBsZSA9IHJvd3Muc2xpY2UoMCwgTUFYX0lORkVSX1JPV1MpLm1hcCgocm93KSA9PlxuICAgIChyb3cuY2VsbHNbY29sdW1uSWRdID8/IFwiXCIpLnRyaW0oKSxcbiAgKTtcbiAgbGV0IGVtYWlsSGl0cyA9IDA7XG4gIGxldCBudW1iZXJIaXRzID0gMDtcbiAgbGV0IGRhdGVIaXRzID0gMDtcbiAgbGV0IHN0cmluZ0hpdHMgPSAwO1xuXG4gIHNhbXBsZS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICBpZiAoL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgIGVtYWlsSGl0cyArPSAxO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSkge1xuICAgICAgbnVtYmVySGl0cyArPSAxO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc05hTihEYXRlLnBhcnNlKHZhbHVlKSkpIHtcbiAgICAgIGRhdGVIaXRzICs9IDE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0cmluZ0hpdHMgKz0gMTtcbiAgfSk7XG5cbiAgaWYgKGVtYWlsSGl0cyA+PSBNYXRoLm1heChudW1iZXJIaXRzLCBkYXRlSGl0cywgc3RyaW5nSGl0cykpIHJldHVybiBcImVtYWlsXCI7XG4gIGlmIChudW1iZXJIaXRzID49IE1hdGgubWF4KGVtYWlsSGl0cywgZGF0ZUhpdHMsIHN0cmluZ0hpdHMpKSByZXR1cm4gXCJudW1iZXJcIjtcbiAgaWYgKGRhdGVIaXRzID49IE1hdGgubWF4KGVtYWlsSGl0cywgbnVtYmVySGl0cywgc3RyaW5nSGl0cykpIHJldHVybiBcImRhdGVcIjtcbiAgcmV0dXJuIFwic3RyaW5nXCI7XG59O1xuXG5jb25zdCB2YWxpZGF0ZVJvd3MgPSAoY29sdW1uczogQ29sdW1uW10sIHJvd3M6IFJvd1tdKTogVmFsaWRhdGlvbklzc3VlW10gPT4ge1xuICBjb25zdCBpc3N1ZXM6IFZhbGlkYXRpb25Jc3N1ZVtdID0gW107XG4gIGNvbHVtbnMuZm9yRWFjaCgoY29sdW1uKSA9PiB7XG4gICAgY29uc3QgaW5mZXJyZWQgPSBpbmZlckNvbHVtblR5cGUocm93cywgY29sdW1uLmlkKTtcbiAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSAocm93LmNlbGxzW2NvbHVtbi5pZF0gPz8gXCJcIikudHJpbSgpO1xuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgaWYgKGluZmVycmVkID09PSBcImVtYWlsXCIgJiYgIS9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIGlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICBpZDogYHZhbC0ke3Jvdy5pZH0tJHtjb2x1bW4uaWR9YCxcbiAgICAgICAgICByb3dJZDogcm93LmlkLFxuICAgICAgICAgIGNvbHVtbklkOiBjb2x1bW4uaWQsXG4gICAgICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIGVtYWlsIGZvcm1hdFwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmZlcnJlZCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSkpIHtcbiAgICAgICAgaXNzdWVzLnB1c2goe1xuICAgICAgICAgIGlkOiBgdmFsLSR7cm93LmlkfS0ke2NvbHVtbi5pZH1gLFxuICAgICAgICAgIHJvd0lkOiByb3cuaWQsXG4gICAgICAgICAgY29sdW1uSWQ6IGNvbHVtbi5pZCxcbiAgICAgICAgICBtZXNzYWdlOiBcIkV4cGVjdGVkIGEgbnVtYmVyXCIsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGlzc3Vlcztcbn07XG5cbmNvbnN0IGFwcGx5T3BzVG9TdGF0ZSA9IChzdGF0ZTogU2hlZXRTdGF0ZSwgb3BzOiBFZGl0T3BlcmF0aW9uW10pOiBTaGVldFN0YXRlID0+IHtcbiAgbGV0IGNvbHVtbnMgPSBbLi4uc3RhdGUuY29sdW1uc107XG4gIGxldCByb3dzID0gc3RhdGUucm93cy5tYXAoKHJvdykgPT4gKHtcbiAgICAuLi5yb3csXG4gICAgY2VsbHM6IHsgLi4ucm93LmNlbGxzIH0sXG4gIH0pKTtcblxuICBvcHMuZm9yRWFjaCgob3ApID0+IHtcbiAgICBpZiAob3AudHlwZSA9PT0gXCJjZWxsX3VwZGF0ZVwiICYmIG9wLnJvd0lkICYmIG9wLmNvbHVtbklkKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbmV3IHJvdyAocm93SWQgc3RhcnRzIHdpdGggXCJyLW5ldy1cIiBvciBcInItaW5zZXJ0ZWQtXCIpXG4gICAgICBjb25zdCBpc05ld1JvdyA9IG9wLnJvd0lkLnN0YXJ0c1dpdGgoXCJyLW5ldy1cIikgfHwgb3Aucm93SWQuc3RhcnRzV2l0aChcInItaW5zZXJ0ZWQtXCIpO1xuICAgICAgY29uc3QgZXhpc3RpbmdSb3cgPSByb3dzLmZpbmQoKHJvdykgPT4gcm93LmlkID09PSBvcC5yb3dJZCk7XG4gICAgICBcbiAgICAgIGlmIChpc05ld1JvdyAmJiAhZXhpc3RpbmdSb3cpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHJvdyB3aXRoIGVtcHR5IGNlbGxzIGZvciBhbGwgY29sdW1uc1xuICAgICAgICBjb25zdCBuZXdSb3cgPSB7XG4gICAgICAgICAgaWQ6IG9wLnJvd0lkLFxuICAgICAgICAgIGNlbGxzOiBPYmplY3QuZnJvbUVudHJpZXMoY29sdW1ucy5tYXAoKGNvbCkgPT4gW2NvbC5pZCwgXCJcIl0pKSxcbiAgICAgICAgfTtcbiAgICAgICAgcm93cyA9IFsuLi5yb3dzLCBuZXdSb3ddO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBOb3cgdXBkYXRlIHRoZSBjZWxsXG4gICAgICByb3dzID0gcm93cy5tYXAoKHJvdykgPT5cbiAgICAgICAgcm93LmlkID09PSBvcC5yb3dJZFxuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAuLi5yb3csXG4gICAgICAgICAgICAgIGNlbGxzOiB7XG4gICAgICAgICAgICAgICAgLi4ucm93LmNlbGxzLFxuICAgICAgICAgICAgICAgIFtvcC5jb2x1bW5JZCFdOiBvcC5uZXdWYWx1ZSA/PyBcIlwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogcm93LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAob3AudHlwZSA9PT0gXCJjb2x1bW5fYWRkXCIgJiYgb3AuY29sdW1uSWQpIHtcbiAgICAgIGNvbHVtbnMgPSBbXG4gICAgICAgIC4uLmNvbHVtbnMsXG4gICAgICAgIHsgaWQ6IG9wLmNvbHVtbklkLCBsYWJlbDogb3AuY29sdW1uTGFiZWwgPz8gb3AuY29sdW1uSWQgfSxcbiAgICAgIF07XG4gICAgICByb3dzID0gcm93cy5tYXAoKHJvdykgPT4gKHtcbiAgICAgICAgLi4ucm93LFxuICAgICAgICBjZWxsczogeyAuLi5yb3cuY2VsbHMsIFtvcC5jb2x1bW5JZCFdOiBcIlwiIH0sXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgaWYgKG9wLnR5cGUgPT09IFwiY29sdW1uX2RlbGV0ZVwiICYmIG9wLmNvbHVtbklkKSB7XG4gICAgICBjb2x1bW5zID0gY29sdW1ucy5maWx0ZXIoKGNvbHVtbikgPT4gY29sdW1uLmlkICE9PSBvcC5jb2x1bW5JZCk7XG4gICAgICByb3dzID0gcm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgICBjb25zdCBuZXh0Q2VsbHMgPSB7IC4uLnJvdy5jZWxscyB9O1xuICAgICAgICBkZWxldGUgbmV4dENlbGxzW29wLmNvbHVtbklkIV07XG4gICAgICAgIHJldHVybiB7IC4uLnJvdywgY2VsbHM6IG5leHRDZWxscyB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wLnR5cGUgPT09IFwiYWRkX3Jvd1wiICYmIG9wLnJvdykge1xuICAgICAgcm93cyA9IFsuLi5yb3dzLCBvcC5yb3ddO1xuICAgIH1cblxuICAgIGlmIChvcC50eXBlID09PSBcInJvd19kZWxldGVcIiAmJiBvcC5yb3dJZCkge1xuICAgICAgcm93cyA9IHJvd3MuZmlsdGVyKChyb3cpID0+IHJvdy5pZCAhPT0gb3Aucm93SWQpO1xuICAgIH1cblxuICAgIGlmIChvcC50eXBlID09PSBcInNvcnRcIiAmJiBvcC5jb2x1bW5JZCkge1xuICAgICAgY29uc3QgZGlyZWN0aW9uID0gb3AuZGlyZWN0aW9uID8/IFwiYXNjXCI7XG4gICAgICByb3dzID0gWy4uLnJvd3NdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgY29uc3QgYXYgPSAoYS5jZWxsc1tvcC5jb2x1bW5JZCFdID8/IFwiXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGJ2ID0gKGIuY2VsbHNbb3AuY29sdW1uSWQhXSA/PyBcIlwiKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBjbXAgPSBhdi5sb2NhbGVDb21wYXJlKGJ2LCB1bmRlZmluZWQsIHsgbnVtZXJpYzogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IGNtcCA6IC1jbXA7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IC4uLnN0YXRlLCBjb2x1bW5zLCByb3dzIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdlKHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IHNoZWV0SWQ6IHN0cmluZyB9IH0pIHtcbiAgY29uc3QgeyBzaGVldElkIH0gPSBwYXJhbXM7XG4gIGNvbnN0IFttb2RlLCBzZXRNb2RlXSA9IHVzZVN0YXRlPE1vZGU+KFwiYWdlbnRcIik7XG4gIC8vIEluaXRpYWxpemUgYXV0aE1vZGUgZnJvbSBsb2NhbFN0b3JhZ2UgdG8gcGVyc2lzdCBhY3Jvc3MgbmF2aWdhdGlvblxuICBjb25zdCBbYXV0aE1vZGUsIHNldEF1dGhNb2RlXSA9IHVzZVN0YXRlPEF1dGhNb2RlPigoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzaGVldG9wcy1hdXRoTW9kZVwiKTtcbiAgICAgIGlmIChzYXZlZCA9PT0gXCJvYXV0aFwiIHx8IHNhdmVkID09PSBcInNlcnZpY2VcIikgcmV0dXJuIHNhdmVkO1xuICAgIH1cbiAgICByZXR1cm4gXCJvYXV0aFwiOyAvLyBEZWZhdWx0IHRvIG9hdXRoIGZvciBDb21wb3NpbyBmbG93XG4gIH0pO1xuICBjb25zdCBbb2F1dGhUb2tlbnMsIHNldE9hdXRoVG9rZW5zXSA9IHVzZVN0YXRlPFxuICAgIHsgYWNjZXNzVG9rZW46IHN0cmluZzsgcmVmcmVzaFRva2VuPzogc3RyaW5nIH0gfCBudWxsXG4gID4obnVsbCk7XG4gIGNvbnN0IFtjb25uZWN0aW5nLCBzZXRDb25uZWN0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dGhFcnJvciwgc2V0QXV0aEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGFzdFN5bmNlZEF0LCBzZXRMYXN0U3luY2VkQXRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzeW5jaW5nLCBzZXRTeW5jaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3B1c2hpbmcsIHNldFB1c2hpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hlZXRJZElucHV0LCBzZXRTaGVldElkSW5wdXRdID0gdXNlU3RhdGUoc2hlZXRJZCk7XG4gIGNvbnN0IFtjb21wb3Npb0Nvbm5lY3RlZCwgc2V0Q29tcG9zaW9Db25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29tcG9zaW9BY2NvdW50SWQsIHNldENvbXBvc2lvQWNjb3VudElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbYXZhaWxhYmxlU2hlZXRzLCBzZXRBdmFpbGFibGVTaGVldHNdID0gdXNlU3RhdGU8QXJyYXk8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfT4+KFtdKTtcbiAgY29uc3QgW2xvYWRpbmdTaGVldHMsIHNldExvYWRpbmdTaGVldHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRTaGVldCwgc2V0U2VsZWN0ZWRTaGVldF0gPSB1c2VTdGF0ZTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBTaGVldCB0YWJzICh3b3Jrc2hlZXRzIHdpdGhpbiBhIHNwcmVhZHNoZWV0KVxuICBjb25zdCBbYXZhaWxhYmxlVGFicywgc2V0QXZhaWxhYmxlVGFic10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBudW1iZXI7IG5hbWU6IHN0cmluZyB9Pj4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRUYWIsIHNldFNlbGVjdGVkVGFiXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJTaGVldDFcIik7XG4gIGNvbnN0IFtsb2FkaW5nVGFicywgc2V0TG9hZGluZ1RhYnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHVzZU1lbW88U2hlZXRTdGF0ZT4oKCkgPT4ge1xuICAgIGNvbnN0IGNvbHVtbnM6IENvbHVtbltdID0gW1xuICAgICAgeyBpZDogXCJuYW1lXCIsIGxhYmVsOiBcIk5hbWVcIiB9LFxuICAgICAgeyBpZDogXCJlbWFpbFwiLCBsYWJlbDogXCJFbWFpbFwiIH0sXG4gICAgICB7IGlkOiBcImFtb3VudFwiLCBsYWJlbDogXCJBbW91bnRcIiwgYWxpZ246IFwicmlnaHRcIiB9LFxuICAgIF07XG5cbiAgICBjb25zdCByb3dzOiBSb3dbXSA9XG4gICAgICBzaGVldElkID09PSBcInNhbXBsZVwiXG4gICAgICAgID8gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogXCJyMVwiLFxuICAgICAgICAgICAgICBjZWxsczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQWxpY2UgU21pdGhcIixcbiAgICAgICAgICAgICAgICBlbWFpbDogXCJhbGljZUBleGFtcGxlLmNvbVwiLFxuICAgICAgICAgICAgICAgIGFtb3VudDogXCIxMjAwXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogXCJyMlwiLFxuICAgICAgICAgICAgICBjZWxsczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQm9iIENoZW5cIixcbiAgICAgICAgICAgICAgICBlbWFpbDogXCJib2JAZXhhbXBsZS5jb21cIixcbiAgICAgICAgICAgICAgICBhbW91bnQ6IFwiNTQwXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpZDogXCJyM1wiLFxuICAgICAgICAgICAgICBjZWxsczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQ2FyYSBEaWF6XCIsXG4gICAgICAgICAgICAgICAgZW1haWw6IFwiY2FyYUBleGFtcGxlLmNvbVwiLFxuICAgICAgICAgICAgICAgIGFtb3VudDogXCIyMzAwXCIsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF1cbiAgICAgICAgOiBbXG4gICAgICAgICAgICB7IGlkOiBcInIxXCIsIGNlbGxzOiB7IG5hbWU6IFwiXCIsIGVtYWlsOiBcIlwiLCBhbW91bnQ6IFwiXCIgfSB9LFxuICAgICAgICAgICAgeyBpZDogXCJyMlwiLCBjZWxsczogeyBuYW1lOiBcIlwiLCBlbWFpbDogXCJcIiwgYW1vdW50OiBcIlwiIH0gfSxcbiAgICAgICAgICAgIHsgaWQ6IFwicjNcIiwgY2VsbHM6IHsgbmFtZTogXCJcIiwgZW1haWw6IFwiXCIsIGFtb3VudDogXCJcIiB9IH0sXG4gICAgICAgICAgXTtcblxuICAgIHJldHVybiB7IGNvbHVtbnMsIHJvd3MsIHBlbmRpbmdPcHM6IFtdIH07XG4gIH0sIFtzaGVldElkXSk7XG5cbiAgLy8gUGVyc2lzdCBhdXRoTW9kZSB0byBsb2NhbFN0b3JhZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNoZWV0b3BzLWF1dGhNb2RlXCIsIGF1dGhNb2RlKTtcbiAgfSwgW2F1dGhNb2RlXSk7XG5cbiAgY29uc3QgW3NoZWV0U3RhdGUsIHNldFNoZWV0U3RhdGVdID0gdXNlU3RhdGU8U2hlZXRTdGF0ZT4oaW5pdGlhbFN0YXRlKTtcbiAgY29uc3QgYmFzZVN0YXRlUmVmID0gdXNlUmVmPFNoZWV0U3RhdGU+KGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IFt2YWxpZGF0aW9uSXNzdWVzLCBzZXRWYWxpZGF0aW9uSXNzdWVzXSA9IHVzZVN0YXRlPFZhbGlkYXRpb25Jc3N1ZVtdPihcbiAgICBbXSxcbiAgKTtcbiAgY29uc3QgW2lzRGlmZk9wZW4sIHNldElzRGlmZk9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIENoZWNrIENvbXBvc2lvIGNvbm5lY3Rpb24gb24gbW91bnQgYW5kIHdoZW4gYXV0aE1vZGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQ29tcG9zaW9Db25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJDaGVja2luZyBDb21wb3NpbyBjb25uZWN0aW9uIGZvciBhdXRoTW9kZTpcIiwgYXV0aE1vZGUpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbXBvc2lvL2Nvbm5lY3Rpb24/dXNlcklkPWFub255bW91cyZhcHA9Z29vZ2xlX3NoZWV0c1wiKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXMuanNvbigpKSBhcyB7IGNvbm5lY3RlZD86IGJvb2xlYW47IGNvbm5lY3RlZEFjY291bnRJZD86IHN0cmluZzsgYWNjb3VudHM/OiB1bmtub3duW10gfTtcbiAgICAgICAgY29uc29sZS5sb2coXCJDb21wb3NpbyBjb25uZWN0aW9uIHJlc3BvbnNlOlwiLCBkYXRhKTtcbiAgICAgICAgc2V0Q29tcG9zaW9Db25uZWN0ZWQoZGF0YS5jb25uZWN0ZWQgPz8gZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgY29ubmVjdGVkLCBzYXZlIGFjY291bnQgSUQgYW5kIGxvYWQgYXZhaWxhYmxlIHNoZWV0c1xuICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQgJiYgZGF0YS5jb25uZWN0ZWRBY2NvdW50SWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCEgQWNjb3VudCBJRDpcIiwgZGF0YS5jb25uZWN0ZWRBY2NvdW50SWQpO1xuICAgICAgICAgIHNldENvbXBvc2lvQWNjb3VudElkKGRhdGEuY29ubmVjdGVkQWNjb3VudElkKTtcbiAgICAgICAgICBsb2FkQXZhaWxhYmxlU2hlZXRzKGRhdGEuY29ubmVjdGVkQWNjb3VudElkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgcmVhbCBzaGVldCBJRCwgYXV0by1sb2FkIHRoZSBkYXRhXG4gICAgICAgICAgaWYgKGlzUmVhbFNoZWV0SWQoc2hlZXRJZCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXV0by1sb2FkaW5nIHNoZWV0IGRhdGEgZm9yOlwiLCBzaGVldElkKTtcbiAgICAgICAgICAgIC8vIENhbGwgaGFuZGxlUHVsbCBkaXJlY3RseSB3aXRoIHRoZSBhY2NvdW50SWQgc2luY2Ugc3RhdGUgbWlnaHQgbm90IGJlIHVwZGF0ZWQgeWV0XG4gICAgICAgICAgICBoYW5kbGVQdWxsV2l0aEFjY291bnRJZChzaGVldElkLCBkYXRhLmNvbm5lY3RlZEFjY291bnRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm90IGNvbm5lY3RlZC4gQWNjb3VudHM6XCIsIGRhdGEuYWNjb3VudHMpO1xuICAgICAgICAgIHNldENvbXBvc2lvQWNjb3VudElkKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNvbm5lY3Rpb24gY2hlY2sgZXJyb3I6XCIsIGVycik7XG4gICAgICAgIHNldENvbXBvc2lvQ29ubmVjdGVkKGZhbHNlKTtcbiAgICAgICAgc2V0Q29tcG9zaW9BY2NvdW50SWQobnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBIZWxwZXIgdG8gcHVsbCBkYXRhIHdpdGggZXhwbGljaXQgYWNjb3VudElkIGFuZCB0YWIgbmFtZVxuICAgIGNvbnN0IGhhbmRsZVB1bGxXaXRoQWNjb3VudElkID0gYXN5bmMgKHRhcmdldFNoZWV0SWQ6IHN0cmluZywgYWNjb3VudElkOiBzdHJpbmcsIHRhYk5hbWU6IHN0cmluZyA9IFwiU2hlZXQxXCIpID0+IHtcbiAgICAgIHNldFN5bmNpbmcodHJ1ZSk7XG4gICAgICBzZXRBdXRoRXJyb3IobnVsbCk7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBVc2UgdGFiIG5hbWUgaW4gcmFuZ2UgKGUuZy4sIFwiU2hlZXQxIUExOloxMDAwXCIpXG4gICAgICAgIGNvbnN0IHJhbmdlID0gYCR7dGFiTmFtZX0hQTE6WjEwMDBgO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcIi9hcGkvY29tcG9zaW8vc2hlZXRzXCIsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB1c2VySWQ6IFwiYW5vbnltb3VzXCIsXG4gICAgICAgICAgICBzaGVldElkOiB0YXJnZXRTaGVldElkLFxuICAgICAgICAgICAgY29ubmVjdGVkQWNjb3VudElkOiBhY2NvdW50SWQsXG4gICAgICAgICAgICByYW5nZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIHsgdmFsdWVzPzogc3RyaW5nW11bXTsgZXJyb3I/OiBzdHJpbmc7IGRlYnVnPzogc3RyaW5nIH07XG4gICAgICAgIFxuICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJQdWxsIGVycm9yOlwiLCBkYXRhLmVycm9yLCBkYXRhLmRlYnVnKTtcbiAgICAgICAgICBzZXRBdXRoRXJyb3IoZGF0YS5lcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLnZhbHVlcyA/PyBbXTtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBzZXRBdXRoRXJyb3IoXCJTaGVldCBpcyBlbXB0eSBvciBpbmFjY2Vzc2libGUuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHZhbHVlc1swXTtcbiAgICAgICAgY29uc3QgY29sdW1uczogQ29sdW1uW10gPSBoZWFkZXJSb3cubWFwKChsYWJlbCwgaWR4KSA9PiAoe1xuICAgICAgICAgIGlkOiBzbHVnaWZ5KGxhYmVsKSB8fCBgY29sXyR7aWR4ICsgMX1gLFxuICAgICAgICAgIGxhYmVsOiBsYWJlbCB8fCBgQ29sdW1uICR7aWR4ICsgMX1gLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3Qgcm93czogUm93W10gPSB2YWx1ZXMuc2xpY2UoMSkubWFwKChyb3csIHJvd0luZGV4KSA9PiAoe1xuICAgICAgICAgIGlkOiBgciR7cm93SW5kZXggKyAxfWAsXG4gICAgICAgICAgY2VsbHM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICAgIGNvbHVtbnMubWFwKChjb2wsIGNvbEluZGV4KSA9PiBbY29sLmlkLCByb3dbY29sSW5kZXhdID8/IFwiXCJdKSxcbiAgICAgICAgICApLFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgbmV4dFN0YXRlOiBTaGVldFN0YXRlID0geyBjb2x1bW5zLCByb3dzLCBwZW5kaW5nT3BzOiBbXSB9O1xuICAgICAgICBiYXNlU3RhdGVSZWYuY3VycmVudCA9IG5leHRTdGF0ZTtcbiAgICAgICAgc2V0U2hlZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgICAgICBzZXRWYWxpZGF0aW9uSXNzdWVzKFtdKTtcbiAgICAgICAgc2V0TGFzdFN5bmNlZEF0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUHVsbCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgICAgc2V0QXV0aEVycm9yKFwiRmFpbGVkIHRvIHB1bGwgc2hlZXQgZGF0YS5cIik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRTeW5jaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIEFsd2F5cyBjaGVjayBvbiBtb3VudCwgYW5kIHdoZW4gYXV0aE1vZGUgaXMgb2F1dGhcbiAgICBpZiAoYXV0aE1vZGUgPT09IFwib2F1dGhcIikge1xuICAgICAgY2hlY2tDb21wb3Npb0Nvbm5lY3Rpb24oKTtcbiAgICB9XG4gIH0sIFthdXRoTW9kZSwgc2hlZXRJZF0pO1xuXG4gIGNvbnN0IGxvYWRBdmFpbGFibGVTaGVldHMgPSBhc3luYyAoYWNjb3VudElkPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGVkQWNjb3VudElkID0gYWNjb3VudElkIHx8IGNvbXBvc2lvQWNjb3VudElkO1xuICAgIHNldExvYWRpbmdTaGVldHModHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IGNvbm5lY3RlZEFjY291bnRJZFxuICAgICAgICA/IGAvYXBpL2NvbXBvc2lvL3NoZWV0cz91c2VySWQ9YW5vbnltb3VzJmNvbm5lY3RlZEFjY291bnRJZD0ke2Nvbm5lY3RlZEFjY291bnRJZH1gXG4gICAgICAgIDogXCIvYXBpL2NvbXBvc2lvL3NoZWV0cz91c2VySWQ9YW5vbnltb3VzXCI7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXMuanNvbigpKSBhcyB7IHNoZWV0cz86IEFycmF5PHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0+OyBlcnJvcj86IHN0cmluZzsgZGVidWc/OiB1bmtub3duIH07XG4gICAgICBjb25zb2xlLmxvZyhcIkxvYWQgc2hlZXRzIHJlc3BvbnNlOlwiLCBkYXRhKTtcbiAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTaGVldCBsaXN0aW5nIGVycm9yOlwiLCBkYXRhLmVycm9yLCBkYXRhLmRlYnVnKTtcbiAgICAgIH1cbiAgICAgIHNldEF2YWlsYWJsZVNoZWV0cyhkYXRhLnNoZWV0cyA/PyBbXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGxvYWQgc2hlZXRzOlwiLCBlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nU2hlZXRzKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9hZCBzaGVldCB0YWJzICh3b3Jrc2hlZXRzKSBmb3IgYSBzcHJlYWRzaGVldFxuICBjb25zdCBsb2FkU2hlZXRUYWJzID0gYXN5bmMgKHNwcmVhZHNoZWV0SWQ6IHN0cmluZywgYWNjb3VudElkPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGVkQWNjb3VudElkID0gYWNjb3VudElkIHx8IGNvbXBvc2lvQWNjb3VudElkO1xuICAgIGlmICghc3ByZWFkc2hlZXRJZCB8fCAhaXNSZWFsU2hlZXRJZChzcHJlYWRzaGVldElkKSkgcmV0dXJuO1xuICAgIFxuICAgIHNldExvYWRpbmdUYWJzKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBjb25uZWN0ZWRBY2NvdW50SWRcbiAgICAgICAgPyBgL2FwaS9jb21wb3Npby9zaGVldC10YWJzP3NwcmVhZHNoZWV0SWQ9JHtzcHJlYWRzaGVldElkfSZjb25uZWN0ZWRBY2NvdW50SWQ9JHtjb25uZWN0ZWRBY2NvdW50SWR9YFxuICAgICAgICA6IGAvYXBpL2NvbXBvc2lvL3NoZWV0LXRhYnM/c3ByZWFkc2hlZXRJZD0ke3NwcmVhZHNoZWV0SWR9JnVzZXJJZD1hbm9ueW1vdXNgO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSkgYXMgeyB0YWJzPzogQXJyYXk8eyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfT47IGVycm9yPzogc3RyaW5nIH07XG4gICAgICBjb25zb2xlLmxvZyhcIkxvYWQgdGFicyByZXNwb25zZTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHRhYnMgPSBkYXRhLnRhYnMgPz8gW3sgaWQ6IDAsIG5hbWU6IFwiU2hlZXQxXCIgfV07XG4gICAgICBzZXRBdmFpbGFibGVUYWJzKHRhYnMpO1xuICAgICAgXG4gICAgICAvLyBTZWxlY3QgZmlyc3QgdGFiIGlmIG5vdCBhbHJlYWR5IHNlbGVjdGVkIG9yIGN1cnJlbnQgc2VsZWN0aW9uIGRvZXNuJ3QgZXhpc3RcbiAgICAgIGlmICh0YWJzLmxlbmd0aCA+IDAgJiYgIXRhYnMuZmluZCgodCkgPT4gdC5uYW1lID09PSBzZWxlY3RlZFRhYikpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRUYWIodGFic1swXS5uYW1lKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBzaGVldCB0YWJzOlwiLCBlcnIpO1xuICAgICAgc2V0QXZhaWxhYmxlVGFicyhbeyBpZDogMCwgbmFtZTogXCJTaGVldDFcIiB9XSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmdUYWJzKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRTaGVldFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgYmFzZVN0YXRlUmVmLmN1cnJlbnQgPSBpbml0aWFsU3RhdGU7XG4gICAgc2V0VmFsaWRhdGlvbklzc3VlcyhbXSk7XG4gICAgc2V0U2hlZXRJZElucHV0KHNoZWV0SWQpO1xuICB9LCBbaW5pdGlhbFN0YXRlXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0aE1vZGUgPT09IFwic2VydmljZVwiICYmIGlzUmVhbFNoZWV0SWQoc2hlZXRJZCkpIHtcbiAgICAgIHZvaWQgbG9hZFNoZWV0RGF0YSgpO1xuICAgIH1cbiAgICAvLyBGb3Igb2F1dGggbW9kZSwgd2UnbGwgbG9hZCBkYXRhIHZpYSBDb21wb3NpbyBhZnRlciBjb25uZWN0aW9uIGNoZWNrXG4gICAgLy8gRG9uJ3QgdXNlIG9sZCBvYXV0aCB0b2tlbnMgcGF0aFxuICB9LCBbYXV0aE1vZGUsIHNoZWV0SWRdKTtcblxuICAvLyBMb2FkIHNoZWV0IHRhYnMgd2hlbiBzcHJlYWRzaGVldCBjaGFuZ2VzIGFuZCB3ZSBoYXZlIGEgY29ubmVjdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdXRoTW9kZSA9PT0gXCJvYXV0aFwiICYmIGNvbXBvc2lvQ29ubmVjdGVkICYmIGlzUmVhbFNoZWV0SWQoc2hlZXRJZCkgJiYgY29tcG9zaW9BY2NvdW50SWQpIHtcbiAgICAgIGxvYWRTaGVldFRhYnMoc2hlZXRJZCwgY29tcG9zaW9BY2NvdW50SWQpO1xuICAgIH1cbiAgfSwgW2F1dGhNb2RlLCBjb21wb3Npb0Nvbm5lY3RlZCwgc2hlZXRJZCwgY29tcG9zaW9BY2NvdW50SWRdKTtcblxuICBjb25zdCBwZW5kaW5nQ291bnQgPSBzaGVldFN0YXRlLnBlbmRpbmdPcHMubGVuZ3RoO1xuXG4gIGNvbnN0IGhhbmRsZUNlbGxDb21taXQgPSAoXG4gICAgcm93SWQ6IHN0cmluZyxcbiAgICBjb2x1bW5JZDogc3RyaW5nLFxuICAgIG9sZFZhbHVlOiBzdHJpbmcsXG4gICAgbmV3VmFsdWU6IHN0cmluZyxcbiAgKSA9PiB7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIGNvbnN0IG9wOiBFZGl0T3BlcmF0aW9uID0ge1xuICAgICAgaWQ6IGBvcC0ke0RhdGUubm93KCl9YCxcbiAgICAgIHR5cGU6IFwiY2VsbF91cGRhdGVcIixcbiAgICAgIHJvd0lkLFxuICAgICAgY29sdW1uSWQsXG4gICAgICBvbGRWYWx1ZSxcbiAgICAgIG5ld1ZhbHVlLFxuICAgICAgYXV0aG9yOiBcInVzZXJcIixcbiAgICB9O1xuXG4gICAgc2V0U2hlZXRTdGF0ZSgocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICByb3dzOiBwcmV2LnJvd3MubWFwKChyb3cpID0+XG4gICAgICAgIHJvdy5pZCA9PT0gcm93SWRcbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgLi4ucm93LFxuICAgICAgICAgICAgICBjZWxsczogeyAuLi5yb3cuY2VsbHMsIFtjb2x1bW5JZF06IG5ld1ZhbHVlIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiByb3csXG4gICAgICApLFxuICAgICAgcGVuZGluZ09wczogWy4uLnByZXYucGVuZGluZ09wcywgb3BdLFxuICAgIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBcHBseSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcImhhbmRsZUFwcGx5IGNhbGxlZDpcIiwgeyBcbiAgICAgIHBlbmRpbmdPcHM6IHNoZWV0U3RhdGUucGVuZGluZ09wcy5sZW5ndGgsIFxuICAgICAgYXV0aE1vZGUsIFxuICAgICAgY29tcG9zaW9Db25uZWN0ZWQsXG4gICAgICBjb21wb3Npb0FjY291bnRJZCBcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoc2hlZXRTdGF0ZS5wZW5kaW5nT3BzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc29sZS5sb2coXCJObyBwZW5kaW5nIG9wcywgcmV0dXJuaW5nIGVhcmx5XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBdXRoRXJyb3IobnVsbCk7XG5cbiAgICAvLyBJZiB1c2luZyBDb21wb3NpbyBPQXV0aCwgdXNlIHRoZSBQdXNoIGZsb3cgaW5zdGVhZFxuICAgIGlmIChhdXRoTW9kZSA9PT0gXCJvYXV0aFwiICYmIGNvbXBvc2lvQ29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIENvbXBvc2lvIFB1c2ggZmxvdy4uLlwiKTtcbiAgICAgIGF3YWl0IGhhbmRsZVB1c2goKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgT0F1dGggZmxvdyAoZGlyZWN0IE9BdXRoIHRva2VucylcbiAgICBpZiAoYXV0aE1vZGUgPT09IFwib2F1dGhcIiAmJiAhb2F1dGhUb2tlbnMpIHtcbiAgICAgIHNldEF1dGhFcnJvcihcIkNvbm5lY3QgeW91ciBHb29nbGUgYWNjb3VudCBmaXJzdC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL3NoZWV0cy9leGVjdXRlXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc2hlZXRJZCxcbiAgICAgICAgICBvcHM6IHNoZWV0U3RhdGUucGVuZGluZ09wcyxcbiAgICAgICAgICBtb2RlOiBhdXRoTW9kZSxcbiAgICAgICAgICBvYXV0aFRva2VuczogYXV0aE1vZGUgPT09IFwib2F1dGhcIiA/IG9hdXRoVG9rZW5zIDogdW5kZWZpbmVkLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IChhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkpIGFzIHtcbiAgICAgICAgICBlcnJvcj86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgc2V0QXV0aEVycm9yKGVyci5lcnJvciA/PyBcIkV4ZWN1dGlvbiBmYWlsZWQuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFwcGxpZWQgPSBhcHBseU9wc1RvU3RhdGUoXG4gICAgICAgIGJhc2VTdGF0ZVJlZi5jdXJyZW50LFxuICAgICAgICBzaGVldFN0YXRlLnBlbmRpbmdPcHMsXG4gICAgICApO1xuICAgICAgYmFzZVN0YXRlUmVmLmN1cnJlbnQgPSB7IC4uLmFwcGxpZWQsIHBlbmRpbmdPcHM6IFtdIH07XG4gICAgICBzZXRTaGVldFN0YXRlKHsgLi4uYXBwbGllZCwgcGVuZGluZ09wczogW10gfSk7XG4gICAgICBzZXRWYWxpZGF0aW9uSXNzdWVzKFtdKTtcbiAgICAgIHNldElzRGlmZk9wZW4oZmFsc2UpO1xuICAgICAgc2V0TGFzdFN5bmNlZEF0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEF1dGhFcnJvcihcIk5ldHdvcmsgZXJyb3Igd2hpbGUgc3luY2luZy5cIik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURpc2NhcmQgPSAoKSA9PiB7XG4gICAgc2V0U2hlZXRTdGF0ZSh7IC4uLmJhc2VTdGF0ZVJlZi5jdXJyZW50LCBwZW5kaW5nT3BzOiBbXSB9KTtcbiAgICBzZXRWYWxpZGF0aW9uSXNzdWVzKFtdKTtcbiAgICBzZXRJc0RpZmZPcGVuKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVBZ2VudE9wcyA9IChvcHM6IEVkaXRPcGVyYXRpb25bXSkgPT4ge1xuICAgIGlmICghb3BzLmxlbmd0aCkgcmV0dXJuO1xuICAgIHNldFNoZWV0U3RhdGUoKHByZXYpID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgcGVuZGluZ09wczogWy4uLnByZXYucGVuZGluZ09wcywgLi4ub3BzXSxcbiAgICB9KSk7XG4gICAgc2V0SXNEaWZmT3Blbih0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVUb29sT3BzID0gKG9wczogRWRpdE9wZXJhdGlvbltdKSA9PiB7XG4gICAgaWYgKCFvcHMubGVuZ3RoKSByZXR1cm47XG4gICAgc2V0U2hlZXRTdGF0ZSgocHJldikgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBwZW5kaW5nT3BzOiBbLi4ucHJldi5wZW5kaW5nT3BzLCAuLi5vcHNdLFxuICAgIH0pKTtcbiAgICBzZXRJc0RpZmZPcGVuKHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVZhbGlkYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzc3VlcyA9IHZhbGlkYXRlUm93cyhzaGVldFN0YXRlLmNvbHVtbnMsIHNoZWV0U3RhdGUucm93cyk7XG4gICAgc2V0VmFsaWRhdGlvbklzc3Vlcyhpc3N1ZXMpO1xuICAgIHNldElzRGlmZk9wZW4odHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRDb25uZWN0aW5nKHRydWUpO1xuICAgIHNldEF1dGhFcnJvcihudWxsKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbXBvc2lvL2Nvbm5lY3Rpb25cIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VySWQ6IFwiYW5vbnltb3VzXCIsXG4gICAgICAgICAgYXBwOiBcImdvb2dsZV9zaGVldHNcIixcbiAgICAgICAgICByZWRpcmVjdFVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIHsgXG4gICAgICAgIHJlZGlyZWN0VXJsPzogc3RyaW5nOyBcbiAgICAgICAgZXJyb3I/OiBzdHJpbmc7IFxuICAgICAgICBkZXRhaWxzPzogdW5rbm93bjtcbiAgICAgICAgb2s/OiBib29sZWFuO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0IHJlc3BvbnNlOlwiLCBkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgc2V0QXV0aEVycm9yKGBDb25uZWN0aW9uIGZhaWxlZDogJHtkYXRhLmVycm9yfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChkYXRhLnJlZGlyZWN0VXJsKSB7XG4gICAgICAgIC8vIFJlZGlyZWN0IHRvIEdvb2dsZSBPQXV0aCBwYWdlXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5yZWRpcmVjdFVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEF1dGhFcnJvcihcIk5vIHJlZGlyZWN0IFVSTCByZXR1cm5lZC4gQ2hlY2sgQ29tcG9zaW8gc2V0dXAuXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ29ubmVjdCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgc2V0QXV0aEVycm9yKFwiRmFpbGVkIHRvIGNvbm5lY3QgdG8gR29vZ2xlIFNoZWV0cy5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldENvbm5lY3RpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzbHVnaWZ5ID0gKHZhbHVlOiBzdHJpbmcpID0+XG4gICAgdmFsdWVcbiAgICAgIC50cmltKClcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCBcIl9cIilcbiAgICAgIC5yZXBsYWNlKC9eXyt8XyskL2csIFwiXCIpO1xuXG4gIGNvbnN0IGlzUmVhbFNoZWV0SWQgPSAodmFsdWU6IHN0cmluZykgPT5cbiAgICB2YWx1ZSAhPT0gXCJzYW1wbGVcIiAmJiB2YWx1ZSAhPT0gXCJuZXdcIiAmJiB2YWx1ZS50cmltKCkubGVuZ3RoID4gNTtcblxuICBjb25zdCBsb2FkU2hlZXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNSZWFsU2hlZXRJZChzaGVldElkKSkge1xuICAgICAgc2V0QXV0aEVycm9yKFwiRW50ZXIgYSByZWFsIEdvb2dsZSBTaGVldCBJRCB0byBzeW5jLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U3luY2luZyh0cnVlKTtcbiAgICBzZXRBdXRoRXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL3NoZWV0cy9yZWFkXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc2hlZXRJZCxcbiAgICAgICAgICBtb2RlOiBhdXRoTW9kZSxcbiAgICAgICAgICBvYXV0aFRva2VuczogYXV0aE1vZGUgPT09IFwib2F1dGhcIiA/IG9hdXRoVG9rZW5zIDogdW5kZWZpbmVkLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IChhd2FpdCByZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSkpIGFzIHtcbiAgICAgICAgICBlcnJvcj86IHN0cmluZztcbiAgICAgICAgfTtcbiAgICAgICAgc2V0QXV0aEVycm9yKGVyci5lcnJvciA/PyBcIlJlYWQgZmFpbGVkLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXlsb2FkID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMge1xuICAgICAgICBvazogYm9vbGVhbjtcbiAgICAgICAgcmVzdWx0OiB7IHZhbHVlczogc3RyaW5nW11bXSB9O1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHBheWxvYWQucmVzdWx0LnZhbHVlcyA/PyBbXTtcbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHZhbHVlc1swXTtcbiAgICAgIGNvbnN0IGNvbHVtbnM6IENvbHVtbltdID0gaGVhZGVyUm93Lm1hcCgobGFiZWwsIGlkeCkgPT4gKHtcbiAgICAgICAgaWQ6IHNsdWdpZnkobGFiZWwpIHx8IGBjb2xfJHtpZHggKyAxfWAsXG4gICAgICAgIGxhYmVsOiBsYWJlbCB8fCBgQ29sdW1uICR7aWR4ICsgMX1gLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCByb3dzOiBSb3dbXSA9IHZhbHVlcy5zbGljZSgxKS5tYXAoKHJvdywgcm93SW5kZXgpID0+ICh7XG4gICAgICAgIGlkOiBgciR7cm93SW5kZXggKyAxfWAsXG4gICAgICAgIGNlbGxzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgY29sdW1ucy5tYXAoKGNvbCwgY29sSW5kZXgpID0+IFtjb2wuaWQsIHJvd1tjb2xJbmRleF0gPz8gXCJcIl0pLFxuICAgICAgICApLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBuZXh0U3RhdGU6IFNoZWV0U3RhdGUgPSB7IGNvbHVtbnMsIHJvd3MsIHBlbmRpbmdPcHM6IFtdIH07XG4gICAgICBiYXNlU3RhdGVSZWYuY3VycmVudCA9IG5leHRTdGF0ZTtcbiAgICAgIHNldFNoZWV0U3RhdGUobmV4dFN0YXRlKTtcbiAgICAgIHNldFZhbGlkYXRpb25Jc3N1ZXMoW10pO1xuICAgICAgc2V0TGFzdFN5bmNlZEF0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEF1dGhFcnJvcihcIkZhaWxlZCB0byBsb2FkIHNoZWV0IGRhdGEuXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRTeW5jaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHVsbDogRmV0Y2ggbGF0ZXN0IGRhdGEgZnJvbSBHb29nbGUgU2hlZXRzIHZpYSBDb21wb3Npb1xuICBjb25zdCBoYW5kbGVQdWxsID0gYXN5bmMgKGFjY291bnRJZE92ZXJyaWRlPzogc3RyaW5nLCB0YWJOYW1lT3ZlcnJpZGU/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB0YXJnZXRTaGVldElkID0gc2VsZWN0ZWRTaGVldD8uaWQgfHwgc2hlZXRJZDtcbiAgICBjb25zdCBhY2NvdW50SWQgPSBhY2NvdW50SWRPdmVycmlkZSB8fCBjb21wb3Npb0FjY291bnRJZDtcbiAgICBjb25zdCB0YWJOYW1lID0gdGFiTmFtZU92ZXJyaWRlIHx8IHNlbGVjdGVkVGFiO1xuICAgIGlmICghaXNSZWFsU2hlZXRJZCh0YXJnZXRTaGVldElkKSkge1xuICAgICAgc2V0QXV0aEVycm9yKFwiU2VsZWN0IGEgc2hlZXQgZmlyc3QuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTeW5jaW5nKHRydWUpO1xuICAgIHNldEF1dGhFcnJvcihudWxsKTtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIHRhYiBuYW1lIGluIHJhbmdlIChlLmcuLCBcIlNoZWV0MSFBMTpaMTAwMFwiKVxuICAgICAgY29uc3QgcmFuZ2UgPSBgJHt0YWJOYW1lfSFBMTpaMTAwMGA7XG4gICAgICBjb25zb2xlLmxvZyhcIlB1bGxpbmcgZnJvbSByYW5nZTpcIiwgcmFuZ2UpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCIvYXBpL2NvbXBvc2lvL3NoZWV0c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHVzZXJJZDogXCJhbm9ueW1vdXNcIixcbiAgICAgICAgICBzaGVldElkOiB0YXJnZXRTaGVldElkLFxuICAgICAgICAgIGNvbm5lY3RlZEFjY291bnRJZDogYWNjb3VudElkLFxuICAgICAgICAgIHJhbmdlLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIHsgdmFsdWVzPzogc3RyaW5nW11bXTsgZXJyb3I/OiBzdHJpbmcgfTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgc2V0QXV0aEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEudmFsdWVzID8/IFtdO1xuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2V0QXV0aEVycm9yKFwiU2hlZXQgaXMgZW1wdHkuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGhlYWRlclJvdyA9IHZhbHVlc1swXTtcbiAgICAgIGNvbnN0IGNvbHVtbnM6IENvbHVtbltdID0gaGVhZGVyUm93Lm1hcCgobGFiZWwsIGlkeCkgPT4gKHtcbiAgICAgICAgaWQ6IHNsdWdpZnkobGFiZWwpIHx8IGBjb2xfJHtpZHggKyAxfWAsXG4gICAgICAgIGxhYmVsOiBsYWJlbCB8fCBgQ29sdW1uICR7aWR4ICsgMX1gLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCByb3dzOiBSb3dbXSA9IHZhbHVlcy5zbGljZSgxKS5tYXAoKHJvdywgcm93SW5kZXgpID0+ICh7XG4gICAgICAgIGlkOiBgciR7cm93SW5kZXggKyAxfWAsXG4gICAgICAgIGNlbGxzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgY29sdW1ucy5tYXAoKGNvbCwgY29sSW5kZXgpID0+IFtjb2wuaWQsIHJvd1tjb2xJbmRleF0gPz8gXCJcIl0pLFxuICAgICAgICApLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBuZXh0U3RhdGU6IFNoZWV0U3RhdGUgPSB7IGNvbHVtbnMsIHJvd3MsIHBlbmRpbmdPcHM6IFtdIH07XG4gICAgICBiYXNlU3RhdGVSZWYuY3VycmVudCA9IG5leHRTdGF0ZTtcbiAgICAgIHNldFNoZWV0U3RhdGUobmV4dFN0YXRlKTtcbiAgICAgIHNldFZhbGlkYXRpb25Jc3N1ZXMoW10pO1xuICAgICAgc2V0TGFzdFN5bmNlZEF0KG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJQdWxsIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgc2V0QXV0aEVycm9yKFwiRmFpbGVkIHRvIHB1bGwgc2hlZXQgZGF0YS5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN5bmNpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBQdXNoOiBTZW5kIHBlbmRpbmcgY2hhbmdlcyB0byBHb29nbGUgU2hlZXRzIHZpYSBDb21wb3Npb1xuICBjb25zdCBoYW5kbGVQdXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldFNoZWV0SWQgPSBzZWxlY3RlZFNoZWV0Py5pZCB8fCBzaGVldElkO1xuICAgIGNvbnNvbGUubG9nKFwiUHVzaCBzdGFydGVkOlwiLCB7IHRhcmdldFNoZWV0SWQsIGNvbXBvc2lvQWNjb3VudElkLCBzZWxlY3RlZFRhYiwgcGVuZGluZ09wczogc2hlZXRTdGF0ZS5wZW5kaW5nT3BzLmxlbmd0aCB9KTtcbiAgICBcbiAgICBpZiAoIWlzUmVhbFNoZWV0SWQodGFyZ2V0U2hlZXRJZCkpIHtcbiAgICAgIHNldEF1dGhFcnJvcihcIlNlbGVjdCBhIHNoZWV0IGZpcnN0LlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoZWV0U3RhdGUucGVuZGluZ09wcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldEF1dGhFcnJvcihcIk5vIGNoYW5nZXMgdG8gcHVzaC5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldFB1c2hpbmcodHJ1ZSk7XG4gICAgc2V0QXV0aEVycm9yKG51bGwpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBBcHBseSBwZW5kaW5nIG9wcyB0byBnZXQgdGhlIGZpbmFsIHN0YXRlIHRvIHB1c2hcbiAgICAgIGNvbnN0IHN0YXRlVG9zUHVzaCA9IHNoZWV0U3RhdGUucGVuZGluZ09wcy5sZW5ndGggPiAwXG4gICAgICAgID8gYXBwbHlPcHNUb1N0YXRlKGJhc2VTdGF0ZVJlZi5jdXJyZW50LCBzaGVldFN0YXRlLnBlbmRpbmdPcHMpXG4gICAgICAgIDogc2hlZXRTdGF0ZTtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCBzdGF0ZSB0byAyRCBhcnJheSBmb3IgZnVsbCBwdXNoXG4gICAgICBjb25zdCBoZWFkZXJSb3cgPSBzdGF0ZVRvc1B1c2guY29sdW1ucy5tYXAoKGNvbCkgPT4gY29sLmxhYmVsKTtcbiAgICAgIGNvbnN0IGRhdGFSb3dzID0gc3RhdGVUb3NQdXNoLnJvd3MubWFwKChyb3cpID0+XG4gICAgICAgIHN0YXRlVG9zUHVzaC5jb2x1bW5zLm1hcCgoY29sKSA9PiByb3cuY2VsbHNbY29sLmlkXSA/PyBcIlwiKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGZ1bGxEYXRhID0gW2hlYWRlclJvdywgLi4uZGF0YVJvd3NdO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIlB1c2hpbmcgZGF0YTpcIiwgeyByb3dzOiBmdWxsRGF0YS5sZW5ndGgsIGNvbHM6IGZ1bGxEYXRhWzBdPy5sZW5ndGgsIHNoZWV0TmFtZTogc2VsZWN0ZWRUYWIgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiL2FwaS9jb21wb3Npby9wdXNoXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlcklkOiBcImFub255bW91c1wiLFxuICAgICAgICAgIHNoZWV0SWQ6IHRhcmdldFNoZWV0SWQsXG4gICAgICAgICAgc2hlZXROYW1lOiBzZWxlY3RlZFRhYixcbiAgICAgICAgICBjb25uZWN0ZWRBY2NvdW50SWQ6IGNvbXBvc2lvQWNjb3VudElkLFxuICAgICAgICAgIGZ1bGxEYXRhLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIHsgb2s/OiBib29sZWFuOyBlcnJvcj86IHN0cmluZzsgdXBkYXRlZD86IG51bWJlcjsgZGV0YWlscz86IHN0cmluZyB9O1xuICAgICAgY29uc29sZS5sb2coXCJQdXNoIHJlc3BvbnNlOlwiLCBkYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgc2V0QXV0aEVycm9yKGRhdGEuZXJyb3IgKyAoZGF0YS5kZXRhaWxzID8gYDogJHtkYXRhLmRldGFpbHN9YCA6IFwiXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgYmFzZSBzdGF0ZSBhbmQgY3VycmVudCBzdGF0ZSB0byB0aGUgcHVzaGVkIHN0YXRlXG4gICAgICBiYXNlU3RhdGVSZWYuY3VycmVudCA9IHsgLi4uc3RhdGVUb3NQdXNoLCBwZW5kaW5nT3BzOiBbXSB9O1xuICAgICAgc2V0U2hlZXRTdGF0ZSh7IC4uLnN0YXRlVG9zUHVzaCwgcGVuZGluZ09wczogW10gfSk7XG4gICAgICBzZXRJc0RpZmZPcGVuKGZhbHNlKTtcbiAgICAgIHNldExhc3RTeW5jZWRBdChuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiUHVzaCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHNldEF1dGhFcnJvcihcIkZhaWxlZCB0byBwdXNoIGNoYW5nZXMuXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRQdXNoaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIHNoZWV0IHNlbGVjdGlvbiBmcm9tIGRyb3Bkb3duXG4gIGNvbnN0IGhhbmRsZVNoZWV0U2VsZWN0ID0gKHNoZWV0OiB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRTaGVldChzaGVldCk7XG4gICAgc2V0U2hlZXRJZElucHV0KHNoZWV0LmlkKTtcbiAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgc2hlZXRcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvc2hlZXQvJHtzaGVldC5pZH1gO1xuICB9O1xuXG4gIGNvbnN0IHByZXZpZXdTdGF0ZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChzaGVldFN0YXRlLnBlbmRpbmdPcHMubGVuZ3RoID09PSAwKSByZXR1cm4gc2hlZXRTdGF0ZTtcbiAgICByZXR1cm4gYXBwbHlPcHNUb1N0YXRlKGJhc2VTdGF0ZVJlZi5jdXJyZW50LCBzaGVldFN0YXRlLnBlbmRpbmdPcHMpO1xuICB9LCBbc2hlZXRTdGF0ZS5wZW5kaW5nT3BzLCBzaGVldFN0YXRlLCBiYXNlU3RhdGVSZWZdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLXdoaXRlIHRleHQtYmxhY2sgYW50aWFsaWFzZWRcIj5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvIHB4LTEgcHktMTJcIj5cbiAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJtYi02IGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTRcIj5cbiAgICAgICAgICA8bmF2PlxuICAgICAgICAgICAgPGEgaHJlZj1cIi9cIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHVuZGVybGluZVwiIGFyaWEtbGFiZWw9XCJCYWNrXCI+XG4gICAgICAgICAgICAgIEJhY2tcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L25hdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5Nb2RlPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBwLTFcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU3dpdGNoIHRvIEFnZW50IG1vZGVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIHJvdW5kZWQgJHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZSA9PT0gXCJhZ2VudFwiID8gXCJiZy1ibGFjayB0ZXh0LXdoaXRlXCIgOiBcInRleHQtYmxhY2tcIlxuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNb2RlKFwiYWdlbnRcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQWdlbnRcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU3dpdGNoIHRvIE1hbnVhbCBtb2RlXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSByb3VuZGVkICR7XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPT09IFwibWFudWFsXCIgPyBcImJnLWJsYWNrIHRleHQtd2hpdGVcIiA6IFwidGV4dC1ibGFja1wiXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE1vZGUoXCJtYW51YWxcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTWFudWFsXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QXV0aE1vZGVUb2dnbGVcbiAgICAgICAgICAgICAgbW9kZT17YXV0aE1vZGV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtzZXRBdXRoTW9kZX1cbiAgICAgICAgICAgICAgY29ubmVjdGluZz17Y29ubmVjdGluZ31cbiAgICAgICAgICAgICAgY29ubmVjdGVkPXshIW9hdXRoVG9rZW5zfVxuICAgICAgICAgICAgICBvbkNvbm5lY3Q9e2hhbmRsZUNvbm5lY3R9XG4gICAgICAgICAgICAgIGVycm9yPXthdXRoTW9kZSA9PT0gXCJvYXV0aFwiID8gYXV0aEVycm9yIDogbnVsbH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvaGVhZGVyPlxuICAgICAgICB7YXV0aE1vZGUgPT09IFwic2VydmljZVwiICYmIGF1dGhFcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHRleHQtc20gdGV4dC1yZWQtNjAwXCI+e2F1dGhFcnJvcn08L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtc3RyZXRjaCBnYXAtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LW1lZGl1bVwiPlNoZWV0IFByZXZpZXc8L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIHRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+QmFja3VwIGNyZWF0ZWQ6IGJhY2t1cF9ZWVlZTU1ERDwvZGl2PlxuICAgICAgICAgICAgICAgICAge2xhc3RTeW5jZWRBdCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+TGFzdCBzeW5jZWQ6IHtuZXcgRGF0ZShsYXN0U3luY2VkQXQpLnRvTG9jYWxlVGltZVN0cmluZygpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9oZWFkZXI+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgIHtwZW5kaW5nQ291bnQgPT09IDBcbiAgICAgICAgICAgICAgICAgICAgPyBcIk5vIHBlbmRpbmcgY2hhbmdlc1wiXG4gICAgICAgICAgICAgICAgICAgIDogYCR7cGVuZGluZ0NvdW50fSBwZW5kaW5nIGNoYW5nZXNgfVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICB7cGVuZGluZ0NvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUHJldmlldyBjaGFuZ2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0xLjVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRGlmZk9wZW4odHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBQcmV2aWV3IGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQXBwbHkgcGVuZGluZyBjaGFuZ2VzXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJnLWJsYWNrIHB4LTMgcHktMS41IHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFwcGx5fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQXBwbHlcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRGlzY2FyZCBwZW5kaW5nIGNoYW5nZXNcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0zIHB5LTEuNVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRGlzY2FyZH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIERpc2NhcmRcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgIHsvKiBTaGVldCBzZWxlY3RvciAtIHNob3dzIHdoZW4gY29ubmVjdGVkIHZpYSBDb21wb3NpbyAqL31cbiAgICAgICAgICAgICAgICB7YXV0aE1vZGUgPT09IFwib2F1dGhcIiAmJiBjb21wb3Npb0Nvbm5lY3RlZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IHNoZWV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTY0IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0yIHB5LTEuNSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRTaGVldD8uaWQgfHwgc2hlZXRJZH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNoZWV0ID0gYXZhaWxhYmxlU2hlZXRzLmZpbmQoKHMpID0+IHMuaWQgPT09IGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGVldCkgaGFuZGxlU2hlZXRTZWxlY3Qoc2hlZXQpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmdTaGVldHN9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9hZGluZ1NoZWV0cyA/IFwiTG9hZGluZyBzaGVldHMuLi5cIiA6IFwiU2VsZWN0IGEgc2hlZXQuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICB7YXZhaWxhYmxlU2hlZXRzLm1hcCgoc2hlZXQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtzaGVldC5pZH0gdmFsdWU9e3NoZWV0LmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3NoZWV0Lm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVmcmVzaCBzaGVldHMgbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTIgcHktMS41XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBsb2FkQXZhaWxhYmxlU2hlZXRzKCl9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmdTaGVldHN9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICDihrtcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIFRhYiAod29ya3NoZWV0KSBzZWxlY3RvciAtIHNob3dzIHdoZW4gYSBzaGVldCBpcyBsb2FkZWQgKi99XG4gICAgICAgICAgICAgICAge2F1dGhNb2RlID09PSBcIm9hdXRoXCIgJiYgY29tcG9zaW9Db25uZWN0ZWQgJiYgaXNSZWFsU2hlZXRJZChzZWxlY3RlZFNoZWV0Py5pZCB8fCBzaGVldElkKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5UYWI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlNlbGVjdCB3b3Jrc2hlZXQgdGFiXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQwIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC0yIHB5LTEuNSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRUYWJ9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhYihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQdWxsIGRhdGEgZnJvbSB0aGUgbmV3IHRhYlxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUHVsbChjb21wb3Npb0FjY291bnRJZCA/PyB1bmRlZmluZWQsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nVGFic31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nVGFicyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5Mb2FkaW5nIHRhYnMuLi48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogYXZhaWxhYmxlVGFicy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiU2hlZXQxXCI+U2hlZXQxPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVRhYnMubWFwKCh0YWIpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3RhYi5pZH0gdmFsdWU9e3RhYi5uYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGFiLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZWZyZXNoIHRhYnMgbGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTIgcHktMS41XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBsb2FkU2hlZXRUYWJzKHNlbGVjdGVkU2hlZXQ/LmlkIHx8IHNoZWV0SWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nVGFic31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIOKGu1xuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogTWFudWFsIHNoZWV0IElEIGlucHV0IC0gc2hvd3Mgd2hlbiBub3QgdXNpbmcgQ29tcG9zaW8gKi99XG4gICAgICAgICAgICAgICAgeyhhdXRoTW9kZSA9PT0gXCJzZXJ2aWNlXCIgfHwgIWNvbXBvc2lvQ29ubmVjdGVkKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTaGVldCBJRFwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy02NCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMiBweS0xLjUgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXN0ZSBHb29nbGUgU2hlZXQgSURcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzaGVldElkSW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTaGVldElkSW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkdvIHRvIHNoZWV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtMyBweS0xLjVcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGVldElkSW5wdXQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9zaGVldC8ke3NoZWV0SWRJbnB1dC50cmltKCl9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgR29cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIFB1bGwgYnV0dG9uIChzeW5jIGZyb20gR29vZ2xlKSAqL31cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUHVsbCBmcm9tIEdvb2dsZSBTaGVldHNcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMS41IGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGF1dGhNb2RlID09PSBcIm9hdXRoXCIgJiYgY29tcG9zaW9Db25uZWN0ZWQgPyBoYW5kbGVQdWxsKCkgOiBsb2FkU2hlZXREYXRhKCl9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3luY2luZ31cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7ihpM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7c3luY2luZyA/IFwiUHVsbGluZy4uLlwiIDogXCJQdWxsXCJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICB7LyogUHVzaCBidXR0b24gKHNlbmQgdG8gR29vZ2xlKSAqL31cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUHVzaCB0byBHb29nbGUgU2hlZXRzXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtbWQgcHgtMyBweS0xLjUgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgJHtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0NvdW50ID4gMFxuICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ibGFjayB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiYm9yZGVyIGJvcmRlci1ncmF5LTMwMCB0ZXh0LWdyYXktNDAwXCJcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUHVzaH1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwdXNoaW5nIHx8IHBlbmRpbmdDb3VudCA9PT0gMH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj7ihpE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7cHVzaGluZyA/IFwiUHVzaGluZy4uLlwiIDogYFB1c2gke3BlbmRpbmdDb3VudCA+IDAgPyBgICgke3BlbmRpbmdDb3VudH0pYCA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIHthdXRoRXJyb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwXCI+e2F1dGhFcnJvcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IG1heC1oLVs0MjBweF0gb3ZlcmZsb3ctYXV0byByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICA8U2hlZXRQcmV2aWV3XG4gICAgICAgICAgICAgICAgICBtb2RlPXttb2RlfVxuICAgICAgICAgICAgICAgICAgY29sdW1ucz17c2hlZXRTdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgcm93cz17c2hlZXRTdGF0ZS5yb3dzfVxuICAgICAgICAgICAgICAgICAgb25DZWxsQ29tbWl0PXtoYW5kbGVDZWxsQ29tbWl0fVxuICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbklzc3Vlcz17dmFsaWRhdGlvbklzc3Vlc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZmxleCBmbGV4LXdyYXAgaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJPcGVuIGluIEdvb2dsZSBTaGVldHNcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgaHJlZj17YGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLyR7c2hlZXRJZH1gfVxuICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIE9wZW4gaW4gR29vZ2xlIFNoZWV0c1xuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICB7LyogVE9ETzogd2lyZSB1cCBTaGVldHMgQVBJICovfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEb3dubG9hZCBDU1ZcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTMgcHktMiB0ZXh0LXNtIHRleHQtZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIERvd25sb2FkIENTVlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgIDxUb29sc1BhbmVsXG4gICAgICAgICAgICAgICAgY29sdW1ucz17c2hlZXRTdGF0ZS5jb2x1bW5zfVxuICAgICAgICAgICAgICAgIHJvd3M9e3NoZWV0U3RhdGUucm93c31cbiAgICAgICAgICAgICAgICBvblByb3Bvc2VPcHM9e2hhbmRsZVRvb2xPcHN9XG4gICAgICAgICAgICAgICAgb25WYWxpZGF0ZT17aGFuZGxlVmFsaWRhdGV9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtZDp3LVs0MjBweF0gbWQ6c3RpY2t5IG1kOnRvcC02IG1kOmgtW2NhbGMoMTAwdmgtMTQwcHgpXSBzZWxmLXN0YXJ0XCI+XG4gICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgPEFnZW50U2lkZWJhclxuICAgICAgICAgICAgICAgIG1vZGU9e21vZGV9XG4gICAgICAgICAgICAgICAgcGVuZGluZ09wcz17c2hlZXRTdGF0ZS5wZW5kaW5nT3BzfVxuICAgICAgICAgICAgICAgIGNvbHVtbnM9e3NoZWV0U3RhdGUuY29sdW1uc31cbiAgICAgICAgICAgICAgICByb3dzPXtzaGVldFN0YXRlLnJvd3N9XG4gICAgICAgICAgICAgICAgc2hlZXRJZD17c2VsZWN0ZWRTaGVldD8uaWQgfHwgc2hlZXRJZH1cbiAgICAgICAgICAgICAgICBzaGVldE5hbWU9e3NlbGVjdGVkU2hlZXQ/Lm5hbWV9XG4gICAgICAgICAgICAgICAgdGFiTmFtZT17c2VsZWN0ZWRUYWJ9XG4gICAgICAgICAgICAgICAgdXNlcklkPVwiYW5vbnltb3VzXCJcbiAgICAgICAgICAgICAgICBvblByb3Bvc2VPcHM9e2hhbmRsZUFnZW50T3BzfVxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25Jc3N1ZXM9e3ZhbGlkYXRpb25Jc3N1ZXN9XG4gICAgICAgICAgICAgICAgb25QcmV2aWV3PXsoKSA9PiBzZXRJc0RpZmZPcGVuKHRydWUpfVxuICAgICAgICAgICAgICAgIG9uQWdlbnRDb21wbGV0ZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gQWdlbnQgY29tcGxldGVkIC0gb3BlcmF0aW9ucyBoYXZlIGJlZW4gcHJvcG9zZWRcbiAgICAgICAgICAgICAgICAgIC8vIFVzZXIgbXVzdCByZXZpZXcgYW5kIGNsaWNrIFB1c2ggdG8gYXBwbHkgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBZ2VudCBjb21wbGV0ZWQuIFBlbmRpbmcgb3BzIHJlYWR5IGZvciByZXZpZXcuXCIpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9tYWluPlxuXG4gICAgICB7aXNEaWZmT3BlbiAmJiAoXG4gICAgICAgIDxEaWZmVmlld2VyXG4gICAgICAgICAgc2hlZXRCZWZvcmU9e2Jhc2VTdGF0ZVJlZi5jdXJyZW50fVxuICAgICAgICAgIHNoZWV0QWZ0ZXI9e3ByZXZpZXdTdGF0ZX1cbiAgICAgICAgICBvcHM9e3NoZWV0U3RhdGUucGVuZGluZ09wc31cbiAgICAgICAgICB2YWxpZGF0aW9uSXNzdWVzPXt2YWxpZGF0aW9uSXNzdWVzfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzRGlmZk9wZW4oZmFsc2UpfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZVJlZiIsInVzZVN0YXRlIiwiQWdlbnRTaWRlYmFyIiwiQXV0aE1vZGVUb2dnbGUiLCJDYXJkIiwiRGlmZlZpZXdlciIsIlNoZWV0UHJldmlldyIsIlRvb2xzUGFuZWwiLCJNQVhfSU5GRVJfUk9XUyIsImluZmVyQ29sdW1uVHlwZSIsInJvd3MiLCJjb2x1bW5JZCIsInNhbXBsZSIsInNsaWNlIiwibWFwIiwicm93IiwiY2VsbHMiLCJ0cmltIiwiZW1haWxIaXRzIiwibnVtYmVySGl0cyIsImRhdGVIaXRzIiwic3RyaW5nSGl0cyIsImZvckVhY2giLCJ2YWx1ZSIsInRlc3QiLCJOdW1iZXIiLCJpc05hTiIsIkRhdGUiLCJwYXJzZSIsIk1hdGgiLCJtYXgiLCJ2YWxpZGF0ZVJvd3MiLCJjb2x1bW5zIiwiaXNzdWVzIiwiY29sdW1uIiwiaW5mZXJyZWQiLCJpZCIsInB1c2giLCJyb3dJZCIsIm1lc3NhZ2UiLCJhcHBseU9wc1RvU3RhdGUiLCJzdGF0ZSIsIm9wcyIsIm9wIiwidHlwZSIsImlzTmV3Um93Iiwic3RhcnRzV2l0aCIsImV4aXN0aW5nUm93IiwiZmluZCIsIm5ld1JvdyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwiY29sIiwibmV3VmFsdWUiLCJsYWJlbCIsImNvbHVtbkxhYmVsIiwiZmlsdGVyIiwibmV4dENlbGxzIiwiZGlyZWN0aW9uIiwic29ydCIsImEiLCJiIiwiYXYiLCJ0b1N0cmluZyIsImJ2IiwiY21wIiwibG9jYWxlQ29tcGFyZSIsInVuZGVmaW5lZCIsIm51bWVyaWMiLCJQYWdlIiwicGFyYW1zIiwic2hlZXRJZCIsIm1vZGUiLCJzZXRNb2RlIiwiYXV0aE1vZGUiLCJzZXRBdXRoTW9kZSIsInNhdmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIm9hdXRoVG9rZW5zIiwic2V0T2F1dGhUb2tlbnMiLCJjb25uZWN0aW5nIiwic2V0Q29ubmVjdGluZyIsImF1dGhFcnJvciIsInNldEF1dGhFcnJvciIsImxhc3RTeW5jZWRBdCIsInNldExhc3RTeW5jZWRBdCIsInN5bmNpbmciLCJzZXRTeW5jaW5nIiwicHVzaGluZyIsInNldFB1c2hpbmciLCJzaGVldElkSW5wdXQiLCJzZXRTaGVldElkSW5wdXQiLCJjb21wb3Npb0Nvbm5lY3RlZCIsInNldENvbXBvc2lvQ29ubmVjdGVkIiwiY29tcG9zaW9BY2NvdW50SWQiLCJzZXRDb21wb3Npb0FjY291bnRJZCIsImF2YWlsYWJsZVNoZWV0cyIsInNldEF2YWlsYWJsZVNoZWV0cyIsImxvYWRpbmdTaGVldHMiLCJzZXRMb2FkaW5nU2hlZXRzIiwic2VsZWN0ZWRTaGVldCIsInNldFNlbGVjdGVkU2hlZXQiLCJhdmFpbGFibGVUYWJzIiwic2V0QXZhaWxhYmxlVGFicyIsInNlbGVjdGVkVGFiIiwic2V0U2VsZWN0ZWRUYWIiLCJsb2FkaW5nVGFicyIsInNldExvYWRpbmdUYWJzIiwiaW5pdGlhbFN0YXRlIiwiYWxpZ24iLCJuYW1lIiwiZW1haWwiLCJhbW91bnQiLCJwZW5kaW5nT3BzIiwic2V0SXRlbSIsInNoZWV0U3RhdGUiLCJzZXRTaGVldFN0YXRlIiwiYmFzZVN0YXRlUmVmIiwidmFsaWRhdGlvbklzc3VlcyIsInNldFZhbGlkYXRpb25Jc3N1ZXMiLCJpc0RpZmZPcGVuIiwic2V0SXNEaWZmT3BlbiIsImNoZWNrQ29tcG9zaW9Db25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsInJlcyIsImZldGNoIiwiZGF0YSIsImpzb24iLCJjb25uZWN0ZWQiLCJjb25uZWN0ZWRBY2NvdW50SWQiLCJsb2FkQXZhaWxhYmxlU2hlZXRzIiwiaXNSZWFsU2hlZXRJZCIsImhhbmRsZVB1bGxXaXRoQWNjb3VudElkIiwiYWNjb3VudHMiLCJlcnIiLCJlcnJvciIsInRhcmdldFNoZWV0SWQiLCJhY2NvdW50SWQiLCJ0YWJOYW1lIiwicmFuZ2UiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VySWQiLCJkZWJ1ZyIsInZhbHVlcyIsImxlbmd0aCIsImhlYWRlclJvdyIsImlkeCIsInNsdWdpZnkiLCJyb3dJbmRleCIsImNvbEluZGV4IiwibmV4dFN0YXRlIiwiY3VycmVudCIsInRvSVNPU3RyaW5nIiwidXJsIiwic2hlZXRzIiwibG9hZFNoZWV0VGFicyIsInNwcmVhZHNoZWV0SWQiLCJ0YWJzIiwidCIsImxvYWRTaGVldERhdGEiLCJwZW5kaW5nQ291bnQiLCJoYW5kbGVDZWxsQ29tbWl0Iiwib2xkVmFsdWUiLCJub3ciLCJhdXRob3IiLCJwcmV2IiwiaGFuZGxlQXBwbHkiLCJoYW5kbGVQdXNoIiwicmVzcG9uc2UiLCJvayIsImNhdGNoIiwiYXBwbGllZCIsImhhbmRsZURpc2NhcmQiLCJoYW5kbGVBZ2VudE9wcyIsImhhbmRsZVRvb2xPcHMiLCJoYW5kbGVWYWxpZGF0ZSIsImhhbmRsZUNvbm5lY3QiLCJhcHAiLCJyZWRpcmVjdFVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsInBheWxvYWQiLCJyZXN1bHQiLCJoYW5kbGVQdWxsIiwiYWNjb3VudElkT3ZlcnJpZGUiLCJ0YWJOYW1lT3ZlcnJpZGUiLCJzdGF0ZVRvc1B1c2giLCJkYXRhUm93cyIsImZ1bGxEYXRhIiwiY29scyIsInNoZWV0TmFtZSIsImRldGFpbHMiLCJoYW5kbGVTaGVldFNlbGVjdCIsInNoZWV0IiwicHJldmlld1N0YXRlIiwiZGl2IiwiY2xhc3NOYW1lIiwibWFpbiIsImhlYWRlciIsIm5hdiIsImFyaWEtbGFiZWwiLCJzcGFuIiwiYnV0dG9uIiwib25DbGljayIsIm9uQ2hhbmdlIiwib25Db25uZWN0IiwiaDIiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJzZWxlY3QiLCJlIiwicyIsInRhcmdldCIsImRpc2FibGVkIiwib3B0aW9uIiwidGFiIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uQ2VsbENvbW1pdCIsInJlbCIsIm9uUHJvcG9zZU9wcyIsIm9uVmFsaWRhdGUiLCJvblByZXZpZXciLCJvbkFnZW50Q29tcGxldGUiLCJzaGVldEJlZm9yZSIsInNoZWV0QWZ0ZXIiLCJvbkNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/sheet/[sheetId]/page.tsx\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"732f50abfdd8\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvLi9hcHAvZ2xvYmFscy5jc3M/ZDBkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjczMmY1MGFiZmRkOFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/components/GlobalClickSpark.tsx":
/*!*********************************************!*\
  !*** ./app/components/GlobalClickSpark.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/aadit/sheet-ops/app/components/GlobalClickSpark.tsx#default`));


/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_GlobalClickSpark__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/GlobalClickSpark */ \"(rsc)/./app/components/GlobalClickSpark.tsx\");\n\n\n\nconst metadata = {\n    title: \"SheetOps - Automate Your Spreadsheet Tasks\",\n    description: \"AI-powered spreadsheet automation with Google Sheets integration\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GlobalClickSpark__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                children: children\n            }, void 0, false, {\n                fileName: \"/home/aadit/sheet-ops/app/layout.tsx\",\n                lineNumber: 18,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/aadit/sheet-ops/app/layout.tsx\",\n            lineNumber: 17,\n            columnNumber: 13\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/aadit/sheet-ops/app/layout.tsx\",\n        lineNumber: 16,\n        columnNumber: 9\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ3VCO0FBQ3NDO0FBRXRELE1BQU1DLFdBQXFCO0lBQzlCQyxPQUFPO0lBQ1BDLGFBQWE7QUFDakIsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFDL0JDLFFBQVEsRUFHWDtJQUNHLHFCQUNJLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNQLDRFQUFDQztzQkFDRyw0RUFBQ1Isb0VBQWdCQTswQkFBRUs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaGVldC1vcHMvLi9hcHAvbGF5b3V0LnRzeD85OTg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTWV0YWRhdGEgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuaW1wb3J0IEdsb2JhbENsaWNrU3BhcmsgZnJvbSBcIi4vY29tcG9uZW50cy9HbG9iYWxDbGlja1NwYXJrXCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YTogTWV0YWRhdGEgPSB7XG4gICAgdGl0bGU6IFwiU2hlZXRPcHMgLSBBdXRvbWF0ZSBZb3VyIFNwcmVhZHNoZWV0IFRhc2tzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQUktcG93ZXJlZCBzcHJlYWRzaGVldCBhdXRvbWF0aW9uIHdpdGggR29vZ2xlIFNoZWV0cyBpbnRlZ3JhdGlvblwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gICAgY2hpbGRyZW4sXG59OiB7XG4gICAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8aHRtbCBsYW5nPVwiZW5cIj5cbiAgICAgICAgICAgIDxib2R5PlxuICAgICAgICAgICAgICAgIDxHbG9iYWxDbGlja1NwYXJrPntjaGlsZHJlbn08L0dsb2JhbENsaWNrU3Bhcms+XG4gICAgICAgICAgICA8L2JvZHk+XG4gICAgICAgIDwvaHRtbD5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbIkdsb2JhbENsaWNrU3BhcmsiLCJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/sheet/[sheetId]/page.tsx":
/*!**************************************!*\
  !*** ./app/sheet/[sheetId]/page.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/home/aadit/sheet-ops/app/sheet/[sheetId]/page.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fsheet%2F%5BsheetId%5D%2Fpage&page=%2Fsheet%2F%5BsheetId%5D%2Fpage&appPaths=%2Fsheet%2F%5BsheetId%5D%2Fpage&pagePath=private-next-app-dir%2Fsheet%2F%5BsheetId%5D%2Fpage.tsx&appDir=%2Fhome%2Faadit%2Fsheet-ops%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Faadit%2Fsheet-ops&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();